!function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=336)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(8);null==i.a.Wistia&&(i.a.Wistia={});var o=i.a.Wistia;null==o._initializers&&(o._initializers={}),null==o._destructors&&(o._destructors={}),null==o.mixin&&(o.mixin=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}),e.default=i.a.Wistia},function(t,e,n){"use strict";function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"ERROR",function(){return a}),n.d(e,"WARNING",function(){return l}),n.d(e,"NOTICE",function(){return u}),n.d(e,"INFO",function(){return c}),n.d(e,"DEBUG",function(){return h}),n.d(e,"LOG_LEVELS",function(){return d}),n.d(e,"Logger",function(){return f}),n.d(e,"wlog",function(){return w});var o=n(4),r=n(0),s=Object(o.cachedDetect)(),a=0,l=1,u=2,c=3,h=4,d={ERROR:a,WARNING:l,NOTICE:u,INFO:c,DEBUG:h,error:a,warning:l,notice:u,info:c,debug:h},p=function(){},f=function(t){var e=this;return null==t&&(t={}),e.error=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.log(a,n)},e.warn=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.log(l,n)},e.notice=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.log(l,n)},e.info=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.log(c,n)},e.debug=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.log(h,n)},function(){e.ctx=t,e.ctx.initializedAt||e.reset()}(),e},m=f.prototype;m.reset=function(){this.ctx.level=a,this.ctx.grep=null,this.ctx.grepv=null,this.ctx.first1000LogLines=[],this.ctx.last1000LogLines=[],this.ctx.initializedAt=(new Date).getTime()},m.setLevel=function(t){var e=this.logFunc(c);null==d[t]?e('Unknown log level "'+t+'"'):(this.ctx.level=d[t],e('Log level set to "'+t+'" ('+d[t]+")"))},m.setGrep=function(t){this.ctx.grep=t},m.setGrepv=function(t){this.ctx.grepv=t},m.first1000LogLines=function(){return this.ctx.first1000LogLines},m.last1000LogLines=function(){return this.ctx.last1000LogLines},m.matchedGrep=function(t){var e=!1;if(this.ctx.grep||this.ctx.grepv){for(var n=[],i=0;i<t.length;i++)try{var o=t[i];n.push(o.toString&&o.toString())}catch(e){n.push("")}var r=n.join(" "),s=!this.ctx.grep||r.match(this.ctx.grep),a=!this.ctx.grepv||!r.match(this.ctx.grepv);e=s&&a}else e=!0;return e},m.now=function(){return"undefined"!=typeof performance&&"function"==typeof performance.now?performance.now().toFixed(3):Date.now?Date.now()-this.ctx.initializedAt:(new Date).getTime()-this.ctx.initializedAt},m.messagesToLogLine=function(t,e,n){var i=[t,e];i=i.concat(n);var o;try{o=i.join(" ")||"",200<o.length&&(o=o.slice(0,200))}catch(t){o="could not serialize"}return o},m.persistLine=function(t){1e3>this.ctx.first1000LogLines.length?this.ctx.first1000LogLines.push(t):(1e3<=this.ctx.last1000LogLines.length&&this.ctx.last1000LogLines.shift(),this.ctx.last1000LogLines.push(t))},m.log=function(t,e){var n,o=t<=this.ctx.level,r=t<h,a=(o||r)&&this.matchedGrep(e);if(a&&(o||r)&&(n=this.now()),r&&a){var l=this.messagesToLogLine(t,n,e);this.persistLine(l)}if(o&&a){var u,c=this.logFunc(t);1===e.length&&(u=e[0])instanceof Error?(c(u.message),u.stack&&c(u.stack)):s.browser.msie&&(9>s.browser.version||s.browser.quirks)?c(e.join(" ")):c.apply(void 0,i(e))}};var y=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];console.error.apply(console,e)},g=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];console.warn.apply(console,e)},v=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];console.info.apply(console,e)},b=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];console.debug.apply(console,e)},_=function(t){console.log.apply(console,t)};m.logFunc=function(t){if(null==t&&(t=this.level),!console)return p;var e;return t===a?e=y:t===l?e=g:t===c?e=v:t===h&&(e=b),e||(e=_),"function"!=typeof e&&(this.noConsoleLog=!0,e=p),e},m.maybePrefix=function(t,e){if(t){if("function"==typeof t)try{t=t()}catch(e){t='prefix err "'+e.message+'"'}return t instanceof Array?t.concat(e):[t].concat(e)}return e},m.getPrefixedFunctions=function(t){var e=this;return{log:function(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];return e.log(a,e.maybePrefix(t,i))},error:function(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];return e.log(a,e.maybePrefix(t,i))},warn:function(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];return e.log(l,e.maybePrefix(t,i))},notice:function(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];return e.log(l,e.maybePrefix(t,i))},info:function(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];return e.log(c,e.maybePrefix(t,i))},debug:function(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];return e.log(h,e.maybePrefix(t,i))}}},r.default&&null==r.default.wlogCtx&&(r.default.wlogCtx={});var w=new f(r.default.wlogCtx)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"merge",function(){return a}),n.d(e,"mergeOne",function(){return l}),n.d(e,"identityFunc",function(){return u}),n.d(e,"legacyShouldDeleteFromMerge",function(){return c}),n.d(e,"clone",function(){return h}),n.d(e,"get",function(){return d}),n.d(e,"set",function(){return p}),n.d(e,"unset",function(){return f}),n.d(e,"exists",function(){return m}),n.d(e,"assign",function(){return y}),n.d(e,"cast",function(){return v}),n.d(e,"castDeep",function(){return b}),n.d(e,"only",function(){return _}),n.d(e,"except",function(){return w}),n.d(e,"select",function(){return A}),n.d(e,"filter",function(){return P}),n.d(e,"values",function(){return k}),n.d(e,"sort",function(){return C}),n.d(e,"isArray",function(){return O}),n.d(e,"isObject",function(){return x}),n.d(e,"isFunction",function(){return B}),n.d(e,"isRegExp",function(){return M}),n.d(e,"isBasicType",function(){return F}),n.d(e,"isEmpty",function(){return j}),n.d(e,"isSubsetDeep",function(){return L}),n.d(e,"equalsDeep",function(){return H}),n.d(e,"eachDeep",function(){return R}),n.d(e,"eachLeaf",function(){return W}),n.d(e,"keys",function(){return U}),n.d(e,"pick",function(){return z}),n.d(e,"indexOf",function(){return G});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=this,s=Array.prototype.slice,a=function(t){for(var e=arguments.length,n=Array(1<e?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if(0===n.length)return t;for(var o=0;o<n.length;o++)l(t,n[o]);return t},l=function t(e,n){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:u,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:c;if(O(n)){O(e)||(e=[]);for(var r=0;r<n.length;r++){var s=n[r],a=t(e[r],s);o(n,r,a)?delete e[r]:e[r]=a}return i(e)}if(x(n)){for(var l in n){var h=n[l];O(h)?(!O(e[l])&&(e[l]=[]),t(e[l],h)):x(h)?(!x(e[l])&&(e[l]={}),t(e[l],h)):null==e?(e={},!o(n,l,h)&&(e[l]=h)):o(n,l,h)?delete e[l]:e[l]=h}return i(e)}return i(n)},u=function(t){return t},c=function(t,e,n){return null==n},h=function(t){return O(t)?a([],t):a({},t)},d=function(t,e,n){e="string"==typeof e?e.split("."):s.call(e);for(var i,o=t,r;null!=t&&e.length;)r=e.shift(),void 0!==t[r]&&(x(t[r])||O(t[r]))||!n||(0===r?(t=o[i]=[],t[r]={}):t[r]={}),o=t,i=r,t=t[r];return t},p=function(t,e,n){e="string"==typeof e?e.split("."):s.call(e);var i=e.pop();null!=(t=d(t,e,!0))&&(x(t)||O(t))&&null!=i&&(null==n?delete t[i]:t[i]=n)},f=function(t,e){return p(t,e)},m=function(t,e){return void 0!==d(t,e)},y=function(t){for(var e=arguments.length,n=Array(1<e?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(var o=0;o<n.length;o++)g(t,n[o]);return t},g=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},v=function(t){if(null==t)return t;if(x(t)||O(t))return b(t);var e=""+t;return/^\-?[1-9]\d*?$/.test(e)?parseInt(e,10):"0"==e?0:/^\-?\d*\.\d+$/.test(e)?parseFloat(e):!!/^true$/i.test(e)||!/^false$/i.test(e)&&t},b=function(t){return W(t,function(t,e,n,i){"string"==typeof t&&(n[i]=v(t))}),t},_=function(t,e){for(var n={},i={},o=0;o<e.length;o++)i[e[o]]=!0;for(var r in t)i[r]&&(n[r]=t[r]);return n},w=function(t,e){for(var n={},i={},o=0;o<e.length;o++)i[e[o]]=!0;for(var r in t)i[r]||(n[r]=t[r]);return n},A=function(t,e){for(var n,i=[],o="function"==typeof e,r=o?e:null,s=0;s<t.length;s++)if(n=t[s],o)r(n)&&i.push(n);else{var a=!0;for(var l in e){var u=e[l];if(u instanceof Array){if(!n[l]||n[l]<u[0]||n[l]>u[1]){a=!1;break}}else if(u instanceof RegExp){if(!u.test(n[l])){a=!1;break}}else if(u instanceof E){for(var c,h=!1,d=0;d<u.values.length;d++)if(c=u.values[d],n[l]===c){h=!0;break}if(!h){a=!1;break}}else if("function"==typeof u){if(null==n[l]||!u(n[l])){a=!1;break}}else if(n[l]!==u){a=!1;break}}a&&i.push(n)}return i},E=function(t){var e=this;return function(){e.values=t}(),e},k=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return new E(e)},C=function(t,e){var n="function"==typeof e,i=n?e:null,o=s.call(t);return n?o.sort(i):o.sort(function(t,n){for(var i=e instanceof Array?h(e):e.split(/\s*,\s*/),o=0;0==o&&0<i.length;){var r=i.shift().split(/\s+/),s=r[0],a=r[1];if(a="desc"===a?-1:1,t[s]<n[s]){o=-1*a;break}if(t[s]!==n[s]){o=1*a;break}o=0}return o}),o},P=function(t,e,n){for(var i=void 0===n?r:n,o=[],s=0;s<t.length;s++)e.call(i,t[s],s,t)&&o.push(t[s]);return o},T=/^\s*function Array()/,O=function(t){return null!=t&&t.push&&T.test(t.constructor)},S=/^\s*function Object()/,x=function(t){return null!=t&&"object"===(void 0===t?"undefined":i(t))&&S.test(t.constructor)},B=function(t){return null!=t&&"function"==typeof t},I=/^\s*function RegExp()/,M=function(t){return null!=t&&I.test(t.constructor)},D=/^string|number|boolean|function$/i,F=function(t){return null!=t&&(D.test(void 0===t?"undefined":i(t))||M(t))},j=function(t){if(null==t)return!0;if(O(t)&&!t.length)return!0;if(x(t)){var e=!0;for(var n in t){e=!1;break}return e}return!1},L=function(t,e){if(t===e)return!0;if(null!=t&&null==e||null==t&&null!=e)return!1;var n=!0;return W(t,function(t,i){t!==d(e,i)&&(n=!1)}),n},H=function(t,e){return L(t,e)&&L(e,t)},R=function t(e,n,i,o,r){if(null==i&&(i=[]),F(e))n(e,i,o,r);else if(x(e)||O(e)){for(var a in n(e,i,o,r),e)if(e.hasOwnProperty(a)){var l=s.call(i);l.push(a),t(e[a],n,l,e,a)}}else n(e,i,o,r)},W=function(t,e){R(t,function(t,n,i,o){O(t)||x(t)||e(t,n,i,o)})},N=!{toString:null}.propertyIsEnumerable("toString"),V=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],U=function(t){if(Object.keys)return Object.keys(t);if("object"!==("undefined"==typeof o?"undefined":i(o))&&"function"!=typeof o||null===o)throw new TypeError("Object.keys called on a non-object");var e=[];if(N)for(var n,r=0;r<V.length;r++)n=V[r],o.hasOwnProperty(n)&&e.push(n);else for(var s in o)e.push(s);return e},z=function(t,e){for(var n,i={},o=0;o<e.length;o++)n=e[o],i[n]=t[n];return i},G=function(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}},function(t,e,n){"use strict";function i(){}function o(t,e){var n,o,r,s,a=D;for(s=arguments.length;2<s--;)M.push(arguments[s]);for(e&&null!=e.children&&(!M.length&&M.push(e.children),delete e.children);M.length;)if((o=M.pop())&&void 0!==o.pop)for(s=o.length;s--;)M.push(o[s]);else"boolean"==typeof o&&(o=null),(r="function"!=typeof t)&&(null==o?o="":"number"==typeof o?o+="":"string"!=typeof o&&(r=!1)),r&&n?a[a.length-1]+=o:a===D?a=[o]:a.push(o),n=r;var l=new i;return l.nodeName=t,l.children=a,l.attributes=null==e?void 0:e,l.key=null==e?void 0:e.key,void 0!==I.vnode&&I.vnode(l),l}function r(t,e){for(var n in e)t[n]=e[n];return t}function s(t){!t._dirty&&(t._dirty=!0)&&1==L.push(t)&&(I.debounceRendering||F)(a)}function a(){var t,e=L;for(L=[];t=e.pop();)t._dirty&&T(t)}function l(t,e,n){return"string"==typeof e||"number"==typeof e?void 0!==t.splitText:"string"==typeof e.nodeName?!t._componentConstructor&&u(t,e.nodeName):n||t._componentConstructor===e.nodeName}function u(t,e){return t.normalizedNodeName===e||t.nodeName.toLowerCase()===e.toLowerCase()}function c(t){var e=r({},t.attributes);e.children=t.children;var n=t.nodeName.defaultProps;if(void 0!==n)for(var i in n)void 0===e[i]&&(e[i]=n[i]);return e}function h(t,e){var n=e?document.createElementNS("http://www.w3.org/2000/svg",t):document.createElement(t);return n.normalizedNodeName=t,n}function d(t){var e=t.parentNode;e&&e.removeChild(t)}function p(t,e,n,i,o){if("className"===e&&(e="class"),"key"===e);else if("ref"===e)n&&n(null),i&&i(t);else if("class"!==e||o)if("style"===e){if(i&&"string"!=typeof i&&"string"!=typeof n||(t.style.cssText=i||""),i&&"object"==typeof i){if("string"!=typeof n)for(var r in n)r in i||(t.style[r]="");for(var r in i)t.style[r]="number"==typeof i[r]&&!1===j.test(r)?i[r]+"px":i[r]}}else if("dangerouslySetInnerHTML"===e)i&&(t.innerHTML=i.__html||"");else if("o"==e[0]&&"n"==e[1]){var s=e!==(e=e.replace(/Capture$/,""));e=e.toLowerCase().substring(2),i?!n&&t.addEventListener(e,m,s):t.removeEventListener(e,m,s),(t._listeners||(t._listeners={}))[e]=i}else if("list"!==e&&"type"!==e&&!o&&e in t)f(t,e,null==i?"":i),(null==i||!1===i)&&t.removeAttribute(e);else{var a=o&&e!==(e=e.replace(/^xlink\:?/,""));null==i||!1===i?a?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.removeAttribute(e):"function"!=typeof i&&(a?t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),i):t.setAttribute(e,i))}else t.className=i||""}function f(t,e,n){try{t[e]=n}catch(e){}}function m(t){return this._listeners[t.type](I.event&&I.event(t)||t)}function y(){for(var t;t=H.pop();)I.afterMount&&I.afterMount(t),t.componentDidMount&&t.componentDidMount()}function g(t,e,n,i,o,r){R++||(W=null!=o&&void 0!==o.ownerSVGElement,N=null!=t&&!("__preactattr_"in t));var s=v(t,e,n,i,r);return o&&s.parentNode!==o&&o.appendChild(s),--R||(N=!1,!r&&y()),s}function v(t,e,n,i,o){var r=t,s=W;if((null==e||"boolean"==typeof e)&&(e=""),"string"==typeof e||"number"==typeof e)return t&&void 0!==t.splitText&&t.parentNode&&(!t._component||o)?t.nodeValue!=e&&(t.nodeValue=e):(r=document.createTextNode(e),t&&(t.parentNode&&t.parentNode.replaceChild(r,t),_(t,!0))),r.__preactattr_=!0,r;var a=e.nodeName;if("function"==typeof a)return O(t,e,n,i);if(W="svg"===a||"foreignObject"!==a&&W,a+="",(!t||!u(t,a))&&(r=h(a,W),t)){for(;t.firstChild;)r.appendChild(t.firstChild);t.parentNode&&t.parentNode.replaceChild(r,t),_(t,!0)}var l=r.firstChild,c=r.__preactattr_,d=e.children;if(null==c){c=r.__preactattr_={};for(var p=r.attributes,f=p.length;f--;)c[p[f].name]=p[f].value}return!N&&d&&1===d.length&&"string"==typeof d[0]&&null!=l&&void 0!==l.splitText&&null==l.nextSibling?l.nodeValue!=d[0]&&(l.nodeValue=d[0]):(d&&d.length||null!=l)&&b(r,d,n,i,N||null!=c.dangerouslySetInnerHTML),A(r,e.attributes,c),W=s,r}function b(t,e,n,i,o){var r,s,a,u,c,h=t.childNodes,p=[],f={},m=0,y=0,g=h.length,b=0,w=e?e.length:0;if(0!==g)for(var A=0;A<g;A++){var E=h[A],k=E.__preactattr_,C=w&&k?E._component?E._component.__key:k.key:null;null==C?(k||(void 0===E.splitText?o:!o||E.nodeValue.trim()))&&(p[b++]=E):(m++,f[C]=E)}if(0!==w)for(var A=0;A<w;A++){u=e[A],c=null;var C=u.key;if(null!=C)m&&void 0!==f[C]&&(c=f[C],f[C]=void 0,m--);else if(!c&&y<b)for(r=y;r<b;r++)if(void 0!==p[r]&&l(s=p[r],u,o)){c=s,p[r]=void 0,r===b-1&&b--,r===y&&y++;break}c=v(c,u,n,i),a=h[A],c&&c!==t&&c!==a&&(null==a?t.appendChild(c):c===a.nextSibling?d(a):t.insertBefore(c,a))}if(m)for(var A in f)void 0!==f[A]&&_(f[A],!1);for(;y<=b;)void 0!==(c=p[b--])&&_(c,!1)}function _(t,e){var n=t._component;n?S(n):(null!=t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),(!1===e||null==t.__preactattr_)&&d(t),w(t))}function w(t){for(t=t.lastChild;t;){var e=t.previousSibling;_(t,!0),t=e}}function A(t,e,n){for(var i in n)e&&null!=e[i]||null==n[i]||p(t,i,n[i],n[i]=void 0,W);for(i in e)"children"===i||"innerHTML"===i||i in n&&e[i]===("value"===i||"checked"===i?t[i]:n[i])||p(t,i,n[i],n[i]=e[i],W)}function E(t){var e=t.constructor.name;(V[e]||(V[e]=[])).push(t)}function k(t,e,n){var i,o=V[t.name];if(t.prototype&&t.prototype.render?(i=new t(e,n),x.call(i,e,n)):(i=new x(e,n),i.constructor=t,i.render=C),o)for(var r=o.length;r--;)if(o[r].constructor===t){i.nextBase=o[r].nextBase,o.splice(r,1);break}return i}function C(t,e,n){return this.constructor(t,n)}function P(t,e,n,i,o){t._disable||(t._disable=!0,(t.__ref=e.ref)&&delete e.ref,(t.__key=e.key)&&delete e.key,!t.base||o?t.componentWillMount&&t.componentWillMount():t.componentWillReceiveProps&&t.componentWillReceiveProps(e,i),i&&i!==t.context&&(!t.prevContext&&(t.prevContext=t.context),t.context=i),!t.prevProps&&(t.prevProps=t.props),t.props=e,t._disable=!1,0!==n&&(1!==n&&!1===I.syncComponentUpdates&&t.base?s(t):T(t,1,o)),t.__ref&&t.__ref(t))}function T(t,e,n,i){if(!t._disable){var o,s,a,l=t.props,u=t.state,h=t.context,d=t.prevProps||l,p=t.prevState||u,f=t.prevContext||h,m=t.base,v=t.nextBase,b=m||v,w=t._component,A=!1;if(m&&(t.props=d,t.state=p,t.context=f,2!==e&&t.shouldComponentUpdate&&!1===t.shouldComponentUpdate(l,u,h)?A=!0:t.componentWillUpdate&&t.componentWillUpdate(l,u,h),t.props=l,t.state=u,t.context=h),t.prevProps=t.prevState=t.prevContext=t.nextBase=null,t._dirty=!1,!A){o=t.render(l,u,h),t.getChildContext&&(h=r(r({},h),t.getChildContext()));var E,C,O=o&&o.nodeName;if("function"==typeof O){var x=c(o);s=w,s&&s.constructor===O&&x.key==s.__key?P(s,x,1,h,!1):(E=s,t._component=s=k(O,x,h),s.nextBase=s.nextBase||v,s._parentComponent=t,P(s,x,0,h,!1),T(s,1,n,!0)),C=s.base}else a=b,E=w,E&&(a=t._component=null),(b||1===e)&&(a&&(a._component=null),C=g(a,o,h,n||!m,b&&b.parentNode,!0));if(b&&C!==b&&s!==w){var B=b.parentNode;B&&C!==B&&(B.replaceChild(C,b),!E&&(b._component=null,_(b,!1)))}if(E&&S(E),t.base=C,C&&!i){for(var M=t,D=t;D=D._parentComponent;)(M=D).base=C;C._component=M,C._componentConstructor=M.constructor}}if(!m||n?H.unshift(t):!A&&(t.componentDidUpdate&&t.componentDidUpdate(d,p,f),I.afterUpdate&&I.afterUpdate(t)),null!=t._renderCallbacks)for(;t._renderCallbacks.length;)t._renderCallbacks.pop().call(t);R||i||y()}}function O(t,e,n,i){for(var o=t&&t._component,r=o,s=t,a=o&&t._componentConstructor===e.nodeName,l=a,u=c(e);o&&!l&&(o=o._parentComponent);)l=o.constructor===e.nodeName;return o&&l&&(!i||o._component)?(P(o,u,3,n,i),t=o.base):(r&&!a&&(S(r),t=s=null),o=k(e.nodeName,u,n),t&&!o.nextBase&&(o.nextBase=t,s=null),P(o,u,1,n,i),t=o.base,s&&t!==s&&(s._component=null,_(s,!1))),t}function S(t){I.beforeUnmount&&I.beforeUnmount(t);var e=t.base;t._disable=!0,t.componentWillUnmount&&t.componentWillUnmount(),t.base=null;var n=t._component;n?S(n):e&&(e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),t.nextBase=e,d(e),E(t),w(e)),t.__ref&&t.__ref(null)}function x(t,e){this._dirty=!0,this.context=e,this.props=t,this.state=this.state||{}}function B(t,e,n){return g(n,t,{},!1,e,!1)}n.d(e,"c",function(){return o}),n.d(e,"a",function(){return x}),n.d(e,"d",function(){return B});var I={},M=[],D=[],F="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout,j=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,L=[],H=[],R=0,W=!1,N=!1,V={};r(x.prototype,{setState:function(t,e){var n=this.state;this.prevState||(this.prevState=r({},n)),r(n,"function"==typeof t?t(n,this.props):t),e&&(this._renderCallbacks=this._renderCallbacks||[]).push(e),s(this)},forceUpdate:function(t){t&&(this._renderCallbacks=this._renderCallbacks||[]).push(t),T(this,2)},render:function(){}}),e.b={h:o,createElement:o,cloneElement:function(t,e){return o(t.nodeName,r(r({},t.attributes),e),2<arguments.length?[].slice.call(arguments,2):t.children)},Component:x,render:B,rerender:a,options:I,components:V}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"callingPlayRequiresEventContext",function(){return st}),n.d(e,"cachedDetect",function(){return at}),n.d(e,"uncachedDetect",function(){return lt}),n.d(e,"clearDetectCache",function(){return ut});var i=n(0),o=n(8),r,s=navigator.userAgent,a=/(webkit)[ \/]([^\s]+)/i,l=/OPR\/([^\s]+)/i,u=/(msie) ([^\s;]+)/i,c=/(trident)\/\s*([^;]+)/i,h=/(edge)\/(\d+(?:\.\d+)?)/i,d=/(mozilla)(?:.*? rv:([^\s\)]+))?/i,p=/(android) ([^;]+)/i,f=/(iphone)/i,m=/(ipad)/i,y=/(Windows Phone OS (\d+(?:\.\d+)?))/,g=/OS (\d+)_(\d+)/i,v=/(playstation 3)/i,b=/BlackBerry|BB10/i,_=/(firefox)/i,w=/Mobile VR/i,A=function(){return(k()[1]||"webkit").toLowerCase()},E=function(){return k()[2]},k=function(){var t;return(t=s.match(a))?t:(t=s.match(l))?t:(t=s.match(u))?(null!=document.documentMode&&(t[2]=document.documentMode),t):(t=s.match(d))?t:[]},C=function(){var t=s.match(p);return null!=t&&{version:t[2]}},P=function(){return C()&&"4.1.0">C().version&&!R()},T=function(){return f.test(s)},O=function(){return 0<j()||C()},S=function(){return b.test(s)},x=function(){return null!=o.a.devicePixelRatio&&1<o.a.devicePixelRatio},B=function(){return m.test(s)},I=function(){return a.test(s)&&!/chrome/i.test(s)&&!B()&&!T()},M=function(){return/Chrome/.test(s)&&/Google Inc/.test(navigator.vendor)&&{version:D()}},D=function(){var t=s.match(/\bChrome\/([^\s]+)/);return t&&t[1]},F=function(){return l.test(s)},j=function(){var t=s.match(g);return null==t?0:parseFloat(t[1]+"."+t[2])},L=function(){return y.test(s)},H=function(){return v.test(s)},R=function(){return c.test(s)},W=function(){return h.test(s)},N=function(){return _.test(s)},V=function(){return w.test(s)},U=function(){return/win/i.test(navigator.platform)},z=function(){return/mac/i.test(navigator.platform)},G=function(){return/linux/i.test(navigator.platform)},q=function(){var t=Q();return{version:parseFloat(t[0]+"."+t[1]),major:parseInt(t[0]),minor:parseInt(t[1]),rev:parseInt(t[2])}},Q=function(){try{try{var t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");try{t.AllowScriptAccess="always"}catch(t){return[6,0,0]}}catch(t){}return new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1].split(",")}catch(t){try{if(navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)return(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1].split(",")}catch(t){}}return[0,0,0]},K=function(){var t=document.createElement("video"),e=!1;try{if(t.canPlayType){e={};var n='video/mp4; codecs="avc1.42E01E';e.h264=!!t.canPlayType(n+'"')||!!t.canPlayType(n+', mp4a.40.2"'),e.webm=!!t.canPlayType('video/webm; codecs="vp9, vorbis"'),e.nativeHls=!!t.canPlayType("application/vnd.apple.mpegURL")}}catch(n){e={ogg:!1,h264:!1,webm:!1,nativeHls:!1}}return e},Y=function(){return o.a.MediaSource&&o.a.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')},X=function(){return(T()||B()||I())&&!R()&&K().nativeHls},J=function(){try{return"localStorage"in o.a&&null!=o.a.localStorage}catch(t){return!1}},$=function(){return!(!o.a.JSON||"function"!=typeof JSON.parse)},Z=function(){var t=document.createElement("div");return""===t.style.backgroundSize||""===t.style.webkitBackgroundSize||""===t.style.mozBackgroundSize||""===t.style.oBackgroundSize},tt=function(){return document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled},et=["WebKit","Moz","O","Ms",""],nt=function(){for(var t=0;t<et.length;t++){var e=et[t],n=e+"MutationObserver";if(o.a[n])return n}return null},it=function(){return!(T()||B()||C()||S()||!/webkit|mozilla/.test(A())&&("msie"!==A()||!(11<=E()))||!K().h264||!Object.defineProperties)},ot=function(){return M()||N()||W()||R()?"probably":!!I()&&"maybe"},rt=function(){if(null!=r)return r;try{var t=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("test",null,t)}catch(t){r=!1}return r},st=function(){return 0<j()||C()||I()},at=function(){return i.default._detectCache?i.default._detectCache:(i.default._detectCache=lt(),i.default._detectCache)},lt=function(){var t={browser:{version:E(),quirks:"msie"===A()&&"BackCompat"===document.compatMode,old:"msie"===A()&&("BackCompat"===document.compatMode||7>E()),ltie8:"msie"===A()&&("BackCompat"===document.compatMode||8>E())},trident:R(),edge:W(),firefox:N(),gearvr:V(),android:C(),oldandroid:P(),iphone:T(),ipad:B(),blackberry:S(),safari:I(),chrome:M(),opera:F(),winphone:{version:L()[2]},ios:{version:j()},windows:U(),mac:z(),linux:G(),retina:x(),touchScreen:O(),ps3:H(),flash:q(),video:K(),mediaSource:Y(),nativeHls:X(),localstorage:J(),json:$(),backgroundSize:Z(),fullscreenEnabled:tt(),vulcanSupport:it(),mutationObserver:nt(),autoPlayWithSound:ot(),callingPlayRequiresEventContext:st(),passiveSupported:rt()};return t.browser[A()]=!0,t},ut=function(){i.default._detectCache=null}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"deliveryHost",function(){return p}),n.d(e,"akamaiHost",function(){return f}),n.d(e,"appHost",function(){return m}),n.d(e,"cdnFastWistiaComHost",function(){return y}),n.d(e,"cdnFastWistiaNetHost",function(){return g}),n.d(e,"metricsHost",function(){return v}),n.d(e,"forceValidFastWistiaHost",function(){return _});var i=n(19),o=n.n(i),r=n(8),s=o()("app"),a=o()("fast"),l="undefined",u=o()("embed-a"),c=o()("embed-e"),h=function(){return"undefined"!=typeof window&&r.a===window&&r.a.location?r.a.location.protocol:"https:"}(),d=function(t,e,n){return"https:"===t?e:n},p=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:h;return d(t,l,"undefined")},f=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:h;return d(t,"embedwistia-a.akamaihd.net",u)},m=function(){return s},y=function(){return a},g=function(){return"fast.wistia.com"},v=function(){return"pipedream.wistia.com"},b=/(\.wistia\.net|\.wistia.com|\.wistia\.st)$/,_=function(t){return t&&b.test(t)?t:y()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"proto",function(){return s}),n.d(e,"queryParamsToObject",function(){return a}),n.d(e,"urlComponentToObject",function(){return l}),n.d(e,"objectToQueryParams",function(){return u}),n.d(e,"splitPath",function(){return c}),n.d(e,"joinPath",function(){return h}),n.d(e,"brack",function(){return d}),n.d(e,"debrack",function(){return p}),n.d(e,"Url",function(){return m});var i=n(2),o=n(1),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:location.href;return/^http:\/\//.test(t)?"http:":"https:"},a=function(t){var e={};if(!t)return e;for(var n=t.split("&"),r=0;r<n.length;r++){var s=n[r],a=s.split("="),u=a[0],c=a[1];try{u=p(decodeURIComponent(u))||""}catch(e){setTimeout(function(){o.wlog.notice(e)},50),u=""}i.cast(u);var h=i.get(e,u);if(null==h)i.set(e,u,l(c));else if(i.isArray(h))h.push(l(c));else{var d=[h];d.push(l(c)),i.set(e,u,d)}}return e},l=function(t){var e;try{e=decodeURIComponent(t)}catch(n){setTimeout(function(){o.wlog.notice(n)},50),e=t}if("string"!=typeof t||!/^[\{\[].*[\}\]]$/.test(e))return e;try{return JSON.parse(e)}catch(t){return e}},u=function(t){var e=[];return i.eachLeaf(t,function(t,n){e.push(encodeURIComponent(d(n))+"="+encodeURIComponent(t))}),e.join("&")},c=function(t){var e=[];if(null==t)return e;for(var n,i=t.split(/\/+/),o=0;o<i.length;o++)null!=(n=i[o])&&""!==n&&e.push(n);return e},h=function(t){return"string"==typeof t&&(t=t.split("/")),null==t?"":"/"+t.join("/")},d=function(t){for(var e=t[0],n=1;n<t.length;n++)e+="["+t[n]+"]";return e},p=function(t){return t.match(/([\w\-\_]+)/g)},f=["protocol","host","port","params","path"],m=function(t){var e=this;return function(){e.params={},e.path=[],e.host="","object"===(void 0===t?"undefined":r(t))?e.fromOptions(t):t&&e.fromRaw(t)}(),e},y=m.prototype;y.fromOptions=function(t){for(var e,n=0;n<f.length;n++)e=f[n],null!=t[e]&&(this[e]=t[e]);return this},y.fromRaw=function(t){this.rawUrl=t;var e;return(e=t.match(/^((?:https?\:)|(?:file\:)|(?:ftp\:))?\/\//))&&(this.protocol=e[1]||void 0),(e=t.match(/\/\/([^\:\?\/]*)/))&&(this.host=e[1]||void 0),((e=t.match(/\/\/.*?(\/[^\?#$]+)/))||(e=t.match(/(^\/[^\/][^\?#$]+)/)))&&(this.rawPath=e[1],this._hasTrailingSlash=/\/$/.test(this.rawPath),this.path=c(this.rawPath)),(e=t.match(/\:(\d+)/))&&(this.port=parseInt(e[1],10)),(e=t.match(/\?([^#]+)/))&&(this.rawParams=e[1],this.params=a(this.rawParams)),(e=t.match(/#(.*)$/))&&(this.anchor=e[1]),this},y.clone=function(){return new m({protocol:this.protocol,host:this.host,port:this.port,path:i.clone(this.path),params:i.clone(this.params),anchor:this.anchor})},y.ext=function(t){if(null!=t){var e=this.ext(),n=this.path.length-1,i=new RegExp("\\."+e,"g");return e&&(this.path[n]=""+this.path[n].replace(i,"")),this.path[n]=this.path[n]+"."+t}var o=this.path[this.path.length-1].match(/\.(.*)$/);return null!=o&&o[1]||null},y.isRelative=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.location,e=this.protocol,n=this.host;return!(null!=e&&""!==e&&e!==t.protocol||n&&n!==t.hostname)},y.toString=function(){return this.isRelative()?this.relative():this.absolute()},y.absolute=function(){var t="";null!=this.protocol&&(t=this.protocol);var e="";return null!=this.port&&(e=":"+this.port),t+"//"+(this.host||location.host)+e+this.relative()},y.relative=function(){var t="";0<this.path.length&&(t=h(this.path),this._hasTrailingSlash&&(t+="/"));var e="?"+u(this.params);return 1===e.length&&(e=""),""+t+e+this.relativeAnchor()},y.authority=function(){var t=null==this.port?"":":"+this.port;return""+this.host+t},y.relativeProtocol=function(){var t="";return null!=this.port&&(t=":"+this.port),"//"+this.host+t+this.relative()},y.relativeAnchor=function(){var t="";return null!=this.anchor&&(t="#"+this.anchor),""+t},m.create=function(t){return new m(t)},m.parse=function(t){return new m(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"elemHtml",function(){return m}),n.d(t,"getScriptTags",function(){return h}),n.d(t,"execScriptTags",function(){return g}),n.d(t,"removeScriptTags",function(){return y}),n.d(t,"getCssTags",function(){return f}),n.d(t,"execCssTags",function(){return _}),n.d(t,"removeCssTags",function(){return b}),n.d(t,"addInlineCss",function(){return v}),n.d(t,"elemFromObject",function(){return A}),n.d(t,"elemToObject",function(){return w}),n.d(t,"elemClone",function(){return k}),n.d(t,"elemAppend",function(){return E}),n.d(t,"elemPrepend",function(){return C}),n.d(t,"elemBefore",function(){return P}),n.d(t,"elemAfter",function(){return S}),n.d(t,"elemRemove",function(){return x}),n.d(t,"elemRemoveClass",function(){return T}),n.d(t,"elemAddClass",function(){return I}),n.d(t,"elemHasClass",function(){return B}),n.d(t,"elemClasses",function(){return D}),n.d(t,"elemStyle",function(){return L}),n.d(t,"propsWithVendorPrefixes",function(){return R}),n.d(t,"getComputedStyle",function(){return j}),n.d(t,"elemWidth",function(){return V}),n.d(t,"elemHeight",function(){return U}),n.d(t,"isBoxModel",function(){return G}),n.d(t,"elemOffset",function(){return q}),n.d(t,"elemContainsOffset",function(){return Q}),n.d(t,"elemScrollOffset",function(){return K}),n.d(t,"elemIsHidden",function(){return Y}),
n.d(t,"elemInDom",function(){return X}),n.d(t,"elemIsDescendantOf",function(){return J}),n.d(t,"elemAncestorWithClass",function(){return Z}),n.d(t,"elemAncestorHasClass",function(){return $}),n.d(t,"elemAncestors",function(){return ee}),n.d(t,"elemIsInside",function(){return te}),n.d(t,"elemAnimate",function(){return ne}),n.d(t,"elemBind",function(){return ie}),n.d(t,"elemUnbind",function(){return ae}),n.d(t,"elemUnbindAll",function(){return re}),n.d(t,"elemUnbindAllInside",function(){return le}),n.d(t,"elemBindKey",function(){return se}),n.d(t,"elemRebind",function(){return de}),n.d(t,"elemBindOnce",function(){return pe}),n.d(t,"elemTrigger",function(){return ue}),n.d(t,"fullscreenElement",function(){return ce}),n.d(t,"elemRequestFullscreen",function(){return me}),n.d(t,"elemCancelFullscreen",function(){return he}),n.d(t,"elemStripEventAttributes",function(){return ge}),n.d(t,"elemMutationObserver",function(){return ye}),n.d(t,"elemDomDistance",function(){return fe}),n.d(t,"elemAllBetween",function(){return _e}),n.d(t,"docScrollTop",function(){return be}),n.d(t,"docScrollLeft",function(){return ve}),n.d(t,"safeRequestAnimationFrame",function(){return Ae}),n.d(t,"pageLoaded",function(){return we}),n.d(t,"isDocReady",function(){return ke}),n.d(t,"formInputIsFocused",function(){return Ee}),n.d(t,"inUserEventContext",function(){return Ce}),n.d(t,"getLastActiveEventAt",function(){return Pe});var a=n(15),r=n(2),i=n(4),l=n(1),s=n(9),d=n(0),p=d.default,u=Object(i.cachedDetect)(),c=Array.prototype.slice,m=function(t,e){var n=f(e),i=h(e);return e=b(e),e=y(e),t.innerHTML=e,_(n,t),g(i)},h=function(t){return t.match(/<script.*?src[^>]*>\s*<\/script>|<script.*?>[\s\S]+?<\/script>/gi)||[]},g=function(e,t){if(!e)return null;Object(r.isArray)(e)||(e=h(e));for(var n=[],l=0;l<e.length;l++){var i=e[l],s={},d=void 0;(d=i.match(/<script.*?>/i))&&(d=d[0].match(/src="([^"]+)"/i))?(s.src=d[1],s.async=/async/i.test(i.replace(s.src,""))):(d=i.match(/<script>([\s\S]+?)<\/script>/i))&&function(){var e=d[1];s.fn=function(){return eval(e)}}(),n.push(s)}return Object(a.runScripts)(n,t)},y=function(t){return t.replace(/<script.*?src[^>]*>\s*<\/script>|<script>[\s\S]+?<\/script>/g,"")},f=function(t){return t.match(/<link.*?rel=['"]stylesheet['"][^>]*>|<style>[\s\S]+?<\/style>/gi)||[]},_=function(t,e){if(!t)return null;Object(r.isArray)(t)||(t=f(t));for(var n,i=[],o=0;o<t.length;o++)if(n=t[o],/<link.*?rel=['"]stylesheet['"][^>]*>/.test(n)){var s=void 0;if(s=n.match(/href=['"](.*?)['"]/i)){var a=document.createElement("link");a.setAttribute("rel","stylesheet"),a.setAttribute("href",s[1]),a.className="wistia_injected_style",(e||document.body||document.head).appendChild(a),i.push(a)}}else if(/<style>[\s\S]+?<\/style>/gi.test(n)){var l=void 0;if(l=n.match(/<style>([\s\S]+?)<\/style>/i)){var u=v(e||document.body||document.head,l[1]);i.push(u)}}return i},b=function(t){return t.replace(/<link.*?rel=['"]stylesheet['"][^>]*>|<style>[\s\S]+?<\/style>/gi,"")},v=function(t,e){var n=document.createElement("style");return n.id=Object(s.default)("wistia_","_style"),n.setAttribute("type","text/css"),n.className="wistia_injected_style",document.getElementsByTagName("style"),t.appendChild(n,t.nextSibling),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),n},A=function t(e){if(Object(r.isArray)(e)){for(var n=[],i=0;i<e.length;i++)n.push(t(e[i]));return n}var o=e.tagName||"div",s=e.childNodes||[];Object(r.isArray)(s)||(s=[s]);var a=document.createElement(o);for(var l in e){var u=e[l];if("childNodes"!=l&&"tagName"!=l&&"ref"!=l){var c=l.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();if("style"==l)if(Object(r.isObject)(u))for(var h in u)a.style[h]=u[h];else for(var d=u.split(";"),p=0;p<d.length;p++){var f=d[p].split(/\s*:\s*/),m=f[0],y=f[1];m&&y&&(a.style[m]=y)}else if("events"==l)for(var g in u){var v=u[g];ie(a,g,v)}else"className"==l||"class"==l?a.className=u:"innerHTML"==l?a.innerHTML=u:"innerText"==l?a.innerText=u:null!=u&&"function"==typeof u.toString&&a.setAttribute(c,u.toString())}}for(var b,_=0;_<s.length;_++)if(b=s[_],Object(r.isObject)(b)){var w=t(b);E(a,w)}else{var A=document.createTextNode(b.toString());E(a,A)}return"function"==typeof e.ref&&e.ref(a),a},w=function t(e){if(Object(r.isArray)(e))for(var n=[],i=0;i<e.length;i++)n.push(t(e[i]));for(var o,s={tagName:e.tagName.toLowerCase()},a=Object(r.keys)(e),l=0;l<a.length;l++){if("tagName"===(o=a[l])||"childNodes"===o||"nodeType"===o||"nodeValue"===o)continue;if("style"===o){s.style={};for(var u,c=Object(r.keys)(e.style),h=0;h<c.length;h++)u=c[h],val=e.style[u],val&&!/^\d/.test(u)&&"length"!==u&&(s.style[u]=val)}else value=e.getAttribute(o),null!=value&&(s[o]=value)}for(var d,p=[],f=0;f<e.childNodes.length;f++)d=e.childNodes[f],1===d.nodeType?p.push(t(d)):3===d.nodeType&&p.push(d.nodeValue);return 0<p.length&&(s.childNodes=p),s},k=function(t){var e=w(t);return A(e)},E=function t(e,n){if(Object(r.isArray)(n))for(var i=0;i<n.length;i++)t(e,n[i]);else e.appendChild(n)},C=function t(e,n){if(!Object(r.isArray)(n))return 0===e.childNodes.length?E(e,n):e.insertBefore(n,e.childNodes[0]);for(var i=0;i<n.length;i++)t(e,n[i])},P=function t(e,n){if(!Object(r.isArray)(n))return e.parentNode.insertBefore(n,e);n=n.reverse();for(var i=0;i<n.length;i++)t(e,n[i])},S=function t(e,n){if(!Object(r.isArray)(n))return e.parentNode.insertBefore(n,e.nextSibling);n=n.reverse();for(var i=0;i<n.length;i++)t(e,n[i])},x=function t(e){if(Object(r.isArray)(e)||window.NodeList&&e instanceof NodeList)for(var n=0;n<e.length;n++)t(e[n]);else{var i;null!=e&&1===e.nodeType&&(i=e.parentNode)&&(i.removeChild(e),e=null)}},T=function t(e,n){if(Object(r.isArray)(e)||window.NodeList&&e instanceof NodeList)for(var i=0;i<e.length;i++)t(e[i],n);else if(B(e,n)){var o=e.getAttribute("class");if(o){var s=new RegExp("\\b"+n+"\\b","g"),a=M(o.replace(s,""));e.setAttribute("class",a)}}},I=function t(e,n){if(Object(r.isArray)(e)||window.NodeList&&e instanceof NodeList)for(var i=0;i<e.length;i++)t(e[i],n);else if(!B(e,n)){var o,s=e.getAttribute("class");s?(T(e,n),o=M(s+" "+n)):o=n,e.setAttribute("class",o)}},B=function(t,e){var n=null!=t&&"function"==typeof t.getAttribute&&t.getAttribute("class");if(!n&&t&&"string"==typeof t.className&&(n=t.className),!n)return!1;var i=!1;return F(n,e,function(t){var o=0===t||" "===n.charAt(t-1),r=t+e.length===n.length,s=" "===n.charAt(t+e.length);if(o&&(r||s))return i=!0,O}),i},O={},F=function(t,e,n){for(var i=-1;-1!=(i=t.indexOf(e,i+1))&&n(i)!==O;);},D=function(t){return t&&"string"!=typeof t.className?[""]:(t&&t.className||"").split(/\s+/)},M=function(t){return t.replace(/^\s+/g,"").replace(/\s+$/g,"").replace(/\s+/g," ")},L=function t(e){for(var n=arguments.length,i=Array(1<n?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];if(Object(r.isArray)(e)||window.NodeList&&e instanceof NodeList){for(var s,a=[],u=0;u<e.length;u++)s=e[u],1===s.nodeType&&a.push(t.apply(void 0,[s].concat(i)));return a}if(2===i.length){var c=i[0],h=i[1];e.style[c]=h}else if(1!==i.length)l.wlog.apply(void 0,["Unexpected args",e].concat(i));else if("string"==typeof i[0]){var d=i[0];try{return e.currentStyle?e.currentStyle[d]:window.getComputedStyle?window.getComputedStyle(e,null).getPropertyValue(d):null}catch(e){l.wlog.notice(e)}}else{var p=R(i[0]);for(var f in p){var m=p[f];e.style[f]=m}}},N={borderImage:!0,mixBlendMode:!0,transform:!0,transition:!0,transitionDuration:!0},W=function(t){return N[t]},H=["webkit","moz","o","ms"],R=function(t){if(u.chrome)return t;var e={};for(var n in t){var i=t[n];if(e[n]=i,N[n])for(var o=H,r=0;r<o.length;r++){var s=o[r],a=s+n.charAt(0).toUpperCase()+n.slice(1);n[a]||(e[a]=i)}}return e},j=function(t,e){if(!window.getComputedStyle)return null;var n=window.getComputedStyle(t,null);return null==n?null:null==e?n:n[e]},V=function(t){if(t===window)return window.innerWidth?window.innerWidth:document.documentElement?document.documentElement.offsetWidth:document.body.offsetWidth;if(t===document){var e=document.body,n=document.documentElement;return Math.max(e.scrollWidth,e.offsetWidth,n.clientWidth,n.scrollWidth,n.offsetWidth)}var i;return u.browser.quirks?parseInt(t.offsetWidth,10):(i=j(t,"width"))&&null!=i?parseFloat(i):t.currentStyle?t.offsetWidth:-1},U=function(t){if(t===window)return window.innerHeight?window.innerHeight:document.documentElement?document.documentElement.offsetHeight:document.body.offsetHeight;if(t===document){var e=document.body,n=document.documentElement;return Math.max(e.scrollHeight,e.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight)}var i;return u.browser.quirks?parseInt(t.offsetHeight,10):(i=j(t,"height"))&&null!=i?parseFloat(i):t.currentStyle?t.offsetHeight:-1},z,G=function(){if(null!=z)return z;var t=document.createElement("div");return t.style.paddingLeft=t.style.width="1px",document.body.appendChild(t),z=2===t.offsetWidth,document.body.removeChild(t),z},q=function(t){var e,n=document.body,i=document.defaultView,o=document.documentElement,r=t.getBoundingClientRect(),s=o.clientTop||n.clientTop||0,a=o.clientLeft||n.clientLeft||0;e=i&&null!=i.pageYOffset?i.pageYOffset:G()&&o&&null!=o.scrollTop?o.scrollTop:n.scrollTop;var l;return l=i&&null!=i.pageXOffset?i.pageXOffset:G()&&o&&null!=o.scrollLeft?o.scrollLeft:n.scrollLeft,{top:r.top+e-s,left:r.left+l-a}},Q=function(t,e,n){var i=q(t);return i.right=i.left+V(t),i.bottom=i.top+U(t),i.left<=e&&e<i.right&&i.top<=n&&n<i.bottom},K=function(t){var e=0,n=0;if(t.parentNode)for(;t&&t.offsetParent;)n+=t.scrollTop,e+=t.scrollLeft,t=t.parentNode;return{left:e,top:n}},Y=function(t){for(;t&&1===t.nodeType;){if("none"===L(t,"display"))return!0;t=t.parentNode}return!1},X=function(t){for(;t=t.parentNode;)if(t===document)return!0;return!1},J=function(t,e){for(var n=ee(t),i=0;i<n.length;i++)if(n[i]===e)return!0;return!1},Z=function(t,e){for(var n=ee(t),i=0;i<n.length;i++)if(B(n[i],e))return n[i];return null},$=function(t,e){return!!Z(t,e)},ee=function(t){for(var e=t,n=[];e=e.parentNode;)n.push(e);return n},te=function(t,e){return t===e||J(t,e)},oe=function(t,e,n){var i=[];for(var o in t)i.push(o+" "+e+"ms "+n);return i.join(",")},ne=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};n=Object(r.merge)({time:400,easing:"ease"},n);var i=oe(e,n.time,n.easing);L(t,{transition:i}),Ae(function(){L(t,e),setTimeout(function(){L(t,{transition:""}),"function"==typeof n.callback&&n.callback()},n.time)})},ie=function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]&&arguments[3],o=function(i){for(var o=arguments.length,r=Array(1<o?o-1:0),s=1;s<o;s++)r[s-1]=arguments[s];i=i||window.event,!i.pageX&&!i.pageY&&(i.clientX||i.clientY)&&(i.pageX=i.clientX+ve(),i.pageY=i.clientY+be()),i.preventDefault||(i.preventDefault=function(){i.returnValue=!1}),i.stopPropagation||(i.stopPropagation=function(){i.cancelBubble=!0}),null==i.which&&(i.which=null==i.charCode?i.keyCode:i.charCode),null==i.which&&null!=i.button&&(1&i.button?i.which=1:2&i.button?i.which=3:4&i.button?i.which=2:u.browser.msie&&0===i.button?i.which=1:i.which=0),i.target||i.srcElement&&(i.target=i.srcElement),i.target&&3===i.target.nodeType&&(i.target=i.target.parentNode);var a=n.apply(i.target,[i].concat(r));return a===ae&&ae(t,e,n),a};p._elemBind=p._elemBind||{};var r=se(t,e,n);return p._elemBind[r]=o,o.elem=t,o.event=e,u.browser.msie&&9>u.browser.version?t.attachEvent("on"+e,o):t.addEventListener(e,o,i),function(){ae(t,e,n,i)}},ae=function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if(null!=t&&null!=t._wistiaElemId&&null!=n&&n._wistiaBindId){var o=se(t,e,n),r=p._elemBind[o];return r&&(u.browser.msie&&9>u.browser.version?t.detachEvent("on"+e,r):t.removeEventListener(e,r,i),r.elem=null,r.event=null),delete p._elemBind[o]}},re=function(t){for(var e in p._elemBind){var n=p._elemBind[e];if(n&&t===n.elem){var i=n.event;u.browser.msie&&9>u.browser.version?n.elem.detachEvent("on"+i,n):n.elem.removeEventListener(i,n,!1),n.elem=null,n.event=null,delete p._elemBind[e]}}},le=function(t){var e=0;for(var n in p._elemBind){var i=p._elemBind[n];if(i&&p.elem.isInside(i.elem,t)){var o=i.event;u.browser.msie&&9>u.browser.version?i.elem.detachEvent("on"+o,i):i.elem.removeEventListener(o,i,!1),i.elem=null,i.event=null,delete p._elemBind[n],e+=1}}return e},se=function(t,e,n){return t._wistiaElemId=t._wistiaElemId||Object(s.default)("wistia_elem_"),n._wistiaBindId=n._wistiaBindId||Object(s.default)("wistia_bind_"),t._wistiaElemId+"."+e+"."+n._wistiaBindId},de=function(t,e,n){n&&(ae(t,e,n),ie(t,e,n))},pe=function(t,e,n){return ie(t,e,function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return n.apply(this,e),ae})},ue=function(t,e){for(var n=arguments.length,i=Array(2<n?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];if(t.dispatchEvent){var r=document.createEvent("Events");return r.initEvent(e,!0,!1),"click"===e||"doubleclick"===e?r.which=1:"rightclick"===e&&(r.which=2),r.customArguments=i,t.dispatchEvent(r)}if(t.fireEvent)return t.fireEvent("on"+e,{customArguments:i});l.wlog.error("neither dispatchEvent nor fireEvent is defined for",t,e)},ce=function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement},me=function(t){return t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):t.msRequestFullscreen?t.msRequestFullscreen():t.webkitEnterFullscreen?t.webkitEnterFullscreen():(l.wlog.notice("no requestFullscreen functionality detected"),null)},he=function(t){return document.cancelFullscreen?document.cancelFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():t&&t.webkitExitFullscreen?t.webkitExitFullscreen():(l.wlog.notice("no cancelFullscreen functionality detected"),null)},ge=function t(e){var n=e&&e.attributes||[];try{for(var i,o=0;o<n.length;o++)i=n[o],/^on.+/i.test(i.name)&&(e[i.name]=null,e.removeAttribute(i.name))}catch(e){l.wlog.error(e)}if(e.childNodes)for(var r,s=0;s<e.childNodes.length;s++)r=e.childNodes[s],1===r.nodeType&&t(r)},ye=function(t){var e=u.mutationObserver;return e?new window[e](t):null},fe=function(t,e){if(t===e)return{up:0,across:0,down:0};for(var n=[t],i=[e],o=1,r=0,s=null;t!==document.body;){if((t=t.parentNode)===e)return{up:n.length,across:0,down:0};n.unshift(t)}for(t=n[n.length-1];e!==document.body;){if((e=e.parentNode)===t)return{up:0,across:0,down:i.length};i.unshift(e)}for(;n[o]===i[o];)o+=1;for(s=n[o];s;)if((s=s.nextSibling)&&s.tagName&&(r+=1,s===i[o]))return{up:n.length-o-1,across:r,down:i.length-o-1};for(r=0,s=n[o];s;)if((s=s.previousSibling)&&s.tagName&&(r-=1,s===i[o]))return{up:n.length-o-1,across:r,down:i.length-o-1};return null},_e=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document.body,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:document.body,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"*";null==t&&(t=document.body),null==e&&(e=document.body),n=n.toLowerCase();for(var i=[],o=fe(t,e),r=t,s=0,a=null;s<o.up;){if(r&&r.tagName){("*"===n||r.tagName.toLowerCase()===n)&&(i=i.concat([r]));for(var l=r.nextSibling;l;)l.tagName&&(("*"===n||l.tagName.toLowerCase()===n)&&(i=i.concat([l])),i=i.concat(c.call(l.getElementsByTagName(n)))),l=l.nextSibling}r=r.parentNode,r&&(a=r),s+=1}var u=Math.abs(o.across);for(r=a||t,s=1;s<u;)r=0>o.across?r.previousSibling:r.nextSibling,r.tagName&&(0<s&&s<u&&(("*"===n||r.tagName.toLowerCase()===n)&&(i=i.concat([r])),i=i.concat(c.call(r.getElementsByTagName(n)))),s+=1);var h=[];for(r=e,s=0;s<o.down;){if(r&&r.tagName){("*"===n||r.tagName.toLowerCase()===n)&&(h=h.concat([r]));for(var d=r.previousSibling;d;)d.tagName&&(("*"===n||d.tagName.toLowerCase()===n)&&(h=h.concat([d])),h=h.concat(c.call(d.getElementsByTagName(n)).reverse())),d=d.previousSibling}r=r.parentNode,s+=1}return i=i.concat(h.reverse())},be=function(t){var e=document.body,n=document.documentElement;return null==t?n&&n.scrollTop||e&&e.scrollTop||0:(e&&(e.scrollTop=t),void(n&&(n.scrollTop=t)))},ve=function(t){var e=document.body,n=document.documentElement;return null==t?n&&n.scrollLeft||e&&e.scrollLeft||0:(e&&(e.scrollLeft=t),void(n&&(n.scrollLeft=t)))},Ae=function(t){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){return setTimeout(t,1e3/60)})(t)},we=function(t){if(ke())setTimeout(t,1);else{var e=function(){return clearTimeout(n),t(),ae};ie(window,"load",e);var n=setTimeout(function(){ae(window,"load",e),t()},4e3)}},ke=function(){return/loaded|complete/.test(document.readyState)},Ee=function(){return/^textarea|input|select$/i.test(document.activeElement.tagName)},Ce=function(){return!!Se},Pe=function(){return xe},Se,xe=-1,Te=["auxclick","click","contextmenu","dblclick","focus","keydown","keypress","keyup","mousedown","mouseup","reset","submit","touchend","touchstart"];Te.forEach(function(t){ie(document,t,function(t){Se=t,xe=Date.now(),setTimeout(function(){Se===t&&(Se=void 0)},0)},!u.passiveSupported||{capture:!0,passive:!0})})},function(t,e,n){"use strict";(function(t){var n;try{n=(0,eval)("this")}catch(e){try{n=self}catch(e){n=t}}e.a=n}).call(e,n(16))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0);e.default=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"wistia_",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=i.default._sequenceVal||1;return i.default._sequenceVal=n+1,""+t+n+e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"doTimeout",function(){return s}),n.d(e,"clearTimeouts",function(){return a});var i=n(0),o=n(2),r=i.default;null==r._timeouts&&(r._timeouts={});var s=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;Object(o.isArray)(t)&&(t=t.join("."));var i=u(t);if(a(t,i),e){var s=r._timeouts[i];null==s&&(s=r._timeouts[i]={});var l=setTimeout(function(){delete s[t],e()},n);return s[t]=l,l}return r._timeouts[i][t]},a=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;Object(o.isArray)(t)&&(t=t.join(".")),e=e||u(t);var n;if("__global__"===e&&(n=r._timeouts[t]))for(var i in n){var s=n[i];clearTimeout(s),delete n[i]}if(n=r._timeouts[e])for(var a in n){var c=n[a];a.indexOf&&0===a.indexOf(t)&&(a.length===t.length||"."===a.charAt(t.length))&&(clearTimeout(c),delete n[a])}r.blockSweepTimeouts||(r.blockSweepTimeouts=!0,setTimeout(l,0),setTimeout(function(){r.blockSweepTimeouts=!1},5e3))},l=function(){for(var t in r._timeouts){var e=r._timeouts[t];Object(o.isEmpty)(e)&&delete r._timeouts[t]}},u=function(t){var e=t.indexOf(".");return 0<e?t.substring(0,e):"__global__"}},,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"unbreakifyText",function(){return i}),n.d(e,"unescapeHtml",function(){return o}),n.d(e,"stripHtml",function(){return r}),n.d(e,"camelCase",function(){return s}),n.d(e,"snakeCase",function(){return a}),n.d(e,"shallowCamelizeKeys",function(){return l}),n.d(e,"shallowSnakeKeys",function(){return u}),n.d(e,"base64Decode",function(){return h}),n.d(e,"base64Encode",function(){return d}),n.d(e,"notSetOrTrue",function(){return p}),n.d(e,"niceDuration",function(){return f}),n.d(e,"padNumber",function(){return m}),n.d(e,"preventOuterMouseWheel",function(){return y}),n.d(e,"poll",function(){return g}),n.d(e,"throttle",function(){return v});var i=function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").replace(" ","&nbsp;")},o=function(t){var e=document.createElement("div");return e.innerHTML=t.toString().replace(/</g,"&lt;").replace(/>/g,"&gt;"),0<e.childNodes.length?e.childNodes[0].nodeValue:""},r=function(t){var e=document.createElement("div");return e.innerHTML=t,e.textContent||e.innerText||""},s=function(t){return t.replace(/[_-]([a-z])/g,function(t){return t.charAt(1).toUpperCase()})},a=function(t){return t.replace(/[A-Z]/g,function(t){return"_"+t.toLowerCase()})},l=function(t){return Object.keys(t).reduce(function(e,n){return e[s(n)]=t[n],e},{})},u=function(t){return Object.keys(t).reduce(function(e,n){return e[a(n)]=t[n],e},{})},c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h=function(t){var e=String.fromCharCode,n=0,i="";for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");n<t.length;){var o=c.indexOf(t.charAt(n++)),r=c.indexOf(t.charAt(n++)),s=c.indexOf(t.charAt(n++)),a=c.indexOf(t.charAt(n++));i+=e(o<<2|r>>4),64!=s&&(i+=e((15&r)<<4|s>>2)),64!=a&&(i+=e((3&s)<<6|a))}return i},d=function(t){for(var e=0,n="";e<t.length;){var i=t.charCodeAt(e++),o=t.charCodeAt(e++),r=t.charCodeAt(e++),s=(15&o)<<2|r>>6,a=63&r;isNaN(o)?s=a=64:isNaN(r)&&(a=64),n=n+c.charAt(i>>2)+c.charAt((3&i)<<4|o>>4)+c.charAt(s)+c.charAt(a)}return n},p=function(t){return null==t||!0===t},f=function(t){var e=Math.floor,n=0,i=0,o=0;return 0<t&&(n+=e(t/3600),t%=3600),0<t&&(i+=e(t/60),t%=60),o=Math.round(t),60===i&&(n+=1,i=0),60===o&&(i+=1,o=0),0===n?i+":"+m(o,2):n+":"+m(i,2)+":"+m(o,2)},m=function(t){for(var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=""+t;n.length<e;)n="0"+n;return n},y=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,o=e.scrollTop,r=e.scrollHeight,s=e.offsetHeight,a=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return 0>=o+t-n},l=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return o+t+i>=r-s},u=t.deltaY||-t.wheelDelta,c=0<u?"down":"up";if(!t.deltaY){var h=47.5*u/120;"up"==c&&a(h)?(t.preventDefault(),e.scrollTop=0):"down"==c&&l(h)&&(t.preventDefault(),e.scrollTop=r-s)}else("up"==c&&a()||"down"==c&&l())&&t.preventDefault()},g=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:50,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:5e3,o=arguments[4],r=null,s=(new Date).getTime();r=setTimeout(function a(){return(new Date).getTime()-s>i?void("function"==typeof o&&o()):void(t()?e():(clearTimeout(r),r=setTimeout(a,n)))},1)},v=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=null,o=null,r=null,s=null,a=0,l=function(){a=!1===n.leading?0:(new Date).getTime(),s=null,r=e.apply(i,o),s||(i=o=null)};return function(){var u=(new Date).getTime();a||!1!==n.leading||(a=u);var c=t-(u-a);return i=this,o=arguments,0>=c||c>t?(clearTimeout(s),s=null,a=u,r=e.apply(i,o),!s&&(i=o=null)):!s&&!1!==n.trailing&&(s=setTimeout(l,c)),r}}},function(t){!function(e,n){function i(t,e){return(typeof e)[0]==t}function o(t,s){return s=function t(a,l,u,c,h,d){function p(e){return function(n){h&&(h=0,t(i,e,n))}}if(c=t.q,a!=i)return o(function(t,e){c.push({p:this,r:t,j:e,1:a,0:l})});if(u&&i(e,u)|i(n,u))try{h=u.then}catch(p){l=0,u=p}if(i(e,h))try{h.call(u,p(1),l=p(0))}catch(p){l(p)}else for(s=function(t,n){return i(e,t=l?t:n)?o(function(e,n){r(this,e,n,u,t)}):p},d=0;d<c.length;)h=c[d++],i(e,a=h[l])?r(h.p,h.r,h.j,u,a):(l?h.r:h.j)(u)},s.q=[],t.call(t={then:function(t,e){return s(t,e)},catch:function(t){return s(0,t)}},function(t){s(i,1,t)},function(t){s(i,0,t)}),t}function r(t,o,r,s,a){var l=function(){try{s=a(s),a=s&&i(n,s)|i(e,s)&&s.then,i(e,a)?s==t?r(TypeError()):a.call(s,o,r):o(s)}catch(t){r(t)}};window.setImmediate?window.setImmediate(l):setTimeout(l,0)}function s(t){return o(function(e){e(t)})}window.Promise?t.exports=window.Promise:(t.exports=o,o.resolve=s,o.reject=function(t){return o(function(e,n){n(t)})},o.all=function(t){return o(function(e,n,i,o){o=[],i=t.length||e(o),t.map(function(t,r){s(t).then(function(t){o[r]=t,--i||e(o)},n)})})},o.race=function(t){return o(function(e,n){t.map(function(t){s(t).then(e,n)})})})}("f","o")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"findScriptInDomBySrc",function(){return u}),n.d(e,"runScript",function(){return c}),n.d(e,"runScripts",function(){return h}),n.d(e,"scriptInputsToHash",function(){return d});var i=n(21),o=n.n(i),r=n(1),s=n(9),a=n(2),l=n(27),u=function(t){for(var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=document.getElementsByTagName("script"),i=0;i<n.length;i++){var o=n[i],r=o.getAttribute("src")||"";if(e.ignoreQueryParams){var s=r.split("?"),a=s[0],l=s[1];r=a}if(e.ignoreProtocol&&(r=r.replace(/^https?:/,""),t=t.replace(/^https?:/,"")),e.testStartsWith){if(0===r.indexOf(t))return o}else if(r===t)return o}return null},c=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:8e3,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};null==n&&(n=8e3),null==i&&(i={});var r,s,a=new o.a,c=new o.a;return!0===i.once&&(r=u(t))&&(s=!0),i.once&&s?(!r.readyState||/loaded|complete/.test(r.readyState))&&setTimeout(function(){a(!0)},1):Object(l.a)(t,n).then(function(){a(!0)}).catch(function(t){a(!0,t),setTimeout(function(){throw t},1)}),"function"==typeof e&&a.then(e),{loaded:a,error:function(){return c}}},h=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e[0]instanceof Array){var i=e[1];e=e[0],i&&(e=e.concat(i))}e=d(e);for(var s,a=0;a<e.length;a++)s=e[a],s.src&&s.preloadAllowed&&c(s.src,null,null,s);for(var l=[],u=[],h=0;h<e.length;h++){var p=e[h],f=new o.a,m=new o.a;(function(t,e,n){o.a.when.apply(o.a,l).run(function(){if(t.fn){var i=function(){try{t.fn()}catch(t){r.wlog.error(t)}finally{e.go(),n.go()}};t.async?setTimeout(i,1):i()}else if(t.src){var o=function(){c(t.src,null,null,t).loaded(function(){n.go(),e.go()})};t.async?(setTimeout(o,1),e.go()):setTimeout(o,1)}})})(p,f,m),l.push(f),u.push(m)}return{loaded:o.a.when.apply(o.a,u)}},d=function(t){for(var e,n=[],i=0;i<t.length;i++)e=t[i],"string"==typeof e?n.push({src:e,async:!1}):Object(a.isObject)(e)?n.push(e):n.push({fn:e,async:!1});return n}},function(t){var e=function(){return this}();try{e=e||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t,e,n){"use strict";function i(t,e,n,i){var u="?";for(var h in e=e||{})"callback"!=h&&e.hasOwnProperty(h)&&(u+=encodeURIComponent(h)+"="+encodeURIComponent(e[h])+"&");c.info(t,u,i);var d,p;if(i&&i.once&&(d=(t+u).replace(/\.json[^p]/,".jsonp"),p=Object(a.findScriptInDomBySrc)(d,{ignoreProtocol:!0,testStartsWith:!0})),p){var f=new s.Url(d),m="wistiajsonp-"+f.relative();c.info("script already in DOM",d,"polling",m),Object(l.poll)(function(){return c.info("found",m,"on root object"),null!=o.a[m]},function(){n(o.a[m])},15,3e4)}else{var y;y=e&&e.callback?e.callback:"wistiajson"+ ++r.default._jsonpCounter,c.info("defining on root:",y),o.a[y]=function(t){n(t);try{delete o.a[y]}catch(t){}o.a[y]=null};var g=t+u+"callback="+y;c.info("runScript",g),Object(a.runScript)(g)}return y}Object.defineProperty(e,"__esModule",{value:!0}),e.jsonp=i,n.d(e,"jsonpPlus",function(){return h});var o=n(8),r=n(0),s=n(6),a=n(15),l=n(13),u=n(1),c=u.wlog.getPrefixedFunctions("jsonp");null==r.default._jsonpCounter&&(r.default._jsonpCounter=0);var h=function(t,e,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};o.timeout||(o.timeout=5e3),o.onerror||(o.onerror=function(){});var r=setTimeout(o.onerror,o.timeout);i(t,e,function(t){clearTimeout(r),n&&n(t)},{once:o.once})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"FAILED",function(){return d}),n.d(e,"QUEUED",function(){return p}),n.d(e,"PROCESSING",function(){return f}),n.d(e,"READY",function(){return m}),n.d(e,"filter",function(){return g}),n.d(e,"one",function(){return v}),n.d(e,"readyPublicMp4s",function(){return b}),n.d(e,"readyPublicM3u8s",function(){return _}),n.d(e,"readyPublicFlvs",function(){return w}),n.d(e,"readyPublicMp4sAndFlvs",function(){return A}),n.d(e,"filterOver400",function(){return E}),n.d(e,"readyPublicOver400",function(){return k}),n.d(e,"nonfailedPublicOver400",function(){return C}),n.d(e,"withinQualityRange",function(){return P}),n.d(e,"numericSizeSnapped",function(){return T}),n.d(e,"findClosestAssetByQuality",function(){return O}),n.d(e,"still",function(){return S}),n.d(e,"stillUrl",function(){return B}),n.d(e,"getStillWidth",function(){return I}),n.d(e,"BAKERY_HOSTS",function(){return M}),n.d(e,"isBakeryUrl",function(){return D}),n.d(e,"onePublicReadyWithContainer",function(){return F}),n.d(e,"mp4",function(){return j}),n.d(e,"webm",function(){return L}),n.d(e,"m3u8",function(){return H}),n.d(e,"flv",function(){return R}),n.d(e,"original",function(){return W}),n.d(e,"playable",function(){return N}),n.d(e,"isScreencast",function(){return V}),n.d(e,"videoAspect",function(){return U}),n.d(e,"originalAspect",function(){return z}),n.d(e,"iphone",function(){return G}),n.d(e,"smallestNormalMp4",function(){return q}),n.d(e,"urlWithCorrectHost",function(){return Q}),n.d(e,"nearestOutsideRange",function(){return K}),n.d(e,"moveToFront",function(){return Y});var i=n(2),o=n(19),r=n.n(o),s=n(6),a=n(4),l=n(5),u=n(1),c=function(){function t(t,e){var n,i=[],o=!0,r=!1;try{for(var s,a=t[Symbol.iterator]();!((o=(s=a.next()).done)||(i.push(s.value),e&&i.length===e));o=!0);}catch(t){r=!0,n=t}finally{try{!o&&a.return&&a.return()}finally{if(r)throw n}}return i}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=Array.prototype.slice,d=-1,p=0,f=1,m=2,y=["select","sortFn","sortBy","unique"],g=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};t.assets&&(t=t.assets),(null!=e.qualityMin||null!=e.qualityMax)&&(t=P(t,e.qualityMin,e.qualityMax),e=i.except(e,["qualityMin","qualityMax"]));var n=i.only(e,y),o=n.select||i.except(e,y);o&&(n.select=o);var r=n.select?i.select(t,n.select):i.clone(t);if((n.sortFn||n.sortBy)&&(r=i.sort(r,n.sortFn||n.sortBy)),n.unique){for(var s={},a=0;a<r.length;a++){var l=r[a],u=l[""+n.unique]||"__undefined__";s[u]||(s[u]=l)}for(var c in r=[],s)r.push(s[c])}return r},v=function(t,e){return g(t,e)[0]||null},b=function(t){return g(t,{container:"mp4",status:m,public:!0})},_=function(t){return g(t,{container:"m3u8",status:m,public:!0})},w=function(t){return g(t,{container:"flv",status:m,public:!0})},A=function(t){return g(t,{container:/mp4|flv/,status:m,public:!0})},E=function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n],o=null!=i.opt_vbitrate&&500<=i.opt_vbitrate&&1e5>=i.opt_vbitrate,r=null!=i.width&&400<i.width;(o||r)&&e.push(i)}return e},k=function(t){return E(g(t,{container:/mp4|flv/,public:!0,status:m}))},C=function(t){return E(g(t,{container:/mp4|flv/,public:!0,status:function(t){return t!==d}}))},P=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1e4;return g(t,{select:function(t){var i=T(t.width,t.height);return e<=i&&i<=n}})},T=function(t,e){if(e>t){var n=t;t=e,e=n}var i=t/e,o=t*e+1;return o>=3840/i*3840?2160:o>=2560/i*2560?1440:o>=1920/i*1920?1080:o>=1280/i*1280?720:o>=960/i*960?540:o>=640/i*640?360:e},O=function(t,e){var n=Math.abs,i;i="4k"===e?2160:parseInt(e,10);var o=P(t,i,i)[0];if(o)return o;var r=K(t,i,i);if(1===r.length)return r[0];var s=U(t),a=Math.round(s*i),l=c(r,2),u=l[0],h=l[1];return n(u.width-a)<n(h.width-a)?u:h},S=function(t){var e=v(t,{type:"still_image",sortBy:"created_at desc"});return e||(e=v(t,{container:/mp4/,sortBy:"width desc"})),e},x=r()("fast"),B=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=S(t);if(n.status!==m)return"//"+x+"/assets/images/blank.gif";e=i.merge({aspect:n.width/n.height,stillUrl:n.url,playButton:!1,playerColor:e.playerColor||"636155",videoWidth:n.width||640,videoHeight:n.height||360,stillSnap:!0},e);var o=e.videoWidth,r=e.videoHeight,a=new s.Url(e.stillUrl);return e.retina&&(a.params.image_play_button_size="2x",o*=2,r*=2),e.stillSnap&&(o=I({videoWidth:o,masterStillWidth:n.width}),
r=Math.round(o/e.aspect)),D(e.stillUrl)?("https:"===e.protocol&&(a.protocol="https:",a.host="undefined"),a.params.image_crop_resized=o+"x"+r,(null==e.playButton||e.playButton)&&(a.params.image_play_button=1,a.params.image_play_button_color=(""+e.playerColor).replace(/^#+/,"")+"e0"),a.ext("jpg"),a.absolute()):e.stillUrl},I=function(t){var e=[640,960,1280,1920,3840];3840>t.masterStillWidth&&e.push(t.masterStillWidth);for(var n,i=[],o=0;o<e.length;o++)(n=e[o])<=t.masterStillWidth&&i.push(n);i.sort(function(t,e){return t-e});for(var r,s=0;s<i.length;s++)if(r=i[s],t.videoWidth<=r)return r;return Math.max.apply(Math,i)},M=["undefined","undefined","undefined","undefined",r()("embed"),r()("prime"),r()("mixergy-cdn"),r()("embed-a"),"embedwistia-a.akamaihd.net"],D=function(t){if(null==t)return!1;var e=new s.Url(t);return!!e.host&&0<=M.join(",").indexOf(e.host)},F=function(t,e,n){return n=i.merge({container:e,public:!0,status:m},n),v(t,n)},j=function(t,e){return F(t,"mp4",e)},L=function(t,e){return F(t,"webm",e)},H=function(t,e){return F(t,"m3u8",e)},R=function(t,e){return F(t,"flv",e)},W=function(t){return v(t,{type:"original"})},N=function(t,e){return(2<arguments.length&&void 0!==arguments[2]?arguments[2]:Object(a.cachedDetect)()).video.webm?L(t,e)||j(t,e):j(t,e)},V=function(t){var e=W(t);return e&&640<e.width&&1200>e.bitrate},U=function(t){var e=j(t)||R(t)||H(t)||L(t)||W(t);return e&&e.height?e.width/e.height:640/360},z=function(t){var e=W(t);return e&&e.width&&e.height?e.width/e.height:U(t)},G=function(t,e){if(1<U(t))return e=i.merge({width:640},e),j(t,e)||q(t,e);var n=i.merge({width:320},e),o=i.merge({width:640},e);return j(t,n)||j(t,o)||q(t,e)},q=function(t,e){return e=i.merge({sortBy:"width asc",width:[640,1920]},e),j(t,e)},Q=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Object(s.proto)(),n=new s.Url(t);return D(t)&&("https:"===e?(n.host=l.deliveryHost(location.protocol),n.protocol="https:"):(n.host=l.deliveryHost(location.protocol),n.protocol="http:")),n.absolute()},K=function(t,e,n){if(0===t.length)return[];for(var i=h.call(t).sort(function(t,e){return T(t.width,t.height)-T(e.width,e.height)}),o=i[0],r=i[i.length-1],s=void 0,a=void 0,l=0;l<i.length;l++){var c=i[l],d=T(c.width,c.height);if(d<e&&(s=c),d>=n){a=c;break}}var p=[];return s&&p.push(s),a&&p.push(a),0===p.length&&(u.wlog.error("nearestOutsideRange: no nearby assets found, using first in list",i[0]),p.push(i[0])),p},Y=function(t,e){if(!e)return t;for(var n,i=-1,o=0;o<t.length;o++)if(n=t[o],n.url===e.url){i=o;break}return 0<i&&(t.splice(i,1),t.unshift(e)),t}},function(t){var e;e=function(t){var e;return null==t&&(t="app"),e=t?t+".wistia.com":"wistia.com"},t.exports=e},,function(t){var e,n=[].slice;e=function(){function t(){return this._queue=[],this._green=!1,this._lock=!1,this.allInOne=function(t){return function(){return t._allInOne.apply(t,arguments)}}(this),this.defineMethodsOn(this.allInOne),this.allInOne}return t.prototype.defineMethodsOn=function(t){var e,n,i,o,r;for(n in e={},i=this,o=[],i)r=i[n],o.push(function(){return function(n,i,o){if("[object Function]"===e.toString.call(i))return t[n]=function(){return o[n].apply(o,arguments)}}}(this)(n,r,this));return o},t.prototype.flush=function(){var t,e;if(t=1<=arguments.length?n.call(arguments,0):[],!this._green)return this;for(this._lock=!0;0<this._queue.length&&(e=this._queue.shift(),t.length||!this.goArgs?this.tryAndReport(function(){return e.apply(null,t)}):this.tryAndReport(function(t){return function(){return e.apply(null,t.goArgs)}}(this)),!this._block&&this._green););return this._lock=!1,this},t.prototype._debug=function(){return"undefined"!=typeof console&&null!==console?console.log.apply(console,arguments):void 0},t.prototype.synchronize=function(){var t,e,i,o;for(e=1<=arguments.length?n.call(arguments,0):[],i=0,o=e.length;i<o;i++)t=e[i],this.synchronizeFn(t);return this},t.prototype.synchronizeFn=function(t){var e,n,i;return n=null,e=function(t){return function(){return clearTimeout(n),t._block=!1,t.go()}}(this),i=function(n){return function(){return n._block=!0,n.stop(),t(e)}}(this),n=setTimeout(function(n){return function(){return n._debug("StopGo#synchronize timed out",t),e()}}(this),5e3),this.runFn(i),this},t.prototype.tryAndReport=function(t){var e;try{return t()}catch(t){return e=t,e.stack?("undefined"!=typeof console&&null!==console&&console.log(e.message),"undefined"!=typeof console&&null!==console?console.log(e.stack):void 0):"undefined"!=typeof console&&null!==console?console.log(e):void 0}},t.prototype.clearSynchronized=function(){return this.setQueue([]),this._block=!1,this._green=!0},t.prototype.filter=function(t){var e;return this._queue=function(){var n,i,o,r;for(o=this._queue,r=[],n=0,i=o.length;n<i;n++)e=o[n],t(e)&&r.push(e);return r}.call(this),this},t.prototype.push=function(t){return this._queue.push(t),this},t.prototype.go=function(){var t;return t=1<=arguments.length?n.call(arguments,0):[],this._green=!0,this.goArgs=t,this.flush.apply(this,t),this},t.prototype.stop=function(){return this._green=!1,this},t.prototype.run=function(){var t,e,i,o;for(e=1<=arguments.length?n.call(arguments,0):[],i=0,o=e.length;i<o;i++)t=e[i],this.runFn(t);return this},t.prototype.then=function(){return this.run.apply(this,arguments)},t.prototype.runFn=function(t){return this._green&&!this._block?this._lock?this.tryAndReport(t):(this.push(t),this.flush()):this.push(t),this},t.prototype.remove=function(){var t,e,i,o;for(e=1<=arguments.length?n.call(arguments,0):[],i=0,o=e.length;i<o;i++)t=e[i],this.removeFn(t);return this},t.prototype.removeFn=function(t){return this.filter(function(e){return t!==e}),this},t.prototype.setQueue=function(t){return this._queue=t,this},t.prototype.getQueue=function(){return this._queue},t.prototype._allInOne=function(){var t,e;return t=arguments[0],e=2<=arguments.length?n.call(arguments,1):[],!0===t?this.go.apply(this,e):!1===t?this.stop():null==t?this._green:t instanceof Array?this.run.apply(this,t):"string"==typeof t?this[t].apply(this,e):this.run.apply(this,arguments)},t}(),e.when=function(){var t,i,o,r,s,a,l,u;for(u=1<=arguments.length?n.call(arguments,0):[],a=new e,o=function(){return a.go.apply(a,arguments)},s=u.reverse(),t=function(t,e){return o=function(){return e(function(){return t.apply(null,arguments)})}},i=0,r=s.length;i<r;i++)l=s[i],t(o,l);return o(),a},t.exports=e},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"controlDimensionsForVideo",function(){return u}),n.d(e,"scalingOptionsFromVideo",function(){return c}),n.d(e,"controlDimensions",function(){return h}),n.d(e,"bigPlayButtonDimensions",function(){return d}),n.d(e,"fontSizeMultiplier",function(){return p}),n.d(e,"allowBigControls",function(){return f}),n.d(e,"maxMultiplierForVideo",function(){return m}),n.d(e,"minMultiplierForVideo",function(){return y}),n.d(e,"getZoomMultiplier",function(){return g}),n.d(e,"getDeviceMultiplier",function(){return v}),n.d(e,"controlMultiplierForVideo",function(){return b}),n.d(e,"controlMultiplier",function(){return _}),n.d(e,"menuMultiplier",function(){return w}),n.d(e,"fitControl",function(){return A}),n.d(e,"tapIcon",function(){return E}),n.d(e,"controlMultiplierBasedOnVideo",function(){return P});var i=n(7),o=n(10),r=n(4),s=n(2),a=function(){function t(t,e){var n,i=[],o=!0,r=!1;try{for(var s,a=t[Symbol.iterator]();!((o=(s=a.next()).done)||(i.push(s.value),e&&i.length===e));o=!0);}catch(t){r=!0,n=t}finally{try{!o&&a.return&&a.return()}finally{if(r)throw n}}return i}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=Object(r.cachedDetect)(),u=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2],i=arguments[3];return h(c(t,e),n,i)},c=function(t,e){return s.merge({videoWidth:t.videoWidth(),videoHeight:t.videoHeight(),isInFullscreen:t.inFullscreen(),controlScaling:t.controlScaling()},e)},h=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:40,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:34;t=s.merge({videoWidth:640,videoHeight:360,isInFullscreen:!1,baseWidth:null==e?40:e,baseHeight:null==n?34:n},t);var i=_(t);return{width:i*t.baseWidth,height:i*t.baseHeight}},d=function(t,e,n){return h(t,e,n)},p=function(t){return _(t)},f=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.screenHeight||window.screen.height,n=t.screenWidth||window.screen.width;return"auto"!=t.controlScaling||l.iphone||l.android||n<e},m=function(t){return"auto"==t.controlScaling?f(t)?3.5:1.4:t.controlScaling},y=function(t){return"auto"==t.controlScaling?f(t)?1:.75:t.controlScaling},g=function(t){var e=Math.max;return t.isInFullscreen?e(1,window.innerWidth/e(screen.width,screen.height)):1},v=function(t){return f(t)?1.4:1},b=function(t,e){return _(c(t,e))},_=function(t){var e=Math.max;if("auto"!=t.controlScaling)return t.controlScaling;var n=t.videoWidth,i=t.videoHeight,o=t.isInFullscreen,r=g(t),s=e(n,i);if(960<s){var a=s/960*v(t);return Math.min(m(t)*r,a*r)}if(640>s){var l=s/640*v(t);return e(y(t)*r,l*r)}return 1*v(t)},w=function(t){return Math.max(.75,_(t))},A=function(t){var e=t,n=e.controlId,o=e.video,r=e.controlElem;t=s.merge({videoWidth:o.videoWidth(),videoHeight:o.videoHeight(),controlScaling:o.controlScaling(),isInFullscreen:o.inFullscreen()},t);var a=h(t),l=a.width,u=a.height;return Object(i.elemStyle)(r,{height:u+"px",width:l+"px"}),E(o.uuid+"."+n,r),{width:l,height:u}},E=function(t,e){for(var n=e.getElementsByTagName("svg"),r=0;r<n.length;r++)!function(e){Object(o.doTimeout)(t+".tap_icon",function(){Object(i.elemStyle)(e,{position:"relative"}),Object(o.doTimeout)("#{timeoutPrefix}.tap_icon",function(){Object(i.elemStyle)(e,{position:""})},30)},30)}(n[r])},k=function(){var t=document.querySelector("meta[name=viewport]"),e=t&&t.getAttribute("content"),n={};if(e){e.split(/[\s,]+/).forEach(function(t){var e=t.split("=");2===e.length&&(n[e[0]]=s.cast(e[1]))})}return n},C=function(){if(!(l.iphone||l.ipad||l.android))return[640,960];var t,e=k();if(e.width){t="number"==typeof e.width?0+e.width:screen.width||window.innerWidth;var n=Math.max(e["minimum-scale"]||0,Math.min(e["maximum-scale"]||10,e["initial-scale"]||1));1>n&&(t/=n)}else t=window.innerWidth;return[t,2*t/3]},P=function(t,e){var n=t.videoWidth(),i=e||C(),o=a(i,2),r=o[0],s=o[1];return n<r?n/r:n>s?n/s:1}},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"AJAX_DEFAULTS",function(){return f}),n.d(e,"ajaxGet",function(){return m}),n.d(e,"ajaxHead",function(){return y}),n.d(e,"ajaxPost",function(){return g}),n.d(e,"ajax",function(){return v});var i=n(2),o=n(6),r=n(4),s=n(15),a=n(1),l=n(9),u=n(17),c=n(10),h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d=Object(r.cachedDetect)(),p=a.wlog.getPrefixedFunctions("ajax"),f={type:"GET",contentType:"",headers:void 0,data:void 0,dataType:void 0,timeout:0,success:void 0,error:void 0,complete:void 0},m=function(t,e){return e=Object(i.merge)({},e,{type:"GET",data:void 0}),v(t,e)},y=function(t,e){return e=Object(i.merge)({},e,{type:"HEAD",data:void 0}),v(t,e)},g=function(t,e){return e=Object(i.merge)({contentType:"application/x-www-form-urlencoded"},e,{type:"POST"}),v(t,e)},v=function(t,e){p.info("ajax",t,e);var n=Object(i.merge)({},f,e),r=new o.Url(t);r.protocol=r.protocol||Object(o.proto)();var a=!!(d.browser.msie&&11>d.browser.version),m=Object(o.proto)()!==r.protocol;if(p.info("noHttpToHttpsSupport",a,"isHttpToHttps",m),n.fallbackToJsonp&&m&&a){if(p.info("fallbackToJsonp"),n.type&&!/get/i.test(n.type))return void(Object(i.isFunction)(n.error)&&n.error.call(null,null,"error","This browser does not support POST requests from an http to an https domain. To use this feature, please make sure this page is loaded over https."));var y=r.params;n.data&&Object(i.isObject)(n.data)&&(y=Object(i.merge)(y,n.data)),n.jsonpCallback&&(y.callback=n.jsonpCallback),r.params={};var g=Object(s.findScriptInDomBySrc)(r.absolute(),{ignoreProtocol:!0,testStartsWith:!0});g&&(p.info("found existing script, removing",r.absolute()),g.onload=g.onreadystatechange=g.onerror=null,g.parentNode&&g.parentNode.removeChild(g));var v=Object(l.default)("ajax-jsonp.");Object(u.jsonp)(r.absolute(),y,function(t){if(Object(c.clearTimeouts)(v),"json"===n.dataType&&"string"==typeof t)try{var e=JSON.parse(t);n.success(e,"OK",t),n.complete(null,"OK")}catch(e){n.error(null,"parseerror",t),n.complete(null,t)}else n.success(t,"OK")}),Object(c.doTimeout)(v,function(){n.error(null,"timeout"),p.warn("request timed out:",r.absolute(),y)},6e4)}var b=r.absolute(),w=_(b);if(!w)return Object(i.isFunction)(n.error)&&n.error.call(null,w,"error","Could not create XMLHttpRequest"),void(Object(i.isFunction)(n.complete)&&n.complete.call(null,w,"error"));var A=null!=window.XDomainRequest&&w instanceof window.XDomainRequest,E=!1,k=!1,C=function(t,e,o){!E&&Object(i.isFunction)(n.error)&&n.error.call(null,t,e,o),E=!0},P=function(t,e,o){Object(i.isFunction)(n.success)&&!E&&n.success.call(null,t,e,o),E=!0},T=function(t,e){Object(i.isFunction)(n.complete)&&!k&&n.complete.call(null,t,e),t.onerror=t.ontimeout=t[A?"onload":"onreadystatechange"]=null,k=!0};p.info("xhr.open",n.type,b),w.open(n.type,b,!0);var O=function(){if(null!=w.status&&(200<=w.status&&300>w.status||304==w.status))if("json"==n.dataType&&"object"!==h(w.response))try{var t=JSON.parse(w.responseText);p.info("success",w.statusText,t),P(t,w.statusText,w)}catch(t){C(w,"parseerror",t),p.warn("parseerror"),p.warn(t)}else P(w.response||w.responseText,w.statusText,w),p.info("success",w.statusText,w.response||w.responseText);else C(w,"error",w.statusText),p.warn("error",w.statusText);T(w,w.statusText),p.info("complete",w.statusText)},S=function(t,e){C(w,t,e),T(w,t)};if(n.timeout&&(w.timeout=n.timeout),null!=n.dataType&&(w.responseType=n.dataType),Object(i.isFunction)(w.setRequestHeader)&&(n.contentType&&w.setRequestHeader("Content-Type",n.contentType),n.headers))for(var x in n.headers)w.setRequestHeader(x,n.headers[x]);if(n.withCredentials&&(w.withCredentials=!0),A){if(p.info("isXDomainObject"),null!=n.headers)return S("error","custom headers disallowed for XDomainRequest");w.onload=function(){p.info("XDomainObject onload"),w.status=200,w.statusText="OK",O()},w.onerror=function(){return S("error","error")},w.ontimeout=function(){return S("timeout","timeout")}}else w.onreadystatechange=function(){p.info("xhr onreadystatechange",w.readyState),4==w.readyState&&O()},w.onerror=function(){return S("error","error")},w.ontimeout=function(){return S("timeout","timeout")};return p.info("xhr.send",n.data),w.send(n.data),w},b=[function(){var t,e;return function(n){if(null!=window.XDomainRequest){null==t&&(t=window.location.href),null==e&&(e=new o.Url(t.toLowerCase()));var i=new o.Url(n.toLowerCase()),r=!1;return r||(r=e.protocol!=i.protocol),r||(r=e.host!=i.host),r?new window.XDomainRequest:null}}}(),function(){return new XMLHttpRequest},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],_=function(t){for(var e,n=void 0,i=0;i<b.length;i++){e=b[i];try{n=e(t)}catch(e){continue}if(n)break}return n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"getDefaultContext",function(){return P}),n.d(e,"buildContext",function(){return T}),n.d(e,"choosePlayer",function(){return O}),n.d(e,"bestPlayer",function(){return S}),n.d(e,"isValidPlayer",function(){return x}),n.d(e,"canUsePlayer",function(){return B}),n.d(e,"canPlayInline",function(){return I}),n.d(e,"usablePlayers",function(){return M}),n.d(e,"supportedPlayers",function(){return D}),n.d(e,"isSupportedPlayer",function(){return F}),n.d(e,"hasAssetsForPlayer",function(){return j}),n.d(e,"determinePlayerPreferenceFromInput",function(){return L}),n.d(e,"isMobile",function(){return H}),n.d(e,"isPasswordProtected",function(){return R}),n.d(e,"isNotPlayable",function(){return W}),n.d(e,"noFallbackFromFlash",function(){return N}),n.d(e,"logWarnings",function(){return V}),n.d(e,"shouldServeHls",function(){return U}),n.d(e,"hasDesktopHlsAssets",function(){return z}),n.d(e,"xhrHasBeenTamperedWith",function(){return Q}),n.d(e,"urlHasBeenTamperedWith",function(){return K}),n.d(e,"PLUGIN_CONFIGS",function(){return J}),n.d(e,"playerPlugins",function(){return Z}),n.d(e,"enginesToLoad",function(){return tt}),n.d(e,"bestUsableEngineClass",function(){return nt}),n.d(e,"bestUsableEngine",function(){return it}),n.d(e,"report",function(){return ot});var i=n(8),o=n(0),r=n(18),s=n(2),a=n(26),l=n(4),u=n(1),c,h=u.wlog.getPrefixedFunctions("judy"),d="vulcan",p="vulcan-v2",f="html5",m="simplehtml5",y="flash",g="external",v="notplayable",b="passwordprotected",_="auto",w=[d,p,f,m,y,g,v,b],A="nativeHlsVideo",E="hlsVideo",k="manualQualityVideo",C="twoStrokeVideo",P=function(){return c||(c={location:window.location,logger:h,pageUrl:location.href,detect:s.clone(Object(l.cachedDetect)()),userAgent:navigator.userAgent,silenceGlobalWarnings:i.a.wistiaSilenceGlobalWarnings,inIframe:top!==self})},T=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return s.assign({},P(),t)},O=function(t,e,n){var i=t.logger,o=e.assets,r=n.force,s=n.playerForce;!s&&r&&(s=r),i.info("choosePlayer input",e.hashedId);var a=L(t,e,n);if(s&&!x(t,s)&&(i.error('Invalid playerForce option: "'+s+'", ignoring'),s=r=null),a&&a!==_&&!x(t,a)&&(i.error('Invalid playerPreference option: "'+a+'", ignoring'),a=_),i.info("playerPreference is",a),s)return i.info('"playerForce" used, return',s),s;if(R(t,n))return i.info("return",b),b;if(W(t,e))return i.info("return",v),v;if(a!==_&&B(t,a,o)){var l=(e.spherical||n.spherical)&&!n.overrideSpherical;return a===p&&l?(i.info("vulcan-v2 doesn't support spherical, return",d),d):(i.info('"playerPreference" used, return',a),a)}return i.info("choosing player with no preference"),S(t,e,n)},S=function(t,e,n){var i=t.location,o=t.detect,r=t.logger,a=t.inIframe,l=e.assets;if(o.oldandroid)return r.info("oldandroid"),B(t,y,l)&&"https:"===i.protocol?(r.info("flash on old android"),y):(r.info("external on old android"),g);if(B(t,d,l)){var u=(e.spherical||n.spherical)&&!n.overrideSpherical,c=s.get(n,"plugin.captions-v1"),h=null!=c&&!1!==c.on,p=o.iphone||o.android||o.ipad;return!1===n.playsinline&&p||!u&&0<o.ios.version&&n._inIframe&&h&&!1!==n.fullscreenButton?(r.info("ios iframe w/ captions, ret",f),f):(r.info("default, ret",d),d)}return B(t,y,l)?(r.info("default, ret",y),y):B(t,f,l)?(r.info("default, ret",f),f):N(t)?(r.info("no fallback from flash, return",y),y):(r.info("nothing left, use",g),g)},x=function(t,e){return 0<=s.indexOf(w,e)},B=function(t,e,n){return F(t,e)&&j(t,e,n)},I=function(t){var e=t.detect;return e.android||10<=e.ios.version},M=function(t,e){for(var n,i=[],o=D(t),r=0;r<o.length;r++)n=o[r],B(t,n,e)&&i.push(n);return i},D=function(t){var e=t.detect,n=[v,b,g];return e.vulcanSupport?(n.push(d),n.push(p)):(e.iphone||e.ipad||e.android)&&(n.push(d),n.push(p)),e.video.h264&&n.push(f),9<=e.flash.version&&n.push(y),n},F=function(t,e){return!!x(t,e)&&0<=s.indexOf(D(t),e)},j=function(t,e,n){if(!x(t,e))return!1;if(e===v||e===b)return!0;if(e===d||e===p)return 0<r.readyPublicMp4s(n).length||0<r.readyPublicM3u8s(n).length;if(e===f)return 0<r.readyPublicMp4s(n).length;if(e===y)return 0<r.readyPublicFlvs(n).length||0<r.readyPublicMp4s(n).length;if(e===g)return 0<r.readyPublicMp4s(n).length;throw new Error("Unhandled player type '"+e+"'")},L=function(t,e,n){var i=n.playerPreference||n.platformPreference;return i&&i!==_?i===f?H(t)?f:d:i===m?f:i:_},H=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:context,e=t.detect;return e.iphone||e.ipad||e.android},R=function(t,e){var n=s.get(e,"plugin.passwordProtectedVideo");return null!=n&&!1!==n.on},W=function t(e,n){var i=n.assets;return 0===i.length||1===i.length&&"original"===i[0].type||0==r.readyPublicMp4sAndFlvs(i).length||0<r.nonfailedPublicOver400(i).length&&0===r.readyPublicOver400(i).length||et(n)&&t(e,n.secondaryMediaData)},N=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:context,e=t.detect;return e.browser.msie&&(9>e.browser.version||e.browser.quirks)||e.browser.mozilla},V=function(t){var e=t.detect,n=t.userAgent,i=t.logger;if(!t.silenceGlobalWarnings){var o=e.browser.msie&&11>e.browser.version,r=/phantomjs/i.test(n);!Q()||r||o||i.error("The XMLHttpRequest constructor has been tampered with. Because this affects CORS/Range XHR requests, HLS playback has been disabled. To enable HLS playback and other important features, please remove code that changes the definition of window.XMLHttpRequest."),K()&&e.mediaSource&&!r&&!o&&i.error("window.URL.createObjectURL has been tampered with. Because this affects use of Media Source Extensions, HLS playback has been disabled. window.URL is a browser API that should not be clobbered. Its current value is:",window.URL)}},U=function(t,e,n){var i=t.detect;return(i.mediaSource||i.nativeHls)&&(!i.chrome||50<parseInt(i.chrome.version))&&!i.trident&&(e.hls_enabled||Y(t,n))&&!1!==Y(t,n)&&z(t,e.assets)&&(!Q(t)&&!K(t)||Y(t,n))},z=function(t,e){var n=r.filter(e,{container:"m3u8",type:"hls_video",status:r.READY,sortBy:"width desc",metadata:function(t){return t&&t.max_bitrate},display_name:function(t){return"Audio"!=t}}),i=r.filter(e,{container:"mp4",status:r.READY,sortBy:"width desc"});return 0<n.length&&(0===i.length||n[0].width>=i[0].width)},G=/\s*function\s+XMLHttpRequest\(\)\s*{\s*\[native code\]\s*}\s*/m,q=/\[object XMLHttpRequestConstructor\]/m,Q=function(){if(XMLHttpRequest&&XMLHttpRequest.prototype&&XMLHttpRequest.prototype.constructor){var t=XMLHttpRequest.prototype.constructor.toString();return!(G.test(t)||q.test(t))}return!0},K=function(){return"function"!=typeof(window.URL&&window.URL.createObjectURL)},Y=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:context,e=t.pageUrl,n=arguments[1],i=X(e);if(null!=i)return i;var o=Object(a.setOrGet)("forceHls");return null==o?n.hls:o},X=function(t){var e=t&&t.match&&t.match(/[\&\?]whls=([^\&]+)/),n=e&&e[1];return null==n?null:s.cast(n)},J={sphericalVideo:{on:!0,initBeforeHasData:!1,async:!1},notPlayableVideo:{on:!0,initBeforeHasData:!0,async:!1,loadWeight:-1},vulcanVideo:{on:!0,initBeforeHasData:!1,async:!1,loadWeight:-1},vulcanV2Video:{on:!0,initBeforeHasData:!1,async:!1,loadWeight:-1},hlsVideo:{on:!0,initBeforeHasData:!1,async:!1,loadWeight:0},nativeHlsVideo:{on:!0,initBeforeHasData:!1,async:!1,loadWeight:0},passwordProtectedVideo:{on:!0,initBeforeHasData:!0,async:!1,loadWeight:-1},encodingProgress:{on:!0,initBeforeHasData:!1,async:!0,loadWeight:100},flashPlayer:{on:!0,initBeforeHasData:!1,async:!1,loadWeight:-1},html5Player:{on:!0,initBeforeHasData:!1,async:!1,loadWeight:-1}},$=function(t,e){var n={};return n[e]=J[e],n},Z=function(t,e,n,i){var o=t.detect,r=t.logger,a={};if(r.info("playerPlugins input",e,n.hashedId,n,i),e===v)s.merge(a,$(t,"notPlayableVideo"));else if(e===b)s.merge(a,$(t,"passwordProtectedVideo"));else if(e===f)s.merge(a,$(t,"html5Player"));else if(e===y)s.merge(a,$(t,"flashPlayer"));else if(e===p)s.merge(a,$(t,"vulcanV2Video"));else if(e===d){s.merge(a,$(t,"vulcanVideo")),(n.spherical||i.spherical)&&!i.overrideSpherical&&s.merge(a,$(t,"sphericalVideo"));for(var l=tt(t,n,i),u=0;u<l.length;u++)s.merge(a,$(t,l[u]))}var c=[];for(var h in a)c.push(h);return r.info.apply(r,["playerPlugins output"].concat(c,[a])),a},tt=function t(e,n){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},o=e.detect,r=e.logger,a=[];r.info("enginesToLoad");var l=U(e,n,i);if(l&&o.nativeHls?(r.info(A),a.push(A)):l?(r.info(E),a.push(E)):(r.info(k),a.push(k)),et(n)){r.info(C),a.push(C);var u=s.except(i,["twoStroke"]),c=n.secondaryMediaData,h=t(e,c,u);a=a.concat(h)}else i.secondaryVideoUrl&&(r.info("secondaryVideoUrl",C),a.push(C));var d={};a.map(function(t){d[t]=!0});var p=[];for(var f in d)p.push(f);return p},et=function(t){return!!t.secondaryMediaData},nt=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=t.detect,r=t.logger;r.info("bestUsableEngineClass");var s=U(t,e,n),a=o.default.engines||{};return et(e)&&a.TwoStrokeVideo?(r.info(C),a.TwoStrokeVideo):n.secondaryVideoUrl&&a.TwoStrokeVideo?(r.info(C),a.TwoStrokeVideo):s&&i.nativeHls&&a.NativeHlsVideo?(r.info(A),a.NativeHlsVideo):s&&a.HlsVideo?(r.info(E),a.HlsVideo):(r.info(k),a.ManualQualityVideo)},it=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=t.detect,o=t.logger;o.info("bestUsableEngineClass");var r=U(t,e,n);return et(e)?(o.info(C),"engines/two_stroke_video.js"):n.secondaryVideoUrl?(o.info(C),"engines/two_stroke_video.js"):r&&i.nativeHls?(o.info(A),"engines/native_hls_video.js"):r?(o.info(E),"engines/hls_video.js"):(o.info(k),"engines/manual_quality_video.js")},ot=function(t,e,n){return{bestPlayer:S(t,e,n),supportedPlayers:D(t),usablePlayers:M(t,e.assets),playerPreferenceFromInput:L(t,e,n)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"init",function(){return l}),n.d(e,"uncache",function(){return u}),n.d(e,"setOrGet",function(){return c}),n.d(e,"removeLocalStorage",function(){return h}),n.d(e,"dumpLocalStorage",function(){return d});var i=n(0),o=n(4),r=n(2),s=n(1),a=Object(o.cachedDetect)(),l=function(){if(a.localstorage&&null==i.default._localStorage&&(i.default._localStorage={},localStorage.wistia))try{i.default._localStorage=JSON.parse(localStorage.wistia)}catch(t){s.wlog.notice(t)}},u=function(){i.default._localStorage={}},c=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(a.localstorage){if(null==i.default._localStorage&&l(),null!=e){n?Object(r.unset)(i.default._localStorage,t):Object(r.set)(i.default._localStorage,t,e);try{localStorage.wistia=JSON.stringify(i.default._localStorage)}catch(e){s.wlog.notice(e)}return e}return null==t?i.default._localStorage:Object(r.get)(i.default._localStorage,t)}},h=function(t){return c(t,"nada",!0)},d=function(){if(a.localstorage){i.default._localStorage={};try{localStorage.removeItem("wistia")}catch(t){s.wlog.error(t)}}}},function(t,e,n){"use strict";var i=n(14),o=n.n(i);e.a=function(t,e){return new o.a(function(n,i){null==e&&(e=8e3);var o;o=document.createElement("script"),o.src=t,o.async=!0,o.type="text/javascript";var r=null,s=!1,a=function(){o.onerror=o.onreadystatechange=o.onload=null,clearTimeout(r),clearTimeout(u),r=setTimeout(function(){o&&o.parentNode&&o.parentNode.removeChild(o)},500)},l=function(){var t=o.readyState;s||t&&!/loaded|complete/.test(t)||(s=!0,setTimeout(function(){n(),a()},1))},u=setTimeout(function(){s=!0,a(),i("timeout")},e);o.onerror=function(){s=!0,a(),i("error")},o.onreadystatechange=l,o.onload=l,(document.body||document.head).appendChild(o)})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"bind",function(){return s}),n.d(e,"unbind",function(){return a}),n.d(e,"rebind",function(){return l}),n.d(e,"trigger",function(){return u}),n.d(e,"once",function(){return h}),n.d(e,"initNamespace",function(){return d}),n.d(e,"bindNamed",function(){return m}),n.d(e,"unbindNamed",function(){return y}),n.d(e,"unbindAllInNamespace",function(){return g}),n.d(e,"bindify",function(){return b}),n.d(e,"Bindings",function(){return _});var i=n(1),o=i.wlog.getPrefixedFunctions("bindify"),r=Array.prototype.slice,s=function(t,e){var n=this;return n._bindings||(n._bindings={}),n._bindings[t]||(n._bindings[t]=[]),n._bindings[t].push(e),function(){n.unbind(t,e)}},a=function(t,e){if(!this._bindings)return this;if(!this._bindings[t])return this;for(var n,i=[],o=0;o<this._bindings[t].length;o++)(n=this._bindings[t][o])!==e&&i.push(n);this._bindings[t]=i},l=function(t,e){return this.unbind(t,e),this.bind(t,e),{event:t,fn:e}},u=function(t){for(var e=arguments.length,n=Array(1<e?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return this._bindings&&null!=this._bindings.all&&c.apply(this,["all",t].concat(n)),c.apply(this,[t].concat(n))},c=function(t){if(!this._bindings)return this;if(!this._bindings[t])return this;for(var e,n=r.call(arguments,1),i=void 0,s=this._bindings[t],a=0;a<s.length;a++){e=s[a];try{e.apply(this,n)===this.unbind&&(null==i&&(i=[]),i.push({event:t,fn:e}))}catch(e){o.error(e)}}if(i)for(var l,u=0;u<i.length;u++)l=i[u],this.unbind(l.event,l.fn);return this},h=function(t,e){return s(t,function(){return e.apply(this,r.call(arguments,0)),a})},d=function(t,e){null==t._namedBindings&&(t._namedBindings={}),null==t._namedBindings[e]&&(t._namedBindings[e]={})},p=function(t,e,n){return d(t,e),t._namedBindings[e][n]},f=function(t,e,n,i,o){d(t,e),t._namedBindings[e][n]={event:i,fn:o}},m=function(t,e,n,i){return o.debug("bindNamed",t,e,n),this.unbindNamed(t,e),f(this,t,e,n,i),this.bind(n,i),function(){this.unbindNamed(t,e)}},y=function(t,e){o.debug("unbindNamed",t,e),d(this,t);var n=p(this,t,e);if(n){var i=n.event,r=n.fn;this.unbind(i,r)}var s=this._namedBindings;return delete s[t][e],v(s[t])&&delete s[t],this},g=function(t){o.debug("unbindAllInNamespace",t);var e=this._namedBindings&&this._namedBindings[t];if(null==e)return this;for(var n in e)e.hasOwnProperty(n)&&this.unbindNamed(t,n)},v=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},b=function(t){return t.bind=s,t.unbind=a,t.on=s,t.off=a,t.rebind=l,t.trigger=u,t.bindNamed=m,t.unbindNamed=y,t.unbindAllInNamespace=g,t},_=function(){};b(_.prototype)},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"canEditMedia",function(){return p}),n.d(e,"fetchMedia",function(){return f}),n.d(e,"EMBED_SSL_ACCOUNT_IDS",function(){return m}),n.d(e,"isEmbedSslMedia",function(){return y}),n.d(e,"convertEmbedSslToAkamai",function(){return g}),n.d(e,"cacheMedia",function(){return v}),n.d(e,"uncacheMedia",function(){return b}),n.d(e,"mediaFromCache",function(){return _});var i=n(8),o=n(0),r=n(21),s=n.n(r),a=n(5),l=n(1),u=n(6),c=n(17),h=n(9),d=n(10);null==o.default._canEditMedia&&(o.default._canEditMedia={}),null==o.default._remoteMedia&&(o.default._remoteMedia={});var p=function(t){var e;if(e=o.default._canEditMedia[t])return e;null==(e=o.default._canEditMedia[t])&&(e=o.default._canEditMedia[t]=new s.a);var n="https://"+Object(a.cdnFastWistiaComHost)()+"/media_url",i={hashed_id:encodeURIComponent(t)};return Object(c.jsonpPlus)(n,i,function(t){t&&t.logged_in&&e.go(t)},{once:!0}),e},f=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=_(t);if(i){l.wlog.info("W.remote.media",t,"from local cache");var o="remote-media."+t+"."+Object(h.default)();return Object(d.doTimeout)(o,function(){e(i)}),o}l.wlog.info("W.remote.media",t,"fetching");var r,s=Object(a.forceValidFastWistiaHost)(n.embedHost),p=Object(u.proto)()+"//"+s+"/embed/medias/"+t+".json";null!=n.password&&(r={password:n.password});var f={onerror:function(){l.wlog.error("Timed out fetching "+p)},timeout:1e4,once:null==n.once||n.once};return Object(c.jsonpPlus)(p,r,function(n){n.error?(l.wlog.info("W.remote.media",t,"error",n),v(t,n),e(n)):(delete n.media.unnamed_assets,g(n.media),v(t,n.media),l.wlog.info("W.remote.media",t,"responded",n.media),e(n.media))},f)},m=[],y=function(t){if(t.accountKey)return!1;for(var e,n=0;n<m.length;n++)if(e=m[n],t.accountKey==="wistia-production_"+e)return!0;return!1},g=function(t){if(t.assets&&!y(t))for(var e,n=0;n<t.assets.length;n++)e=t.assets[n],e.url&&(e.url=e.url.replace(/^https:\/\/embed-ssl\.wistia\.com/,"https://embedwistia-a.akamaihd.net"));return t},v=function(t,e){return o.default._remoteMedia[t]=e},b=function(t){o.default._remoteMedia[t]=null,delete o.default._remoteMedia[t],window["wistiajsonp-/embed/medias/"+t+".json"]=null},_=function(t){var e=o.default._remoteMedia[t];if(e)return e;var n=i.a["wistiajsonp-/embed/medias/"+t+".json"]
;return null!=n&&n.media?n.media:null}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"fetchPlaylist",function(){return c});var i=n(0),o=n(17),r=n(6),s=n(5),a=n(1),l=n(9),u=n(10);null==i.default._remotePlaylist&&(i.default._remotePlaylist={});var c=function(t,e){var n;if(n=i.default._remotePlaylist[t])Object(u.doTimeout)("remote-playlist."+t+"."+Object(l.default)(),function(){e(n)});else{var c=Object(r.proto)()+"//"+Object(s.cdnFastWistiaComHost)()+"/embed/playlists/"+t+".json",h=function(n){i.default._remotePlaylist[t]=n,e(n)},d=function(){a.wlog.error("Timed out fetching "+c)};Object(o.jsonpPlus)(c,{},h,{onerror:d,timeout:1e4})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"send",function(){return f}),n.d(e,"msend",function(){return m}),n.d(e,"count",function(){return y}),n.d(e,"sample",function(){return g});var i=n(0),o=n(10),r=n(1),s=n(2),a=n(7),l=n(6),u=n(5),c=n(24),h=this,d=i.default;null==d._metricsCache&&(d._metricsCache={});var p=d._metricsCache,f=function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};try{null==p.toMput&&(p.toMput=[]),null==p.requestId&&(p.requestId=0);var l=s.merge({type:t,key:e,value:null==n?null:n,request_id:p.requestId},i),u=JSON.stringify(l);r.wlog.debug("send metrics",u),p.toMput.push(u),Object(o.doTimeout)("metrics.debounce",function(){Object(a.pageLoaded)(function(){m.apply(h,p.toMput),p.toMput=[],p.requestId+=1})},500)}catch(e){r.wlog.error(e)}},m=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=Object(l.proto)()+"//"+Object(u.metricsHost)()+"/mput?topic=metrics";return Object(c.ajaxPost)(i,{data:e.join("\n")})},y=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,n=arguments[2];return f("count",t,e,n)},g=function(t,e,n){return f("sample",t,e,n)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"EventLoop",function(){return a}),n.d(e,"globalEventLoop",function(){return u});var i=n(7),o=n(1),r=n(0),s=o.wlog.getPrefixedFunctions("event_loop"),a=function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this._timeoutId=null,this._latency=null==e.latency?100:e.latency,this._blurLatency=null==e.blurLatency?2e3:e.blurLatency,this._functions={},this._paused={},Object(i.elemBind)(window,"blur",function(){return t.blur()}),Object(i.elemBind)(window,"focus",function(){return t.focus()}),this.start()},l=a.prototype;l.start=function(){var t=this;clearTimeout(this._timeoutId),this._loopFn=this._loopFn||function(){t.runFunctions(),t._timeoutId=setTimeout(t._loopFn,t._latency)},this._loopFn()},l.resync=function(){this.start()},l.resyncNextTick=function(){var t=this;setTimeout(function(){t.resync()},0)},l.stop=function(){clearTimeout(this._timeoutId)},l.clear=function(){this._functions={}},l.runFunctions=function(){this._pausedDirty&&this.updatePaused();var t=[];for(var e in this._functions){var n=this._functions[e],i=(new Date).getTime(),o=i-n.lastRanAt;if(!n.paused&&o>=n.interval){n.lastRanAt=i;try{n.fn()===this.remove&&t.push(e)}catch(e){s.error(e)}}}for(var r=0;r<t.length;r++)this.remove(t[r])},l.add=function(t,e,n){var i=(new Date).getTime();this._functions[t]={addedAt:i,lastRanAt:-1,interval:e,fn:n};var o=n();this._functions[t]&&(this._functions[t].lastRanAt=(new Date).getTime()),this._functions[t]&&o===this.remove?delete this._functions[t]:this._pausedDirty=!0},l.remove=function(t){var e=this;this.forEachMatchingKey(t,function(t){delete e._functions[t]})},l.forEachMatchingKey=function(t,e){for(var n in this._functions){var i=this._functions[n];this.key1IncludesKey2(t,n)&&e(n,i)}},l.latency=function(t){return null==t?this._latency:void(this._latency=t)},l.interval=function(t,e){return null==e?this._functions[t].interval:void(null==this._functions[t]?s.notice("setting interval of ",t,"to",e,"failed because",t,"is not defined"):this._functions[t].interval=e)},l.pause=function(t){this._paused[t]=!0,this._pausedDirty=!0},l.unpause=function(t){this._paused[t]=!1,this._pausedDirty=!0},l.isPaused=function(t){for(var e in this.paused){if(this._paused[e]&&this.key1IncludesKey2(e,t))return!0}return!1},l.updatePaused=function(){for(var t in this._functions){this._functions[t].paused=this.isPaused(t)}this._pausedDirty=!1},l.key1IncludesKey2=function(t,e){return"function"==typeof e.indexOf&&0===e.indexOf(t)&&(e.length===t.length||"."===e.charAt(t.length))},l.blur=function(){this._blurred||(this._blurred=!0,this._savedLatency=this._latency,this._latency=this._blurLatency)},l.focus=function(){this._blurred&&(this._blurred=!1,this._latency=this._savedLatency,this.resync())},null==r.default.eventLoop&&(r.default.eventLoop=new a({latency:100,blurLatency:100}));var u=r.default.eventLoop},,function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o}),n.d(e,"c",function(){return r});var i=["activeBufferRange","anyBuffered","bind","bindNamed","bufferInfo","cancelFullscreen","captureCurrentFrame","changeQuality","changeStream","changeStreamWithoutLoad","changeVideo","currentAsset","defaultAsset","destroy","diagnosticData","eventContext","fit","getCurrentQuality","getCurrentTime","getDuration","getPlaybackMode","getPlaybackRate","getPreload","getState","getTrim","getVolume","hasIssuedPlay","isChangingVideo","isInitializingFromUnmuted","isInFullscreen","isMuted","isSeeking","isSourceOfBrowserEvent","lastBufferedTime","mute","onEnterFullscreen","onHeightChange","onLeaveFullscreen","onPlayed","onReady","onWidthChange","pause","play","playType","requestFullscreen","reset","seek","seekOnPlay","selectedAsset","selectableAssets","selectableQualities","selectedQuality","sequentialBufferedRange","setAttributes","setCurrentTime","setPlaybackRate","setTrim","setVolume","showFirstFrame","stopStreaming","timeBeforeEndOfBuffer","totalBuffered","totalPlayed","trigger","unbind","unbindNamed","unbindAllInNamespace","unmute","videoElem"],o=function(t,e,n){for(var i,o=0;o<t.length;o++)i=t[o],e[i]||function(t){e[t]=function(){var e=n.call(this);return e?e[t].apply(e,arguments):null}}(i)},r=function(t,e){o(i,t,e)}},,,function(t,e,n){var i,o;o=n(4).cachedDetect,i=function(){function t(e){e instanceof t?(this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a):e?this.parse(e):(this.r=this.g=this.b=0,this.a=1)}var e,n,i,r,s,a,l,u=Math.round,c=Math.min,h=Math.max;return t.detect=o(),s=/^#?([0-9a-f]{3,4}|[0-9a-f]{6,8})$/i,l=/^rgba?\((\d{1,3}(?:\.\d+)?%?),\s*(\d{1,3}(?:\.\d+)?%?),\s*(\d{1,3}(?:\.\d+)?%?)(?:,\s*([01]?\.?\d*))?\)$/,a=/^\d+(\.\d+)*%$/,n=/([0-9a-f])/gi,e=function(t){return.5+t<<0},r=function(t){return a.test(t)?2.55*parseFloat(t):t},i=function(t,e,n){return 0>n&&(n+=1),1<n&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t},t.prototype.parse=function(t){var e,i;return s.test(t)?(i=t.replace(/^\#/,""),(3===i.length||4===i.length)&&(i=i.replace(n,"$1$1")),this.r=parseInt(i.substr(0,2),16),this.g=parseInt(i.substr(2,2),16),this.b=parseInt(i.substr(4,2),16),this.a=8===i.length?parseInt(i.substr(6,2),16)/255:1):l.test(t)&&(e=t.match(l),this.r=parseFloat(r(e[1])),this.g=parseFloat(r(e[2])),this.b=parseFloat(r(e[3])),this.a=e[4]?parseFloat(e[4]):1),this},t.prototype.clone=function(){return new t(this)},t.prototype._hslFromRgb=function(){var t,e,n,i,o,r,s,a,l,u;return a=this.r/255,n=this.g/255,t=this.b/255,r=h(a,n,t),s=c(a,n,t),o=(r+s)/2,u=r,r===s&&(this._h=this._s=0),0===(e=r-s)?(this._h=0,this._s=0,this._l=100*a,this):(l=.5<o?e/(2-r-s):e/(r+s),i=r===a?(n-t)/e+(n<t?6:0):r===n?(t-a)/e+2:(a-n)/e+4,i/=6,this._h=360*i,this._s=100*l,this._l=100*o,this)},t.prototype._rgbFromHsl=function(){var t,e,n,o,r;return t=this._h/360,r=this._s/100,e=this._l/100,o=.5>e?e*(1+r):e+r-e*r,n=2*e-o,this.r=255*i(n,o,t+1/3),this.g=255*i(n,o,t),this.b=255*i(n,o,t-1/3),this},t.prototype.blendChannel=function(t,e,n){return this[t]=n*e+(1-n)*this[t],this},t.prototype.blend=function(e,n){return e=new t(e),this.blendChannel("r",e.r,n),this.blendChannel("g",e.g,n),this.blendChannel("b",e.b,n),this},t.prototype.lightenChannel=function(t,e){return this[t]+=e,0>this[t]?this[t]=0:255<this[t]&&(this[t]=255),this},t.prototype.lighten=function(t){return this.looksLikePercent(t)?this.lightness(this.lightness()+parseFloat(t)):(this.lightenChannel("r",t),this.lightenChannel("g",t),this.lightenChannel("b",t)),this},t.prototype.darken=function(t){return"string"==typeof t?this.lighten("-"+t):this.lighten(-t)},t.prototype.looksLikePercent=function(t){return/^\-?\d+(\.\d+)?%$/.test(t)},t.prototype.lightness=function(t){return this._hslFromRgb(),null==t?this._l:(this._l=h(0,c(100,t)),this._rgbFromHsl(),this)},t.prototype.saturation=function(t){return this._hslFromRgb(),null==t?this._s:(this._s=h(0,c(100,t)),this._rgbFromHsl(),this)},t.prototype.grayLevel=function(){return(.299*this.r+.587*this.g+.114*this.b)/255},t.prototype.whiteLevel=function(){return c(c(this.r,this.g),this.b)},t.prototype.isGrayscale=function(){return this.r===this.g&&this.g===this.b},t.prototype.distanceFrom=function(t){var e=Math.pow;return Math.sqrt(e(this.r-t.r,2)+e(this.g-t.g,2)+e(this.b-t.b,2))},t.prototype.channelDominance=function(){return["r","g","b"].sort(function(t){return function(e,n){return t[n]-t[e]}}(this))},t.prototype.alpha=function(t){return null==this.a?this.a:(this.a=t,this)},t.prototype.red=function(t){return null==t?this.r:(this.r=t,this)},t.prototype.green=function(t){return null==this.g?this.g:(this.g=t,this)},t.prototype.blue=function(t){return null==this.b?this.b:(this.b=t,this)},t.prototype.toHex=function(){var t,e,n;return n=u(this.r).toString(16),e=u(this.g).toString(16),t=u(this.b).toString(16),1===n.length&&(n="0"+n),1===e.length&&(e="0"+e),1===t.length&&(t="0"+t),""+n+e+t},t.prototype.toHexWithAlpha=function(){var t;return t=u(255*this.a).toString(16),1===t.length&&(t="0"+t),""+t+this.toHex()},t.prototype.toRgb=function(){return"rgb("+u(this.r)+","+u(this.g)+","+u(this.b)+")"},t.prototype.toRgba=function(){return"rgba("+u(this.r)+","+u(this.g)+","+u(this.b)+","+this.a+")"},t.prototype.toRgbaOrHex=function(){return this.constructor.detect.browser.msie&&9>this.constructor.detect.browser.version?"#"+this.toHex():this.toRgba()},t.prototype.toPercent=function(){return"rgba("+this.r/255*100+"%,"+this.g/255*100+"%,"+this.b/255*100+"%,"+this.a+")"},t.prototype.toIeGradient=function(){return"progid:DXImageTransform.Microsoft.gradient(startColorStr='#"+this.toHexWithAlpha()+"', endColorStr='#"+this.toHexWithAlpha()+"')"},t.prototype.toString=function(){return this.toPercent()},t}(),t.exports=i},function(t){var e;e=function(){function t(e){var n,i,o,r,s,a,l,u,c;if(u=e.seedRange,l=e.seedFunction,c=e.seedStart,o=null==(r=e.outputStart)?0:r,i=null==(s=e.outputEnd)?1:s,n=null==(a=e.easing)?t.linear:a,null==u)throw new Error("Must provide seedRange argument");if(null!=l&&"function"!=typeof l)throw new Error("Given seed is not a function");if("function"!=typeof n)throw new Error("Invalid easing function given: "+this.easing);this._seedRange=u,this._seedFunction=l||function(){return(new Date).getTime()},this._outputStart=o,this._outputEnd=i,this._easing=n,this._seedStart=("function"==typeof c?c():void 0)||this.seed()}var e=Math.max,n=Math.min;return t.prototype.seed=function(){return this.seedFunction()()},t.prototype.seedStart=function(){return this._seedStart},t.prototype.seedRange=function(){return this._valOrFn(this._seedRange)},t.prototype.seedFunction=function(){return this._seedFunction},t.prototype.outputStart=function(){return this._valOrFn(this._outputStart)},t.prototype.outputEnd=function(){return this._valOrFn(this._outputEnd)},t.prototype.easing=function(){return this._valOrFn(this._easing)},t.prototype.value=function(){return this._easing.apply(this,this.easingArgs())},t.prototype.atEnd=function(){return 1===this.ratio()},t.prototype.atStart=function(){return 0===this.ratio()},t.prototype.easingArgs=function(){return[this.c(),this.t(),this.d(),this.b()]},t.prototype.seedDelta=function(){return 0<this.seedRange()?n(this.seedRange(),this.seed()-this.seedStart()):0>this.seedRange()?e(this.seedRange(),this.seed()-this.seedStart()):0},t.prototype.ratio=function(){var t,i;return i=this.seedRange(),0===i?1:t=e(0,n(1,this.seedDelta()/i))},t.prototype.c=function(){return this.outputEnd()-this.outputStart()},t.prototype.t=function(){return this.seedDelta()},t.prototype.d=function(){return this.seedRange()},t.prototype.b=function(){return this.outputStart()},t.prototype._valOrFn=function(t){return"function"==typeof t?t():t},t.linear=function(t,e,n,i){return t*e/(n||1)+i},t.easeInOut=function(t,e,n,i){return e/=(n||1)/2,1>e?t/2*e*e+i:(e-=1,-t/2*(e*(e-2)-1)+i)},t}(),t.exports=e},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"defineControl",function(){return a}),n.d(e,"getControlDefinitions",function(){return l});var i=n(0),o=n(9),r=n(1);null==i.default._controlDefinitions&&(i.default._controlDefinitions={});var s=function(t){return"control-bar-left"===t.type||"control-bar-right"===t.type||"lower-playbar"==t.type||"upper-playbar"===t.type},a=function(t){if(null==t.handle)return void r.wlog.error("Please specify a handle property for control",t);null!=i.default._controlDefinitions[t.handle]||(null==t.isVideoChrome&&s(t)&&(t.isVideoChrome=!0),i.default._controlDefinitions[t.handle]=t,i.default.trigger("controldefined",t))},l=function(){return i.default._controlDefinitions||{}};i.default.defineControl=a},function(t,e,n){var i,o,r,s,a,l=[].slice;o=n(0).default,i="2015-02-17",o.wistia||(o.wistia=i,o.extend=function(){var t,e,n;return t=arguments[0],e=2<=arguments.length?l.call(arguments,1):[],e.length||(e=[t],t=o),(n=o.obj).merge.apply(n,[t].concat(l.call(e))),t},o.proto=function(t){return null==t&&(t=window.location.href),o.url.proto(t)},o.data=function(t,e){return o.obj.isArray(t)||(t=t.split(".")),null!=e&&o.obj.set(o,["_data"].concat(t),e),o.obj.get(o,["_data"].concat(t))},o.removeData=function(t){return o.obj.isArray(t)||(t=t.split(".")),o.obj.unset(o,["_data"].concat(t))},o.async=function(t,e){var n;return n=new o.StopGo,n.run(e),o.timeout(t,n.go,0),n},o.asyncChain=function(t,e,n){var i,r,s,a,l,u,c;for(null==n&&(n=1),c=[],r=function(t){var e;return e=function(){var e;try{return t()}catch(t){return e=t,o.error(e)}},c.push((new o.StopGo).run(e))},s=0,l=e.length;s<l;s++)i=e[s],r(i);return a=c[c.length-1],o._drainStopGosAsync(t,c),u=new o.StopGo,a.then(function(){return o.timeout(t+".last",function(){return u.go()},0)}),u},o.chain=function(t){var e,n,i,r,s;for(s=new o.StopGo,i=0,r=t.length;i<r;i++){n=t[i];try{n()}catch(n){e=n,o.error(e)}}return s.go(),s},o._drainStopGosAsync=function(t,e,n){var i;if(null==n&&(n=0),!(1>e.length))return i=e.shift(),i.run(function(){return o._drainStopGosAsync(t,e,n+1)}),o.timeout(t+"."+n,function(){return i.go()},0),i},o.uniqId=function(t,e){var n,i;return null==t&&(t=""),null==e&&(e=""),n=(new Date).getTime(),window.performance&&"function"==typeof window.performance.now&&(n+=window.performance.now()),i="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx-xxxxxxxxx-xxxxxxxxxxxx-xxxx".replace(/[xy]/g,function(t){var e,i;return e=0|(n+16*Math.random())%16,n=Math.floor(n/16),i="x"===t?e:8|3&e,i.toString(16)}),t+i+e},o.css=function(){var t,e,n;return 2===arguments.length?(n=arguments[0]||document.body||document.head,t=arguments[1]):(n=document.body||document.head,t=arguments[0]),/\{/.test(t)&&/\}/.test(t)?o.util.addInlineCss(n,t):(e=document.createElement("link"),e.setAttribute("rel","stylesheet"),e.setAttribute("href",t),o.elem.append(n,e),e)},o.script=function(){var t,e;return e=1<=arguments.length?l.call(arguments,0):[],(t=o.remote).scripts.apply(t,e)},a=n(10),s=a.doTimeout,r=a.clearTimeouts,o.seqId=n(9).default,o.timeout=s,o.clearTimeouts=r)},function(t,e,n){n(43),n(44),n(46),n(47),n(48),n(49)},function(t,e,n){var i;i=n(0).default,i.obj||(i.obj=n(2))},function(t,e,n){var i,o,r,s,a,l,u,c,h,d,p,f;o=n(0).default,o.util||(c=n(13),f=c.unescapeHtml,d=c.snakeCase,r=c.camelCase,s=c.notSetOrTrue,u=c.poll,p=c.throttle,i=n(7),h=n(45),a=h.overpassNumbersBase64,l=h.overpassNumbersFontFace,o.util={bindEvent:function(){var t;return(t=o.elem).bind.apply(t,arguments)},unbindEvent:function(){var t;return(t=o.elem).unbind.apply(t,arguments)},elemHeight:function(t){return o.elem.height(t)},elemWidth:function(t){return o.elem.width(t)},elemInDom:function(t){return o.elem.inDom(t)},winHeight:function(){return o.elem.height(window)},winWidth:function(){return o.elem.width(window)},docHeight:function(){return o.elem.height(document)},docWidth:function(){return o.elem.width(document)},unescapeHtml:f,addInlineCss:i.addInlineCss,cssTags:i.getCssTags,execCssTags:i.execCssTags,removeCssTags:i.removeCssTags,scriptTags:i.getScriptTags,execScriptTags:i.execScriptTags,removeScriptTags:i.removeScriptTags,scrollTop:function(t){var e,n,i,o;return null==t?("undefined"!=typeof document&&null!==document?null==(i=document.documentElement)?void 0:i.scrollTop:void 0)||("undefined"!=typeof document&&null!==document?null==(o=document.body)?void 0:o.scrollTop:void 0)||0:(null!=(e=document.body)&&(e.scrollTop=t),null==(n=document.documentElement)?void 0:n.scrollTop=t)},scrollLeft:function(t){var e,n,i,o;return null==t?("undefined"!=typeof document&&null!==document?null==(i=document.documentElement)?void 0:i.scrollLeft:void 0)||("undefined"!=typeof document&&null!==document?null==(o=document.body)?void 0:o.scrollLeft:void 0)||0:(null!=(e=document.body)&&(e.scrollLeft=t),null==(n=document.documentElement)?void 0:n.scrollLeft=t)},applyTransform:function(t,e){var n,i,o,r,s;for(i=["msTransform","mozTransform","webkitTransform","transform"],s=[],o=0,r=i.length;o<r;o++)n=i[o],s.push(t.style[n]=e);return s},applyTransformOrigin:function(t,e){var n,i,o,r,s;for(i=["msTransformOrigin","mozTransformOrigin","webkitTransformOrigin","transformOrigin"],s=[],o=0,r=i.length;o<r;o++)n=i[o],s.push(t.style[n]=e);return s},vendoredCss:function(t){return function(e){var n,i;return i=["-webkit-","-moz-","-o-","-ms-",""],function(){var o,r,s;for(s=[],o=0,r=i.length;o<r;o++)n=i[o],s.push(""+n+t+": "+e+";");return s}().join("\n")}},transitionCss:function(){var t,e,n;return arguments[0]instanceof Array?(e=arguments,n=function(){var n,i,o;for(o=[],n=0,i=e.length;n<i;n++)t=e[n],o.push(t[0]+" "+t[1]+" linear "+(t[2]||"0s"));return o}().join(",")):(t=arguments,n=t[0]+" "+t[1]+" linear "+(t[2]||"0s")),o.util.vendoredCss("transition")(n)},transformCss:function(t){return o.util.vendoredCss("transform")(t)},niceDuration:function(t){var e,n,i;return e=i=0,0<t&&(e+=Math.floor(t/60),t%=60),i=Math.round(t),60===i&&(e+=1,i=0),n=e+":"+this.padNumber(i,2)},padNumber:function(t,e){var n;for(null==e&&(e=0),n=""+t;n.length<e;)n="0"+n;return n},localDate:function(t){var e,n,i=Math.abs,o=Math.floor;return null==t&&(t=new Date),n=-t.getTimezoneOffset(),e=0<=n?"+":"-",t.getFullYear()+"-"+this.padNumber(t.getMonth()+1,2)+"-"+this.padNumber(t.getDate(),2)+"T"+this.padNumber(t.getHours(),2)+":"+this.padNumber(t.getMinutes(),2)+":"+this.padNumber(t.getSeconds(),2)+e+this.padNumber(i(o(n/60)),2)+":"+this.padNumber(i(o(n%60)),2)},requestAnimationFrame:function(t){var e;return(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){return setTimeout(t,1e3/60)})(t)},notSetOrTrue:s,indexOf:function(t,e){var n,i,o;for(n=i=0,o=t.length;0<=o?i<=o:i>=o;n=0<=o?++i:--i)if("function"==typeof e){if(e(t[n]))return n}else if(t[n]===e&&t[n]===e)return n;return-1},insertIntoArray:function(t,e,n){var i;return null==n&&(n={}),n.after?(i=o.util.indexOf(t,n.detect||n.after),0<=i?t.splice(i+1,0,e):"undefined"!=typeof console&&null!==console?console.log(n.after+" not found when trying to add "+e+" to array"):void 0):n.before?(i=o.util.indexOf(t,n.detect||n.before),0<=i?t.splice(i,0,e):"undefined"!=typeof console&&null!==console?console.log(n.before+" not found when trying to add "+e+" to array"):void 0):null==n.index?t.push(e):t.splice(n.index,0,e)},throttle:p,toArray:function(t,e){if(null==e&&(e=/\s+/),t instanceof Array)return t;if("string"==typeof t)return t.split(e);throw new Error("Don't know how to convert "+t+" into an array.")},poll:u,aps:function(t){var e,n,i,o;for(o=[],n=0,i=t.length;n<i;n++)e=t[n],o.push(e);return o},pageLoaded:i.pageLoaded,isDocReady:i.isDocReady,onDocReady:function(){var t,e,n,i,r,s,a,l;return 1<arguments.length?(a=arguments[0],e=arguments[1]):(a=1e4,e=arguments[0]),o.util.isDocReady()?e():top===self&&document.documentElement.doScroll?(s=function(){var t;try{return document.documentElement.doScroll("left"),!0}catch(e){return t=e,!1}},o.util.poll(s,e,50,a,e)):(r=function(){if(o.util.isDocReady())return clearTimeout(i),l(),e()},t=function(){return o.elem.bind(document,"DOMContentLoaded",r),o.elem.bind(document,"readystatechange",r),o.elem.bind(window,"load",r)},l=function(){return o.elem.unbind(document,"DOMContentLoaded",r),o.elem.unbind(document,"readystatechange",r),o.elem.unbind(window,"load",r)},n=function(){return l(),e()},i=setTimeout(n,a),t())},camelCase:r,snakeCase:d,breakIdentifier:{},eachIndexOf:function(t,e,n){var i,r;for(i=-1,r=[];-1!==(i=t.indexOf(e,i+1))&&n(i)!==o.util.breakIdentifier;)r.push(void 0);return r},removeFromArray:function(t,e){var n;return n=t.indexOf(e),t.splice(n,1)},assetSizeShorthandToNumeric:function(t){return"4k"===t?2160:parseInt(t,10)},numericAssetSizeSnapped:function(t,e){var n,i;return n=t/e,i=t*e+1,i>=3840/n*3840?2160:i>=2560/n*2560?1440:i>=1920/n*1920?1080:i>=1280/n*1280?720:i>=960/n*960?540:i>=640/n*640?360:e},parentFramesLength:function(){var t;try{return parent.frames.length}catch(e){return t=e,o.warn(t),1}},injectWistiaOverpassFontFace:function(){return o._overpassFontFacePromise?o._overpassFontFacePromise:o._overpassFontFacePromise=o.asyncRequire("overpassFontFace.js")},removeWistiaOverpassFontFace:function(){if(o._overpassFontFacePromise)return o._overpassFontFacePromise.then(function(){return function(t){var e;return(e=t.removeWistiaOverpassFontFace)()}}(this))}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(7),r="\n@font-face {\nfont-family: 'WistiaPlayerOverpassNumbers';\nsrc: url(data:application/x-font-ttf;charset=utf-8;base64,AAEAAAARAQAABAAQRFNJRwAAAAEAAA7oAAAACEdQT1Ow+b/jAAAONAAAAKhHU1VCAAEAAAAADtwAAAAKT1MvMl1sVb8AAAe0AAAAYGNtYXAApwIpAAAIFAAAALJjdnQgAAAAAAAAClQAAAAEZnBnbUM+8IgAAAjIAAABCWdhc3AAGgAjAAAOJAAAABBnbHlmWNZE7QAAARwAAAXMaGVhZIS0XikAAAckAAAANmhoZWEF5gGwAAAHkAAAACRobXR4GNICwAAAB1wAAAA0bG9jYQi0CoYAAAcIAAAAHG1heHAAGQBKAAAG6AAAACBuYW1lGpIbcAAAClgAAAOPcG9zdAAPAKQAAA3oAAAAPHByZXBoUamTAAAJ1AAAAH8ACgBd/wYBmgLuAAMADwAVABkAIwApADUAOQA9AEgAAAUhESEHFTMVIxUzNSM1MzUHFTM1IzUHIzUzBxUzFSMVMzUzNQcVIxUzNQcVMzUzFSM1IxUzNQcVMzUHIzUzBxUzBxUzNSM3MzUBmv7DAT3yQUKmQkKmpkIiISFCQkJkQiGFpmQiIWQhpqamIWRkhUZGpmZGIPoD6EMhJSEhJSGBaCJGRiRhISUhRiE8QiJkejgXL1Bxca1xcVAvZyEvISEvIQAAAAIARv/0AiYCyAAVACUAAAQ3Njc2NTQmJyYjIgcGBwYVFBYXFjMmJyY1NDc2MzIXFhUUBwYjAY87MRgTGRo/flo7LxkTGRs9f1wqIR8pX1oqIR4pXgw9M1tJVkOAMnU9MV1IV0Z/MXQ/X0qCeUxmX0uBfEplAAAAAAEAKAAAAOUCvAAIAAATIwYGIxUzETPlLRBHOXdGArwwJyj9wwAAAAABAEcAAAISAsgAJAAAJSE2Nz4CNzY2NzY1NCYjIgcGBxc2MzIWFRQHBgcHBgYHBhUhAhL+fwszEjIhCDBDG0J0Z1c+OhE+HX9HUTMjUhMrOhhEActDPTARJRYFHjAcRFRbaisoQRxxSzs8NSM2DR0uHFJzAAEAMv/0AggCyAA0AAAENjc2NjU0Jic2NjU0JicmJiMiBwYHFzY3NjMyFhcWFRQGIyMVMzIWFRQHBiMiJicHFhcWMwFJViIiJT83Ki8fHBxMKlM7MRpBFR8rPBkvEidLPyUvS1EwLEg+TxpBGzM6YAwfGxxLK0RiFhdSMCdDGBcaLiZAGS4aJBEQIjk6RUBMQkIlIjxCG0spMAAAAAIAHgAAAiICvAAKAA0AACUzNSMRIwEVIRUzAxEjAbhqair+kAFURkb5vTwBw/4mJb0CQ/62AAAAAQBG//QCLgK8AC0AADYWFxYzMjY3NjY1NCYnJiYjIgYHNyE1IQMXNjc2MzIXFhYVFAYHBgYjIicmJwdTLh1ETjpfIyAiIx8fUy4tVCAoASz+nDk7FykzN0QuFBccGBlEJkIuKiQpPB8MHSkjIVUtMVMfHSEeHfQ//pUSGxIWMRc+IiE+GBgbFxUkMwACADz/9AIEAsgAIQA2AAAENjc2NjU0JicmJiMiBgc2Njc2Njc1BgYHBgYVFBYXFhYzEhcWFRQGBwYjIiYnJiY1NDY3NjYzAVFSHx8jIBwdTCo2UxoIMiUlWzFKhDExNh4dHlc4RS0rFxUsSCE7FRYZGBUVOyMMJB8gVTAnTh4fJCEfLFkoKDsPNxJaPz+RSjpjIyYpAYAtLUgiOhUuGBYVOyEjPBYVGAABACgAAAHLArwADAAANjc2NzUhFSEGBwYHM+ooN4L+XQFTdzMrAkamjsSWLjyXqIq3AAAAAwBG//QCEALIACMALwBCAAAABgcGBhUUFhcGBwYVFBYXFjMyNjc2NjU0Jic2NjU0JicmJiMCJjU0NjMyFhUUBiMCJyY1NDY3NjYzMhcWFhUUBwYjAQJJGxoeMCw1JCMiH0JiMFUfHyJEOS4vHhobSSk5RUc3N0dFOUQrLRYVFToiRC4UFi0rRALIHRkZQiQuThQTNTRCLE0cPCAcHE0sQmcVE04vJEIZGR3+0D8zOkVFOjM//pspK0gfOBYWGC4WOB9IKykAAAACADz/9AIEAsgAIAA0AAASBgcGBhUUFhcWFjMyNjcGBgcGBgcVNjY3NjY1NCYnJiMCJyY1NDc2MzIWFxYWFRQGBwYGI/RUICAkIBwbTCo3VRoGLCMkWDJKfy8uMhwbPG1NLSssLUchOxYWGBgVFTsjAsgjIB9WMClNHh4iIyEtXCgpPA83Elo/PpJKOWMlTv58Ly1IRC4vGRYWOyEjPBYWGQAAAAIAMv/yALAB4wALABcAABI2NTQmIyIGFRQWMxI2NTQmIyIGFRQWM4slJRoaJSUaGiUlGholJRoBZSYZGSYmGRkm/o0mGRkmJhkZJgABAAAADQBJAAoAAAAAAAEAAAAAAAEAAAAAAAAAAAAAAAAAYgBiAJ4AsgDsAToBVgGcAfACCgJuAsAC5gABAAAAARmZfAtXkV8PPPUAAwPoAAAAAE2yzjUAAAAA1Z4zgwAe/wYCLgLuAAAABwACAAAAAAAAAfQAXQAAAAACbABGAU4AKAJYAEcCTgAyAksAHgJ0AEYCSgA8AfMAKAJWAEYCSgA8AOIAMgABAAADtv8GAAACdAAAACgCLgABAAAAAAAAAAAAAAAAAAAADQADAhYBkAAFAAgCigJYAAAASwKKAlgAAAFeABQBMgAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABERUxWAEAAIAA6Au7/BgEKA7YA+gAAAAEAAAAAAf8CvAAAACAAAgAAAAMAAAADAAAAigABAAAAAAAcAAMAAQAAAIoABgBuAAAACQAyAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAwAEAAUABgAHAAgACQAKAAsADAAEACgAAAAGAAQAAQACACAAOv//AAAAIAAw////4f/SAAEAAAAAAAAAALAALEAOBQYHDQYJFA4TCxIIERBDsAEVRrAJQ0ZhZEJDRUJDRUJDRUJDRrAMQ0ZhZLASQ2FpQkNGsBBDRmFksBRDYWlCQ7BAUHmxBkBCsQUHQ7BAUHmxB0BCsxAFBRJDsBNDYLAUQ2CwBkNgsAdDYLAgYUJDsBFDUrAHQ7BGUlp5swUFBwdDsEBhQkOwQGFCsRAFQ7ARQ1KwBkOwRlJaebMFBQYGQ7BAYUJDsEBhQrEJBUOwEUNSsBJDsEZSWnmxEhJDsEBhQrEIBUOwEUOwQGFQebIGQAZDYEKzDQ8MCkOwEkOyAQEJQxAUEzpDsAZDsApDEDpDsBRDZbAQQxA6Q7AHQ2WwD0MQOi0AAACxAAAAQrE7AEOwAFB5uP+/QBAAAQAAAwQBAAABAAAEAgIAQ0VCQ2lCQ7AEQ0RDYEJDRUJDsAFDsAJDYWpgQkOwA0NEQ2BCHLEtAEOwAVB5swcFBQBDRUJDsF1QebIJBUBCHLIFCgVDYGlCuP/NswABAABDsAVDRENgQhy4LQAdAAAAAAAAAAASAN4AAQAAAAAAAQAWAAAAAQAAAAAAAgAFABYAAQAAAAAAAwAnABsAAQAAAAAABAAcAEIAAQAAAAAABQAPAF4AAQAAAAAABgAcAG0AAQAAAAAACQAgAIkAAQAAAAAACgA4AKkAAwABBAkAAQA4AOEAAwABBAkAAgAOARkAAwABBAkAAwBOAScAAwABBAkABAA4AXUAAwABBAkABQAeAa0AAwABBAkABgA4AXUAAwABBAkACQBAAcsAAwABBAkACgBwAgsAAwABBAkAEAAsAnsAAwABBAkAEQAKAqdXaXN0aWEtUGxheWVyLU92ZXJwYXNzTGlnaHQxLjEwMDtERUxWO1dpc3RpYS1QbGF5ZXItT3ZlcnBhc3MtTGlnaHRXaXN0aWEtUGxheWVyLU92ZXJwYXNzIExpZ2h0VmVyc2lvbiAxLjAzMTAwV2lzdGlhLVBsYXllci1PdmVycGFzcy1MaWdodERlbHZlIFdpdGhyaW5ndG9uLCBUaG9tYXMgSm9ja2luQ29weXJpZ2h0IChjKSAyMDE0IGJ5IFJlZCBIYXQsIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC4AVwBpAHMAdABpAGEALQBQAGwAYQB5AGUAcgAtAE8AdgBlAHIAcABhAHMAcwAgAEwAaQBnAGgAdABSAGUAZwB1AGwAYQByADEALgAxADAAMAA7AEQARQBMAFYAOwBXAGkAcwB0AGkAYQAtAFAAbABhAHkAZQByAC0ATwB2AGUAcgBwAGEAcwBzAC0ATABpAGcAaAB0AFcAaQBzAHQAaQBhAC0AUABsAGEAeQBlAHIALQBPAHYAZQByAHAAYQBzAHMALQBMAGkAZwBoAHQAVgBlAHIAcwBpAG8AbgAgADEALgAwADMAMQAwADAARABlAGwAdgBlACAAVwBpAHQAaAByAGkAbgBnAHQAbwBuACwAIABUAGgAbwBtAGEAcwAgAEoAbwBjAGsAaQBuAEMAbwBwAHkAcgBpAGcAaAB0ACAAKABjACkAIAAyADAAMQA0ACAAYgB5ACAAUgBlAGQAIABIAGEAdAAsACAASQBuAGMALgAgAEEAbABsACAAcgBpAGcAaAB0AHMAIAByAGUAcwBlAHIAdgBlAGQALgBXAGkAcwB0AGkAYQAtAFAAbABhAHkAZQByAC0ATwB2AGUAcgBwAGEAcwBzAEwAaQBnAGgAdAAAAgAAAAAAAP+FABQAAAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAwATABQAFQAWABcAGAAZABoAGwAcAB0AAQADAAcACgATAAf//wAPAAEAAAAKAB4ALAABREZMVAAIAAQAAAAA//8AAQAAAAFrZXJuAAgAAAABAAAAAQAEAAIAAAABAAgAAQBmAAQAAAAIABoAIAAmADAAOgBIAFIAYAABAAb/7AABAAb/9gACAAn/9gAL//EAAgAJ//YAC//xAAMABP/7AAn/9gAL//YAAgAJ/+wAC//dAAMABv+6AAj/4gAJACMAAQAJ//YAAgABAAMACgAAAAEAAAAAAAAAAAAAAAAAAQAAAAA=);\n}\n";i.default._overpassNumbersFontFace||(i.default._overpassNumbersFontFace=Object(o.addInlineCss)(document.body||document.head,r)),e.default={overpassNumbersFontFace:r,removeOverpassNumbersFontFace:function(){i.default._overpassNumbersFontFace&&Object(o.elemRemove)(i.default._overpassNumbersFontFace)}}},function(t,e,n){var i,o,r;o=n(0).default,o.elem||(o.Elem=i=n(7),o.elem=r={},r.html=i.elemHtml,r.fromObject=i.elemFromObject,r.toObject=i.elemToObject,r.clone=i.elemClone,r.append=i.elemAppend,r.prepend=i.elemPrepend,r.before=i.elemBefore,r.after=i.elemAfter,r.remove=i.elemRemove,r.removeClass=i.elemRemoveClass,r.addClass=i.elemAddClass,r.hasClass=i.elemHasClass,r.classes=i.elemClasses,r.style=i.elemStyle,r.vendoredProperties=i.vendoredProperties,r.vendoredProperty=i.vendoredProperty,r.vendorPrefixes=i.vendorPrefixes,r.propsWithVendorPrefixes=i.propsWithVendorPrefixes,r.width=i.elemWidth,r.height=i.elemHeight,r.isBoxModel=i.isBoxModel,r.offset=i.elemOffset,r.containsOffset=i.elemContainsOffset,r.scrollOffset=i.elemScrollOffset,r.isHidden=i.elemIsHidden,r.inDom=i.elemInDom,r.isDescendantOf=i.elemIsDescendantOf,r.ancestorHasClass=i.elemAncestorHasClass,r.ancestors=i.elemAncestors,r.isInside=i.elemIsInside,r.animate=i.elemAnimate,r.bind=i.elemBind,r.unbind=i.elemUnbind,r.unbindAll=i.elemUnbindAll,r.unbindAllInside=i.elemUnbindAllInside,r._bindKey=i.elemBindKey,r.rebind=i.elemRebind,r.bindOnce=i.elemBindOnce,r.trigger=i.elemTrigger,r.fullscreenElement=i.fullscreenElement,r.requestFullscreen=i.elemRequestFullscreen,r.cancelFullscreen=i.elemCancelFullscreen,r.stripEventAttributes=i.elemStripEventAttributes,r.mutationObserver=i.elemMutationObserver,r.domDistance=i.elemDomDistance,r.allBetween=i.elemAllBetween)},function(t,e,n){var i,o,r,s,a,l=[].slice;if(o=n(28),i=n(0).default,!i.bindable)for(r in i.bindable={bind:function(t,e){return!0===("function"==typeof this.specialBind?this.specialBind.apply(this,arguments):void 0)?this:e?(o.bind.call(this,t,e),this):i.warn(this.constructor.name,"bind","falsey value passed in as callback:",e)},unbind:function(t,e){return!0===("function"==typeof this.specialUnbind?this.specialUnbind.apply(this,arguments):void 0)?this:(e?o.unbind.call(this,t,e):this._bindings&&(this._bindings[t]=[]),this._bindings&&this._bindings[t]&&!this._bindings[t].length&&(this._bindings[t]=null,delete this._bindings[t]),this)},on:function(t,e){var n;return n="function"==typeof this.specialBind?this.specialBind.apply(this,arguments):void 0,"function"==typeof n?n:o.bind.call(this,t,e)},off:function(t,e){var n;return n="function"==typeof this.specialUnbind?this.specialUnbind.apply(this,arguments):void 0,"function"==typeof n?n:o.unbind.call(this,t,e)},rebind:function(t,e){return this.unbind(t,e),this.bind(t,e),this},trigger:function(){var t,e,n;return e=arguments[0],t=2<=arguments.length?l.call(arguments,1):[],(n=o.trigger).call.apply(n,[this,e].concat(l.call(t))),this},bindNamed:function(){return o.bindNamed.apply(this,arguments)},unbindNamed:function(){return o.unbindNamed.apply(this,arguments)},unbindAllInNamespace:function(){return o.unbindAllInNamespace.apply(this,arguments)}},s=i.bindable)a=s[r],i[r]||(i[r]=a)},function(t,e,n){var i,o,r,s,a,l,u;if(o=n(0).default,i=n(2),!o.hasState)for(s in o.hasState={updateState:function(t){var e,n,o,s,a;for(this.state||(this.state={}),e=r(this.state,t),a=i.clone(this.state),i.merge(a,t),this.state=a,n=0,o=e.length;n<o;n++)s=e[n],this.trigger("property:updated:"+s);if(0!==e.length)return this.trigger("property:updated:all")},getState:function(t){var e;return e=i.clone(this.state),t?e[t]:stateCone}},r=function(t,e){var n,i,o;for(i in n=[],e)o=e[i],a(o,t[i])&&n.push(i);return n},a=function(t,e){return o.obj.isObject(t)?!o.obj.equalsDeep(t,e):t!==e},l=o.bindable)u=l[s],o.bindable.hasOwnProperty(s)&&(o.hasState[s]=u)},function(t,e,n){!function(t){var e;if(!t.StopGo)e=n(1).wlog,e=e.getPrefixedFunctions("StopGo"),t.StopGo=n(21),t.StopGo.prototype._debug=function(){return e.notice.apply(e,arguments)}}(Wistia)},,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(41),o=n.n(i),r=n(55),s=n.n(r),a=n(104),l=n.n(a)},function(t,e,n){n(56),n(60),n(42),n(61),n(62),n(63),n(64),n(65),n(66),n(67),n(68),n(69),n(70),n(71),n(72),n(73),n(74),n(75),n(76),n(77),n(78),n(79),n(80),n(81),n(82),n(83),n(84),n(85),n(86),n(87),n(88),n(89),n(90),n(91),n(92),n(93),(0,n(94).registerPlugin)(),n(95),n(96),n(97),n(98),n(99),n(100),n(101),n(103)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})
;var i=n(0),o=n(40),r=n(9),s=n(13),a=n(2),l=n(57),u=n(6),c=n(18),h=n(7),d=n(26),p=n(1),f=n(4),m=n(58),y=n(17),g=n(25),v=n(5),b=n(24),_=n(30),w=n(31),A=n(15),E=n(10),k=n(35),C=n(32),P=n(22),T=n(33),O=n(28),S=n(59),x=n(21),B=n.n(x),I=n(3),M=n(14),D=n.n(M),F=i.default;null==F.libjs&&(F.libjs={},F.libjs["utilities/seqid"]=r.default,F.libjs["utilities/core"]=s,F.libjs["utilities/obj"]=a,F.libjs["utilities/url"]=u,F.libjs["utilities/color"]=l.a,F.libjs["player/lib/assets"]=c,F.libjs["player/lib/elem"]=h,F.libjs["utilities/json"]=JSON,F.libjs["utilities/localstorage"]=d,F.libjs["utilities/wlog"]=p,F.libjs["utilities/detect"]=f,F.libjs["utilities/cacheable"]=m,F.libjs["utilities/event_loop"]=T,F.libjs["player/lib/jsonp"]=y,F.libjs["player/lib/hosts"]=v,F.libjs["player/lib/judy"]=g,F.libjs["player/lib/ajax"]=b,F.libjs["player/lib/fit-control"]=P,F.libjs["player/lib/media_data"]=_,F.libjs["player/lib/playlist_data"]=w,F.libjs["player/lib/script-utils"]=A,F.libjs["player/lib/timeout-utils"]=E,F.libjs["utilities/metrics"]=C,F.libjs["utilities/bindify"]=O,F.libjs["player/translations"]=S,F.libjs.preact=I.b,F.libjs["utilities/stopgo"]=B.a,F.libjs.promiscuous=D.a,F.libjs["player/control_definitions"]=o),F.lib=function(t){var e=F.libjs[t];if(null==e)throw new Error('Internal import for "'+t+'" does not exist. Value is "'+e+'".');return e},e.default=F},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=n(0),r=n(4),s=function(){function t(t,e){for(var n,i=0;i<e.length;i++)n=e[i],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=Object(r.cachedDetect)(),l=/^#?([0-9a-f]{3,4}|[0-9a-f]{6,8})$/i,u=/^rgba?\((\d{1,3}(?:\.\d+)?%?),\s*(\d{1,3}(?:\.\d+)?%?),\s*(\d{1,3}(?:\.\d+)?%?)(?:,\s*([01]?\.?\d*))?\)$/,c=/^\d+(\.\d+)*%$/,h=/([0-9a-f])/gi,d=function(t){return c.test(t)?2.55*parseFloat(t):t},p=function(t,e,n){return 0>n&&(n+=1),1<n&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t},f=function(){function t(e){i(this,t),e instanceof t?(this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a):e?this.parse(e):(this.r=this.g=this.b=0,this.a=1)}var e=Math.round,n=Math.min,o=Math.max;return s(t,[{key:"parse",value:function(t){if(l.test(t)){var e=t.replace(/^\#/,"");(3===e.length||4===e.length)&&(e=e.replace(h,"$1$1")),this.r=parseInt(e.substr(0,2),16),this.g=parseInt(e.substr(2,2),16),this.b=parseInt(e.substr(4,2),16),this.a=8===e.length?parseInt(e.substr(6,2),16)/255:1}else u.test(t)&&(parts=t.match(u),this.r=parseFloat(d(parts[1])),this.g=parseFloat(d(parts[2])),this.b=parseFloat(d(parts[3])),this.a=parts[4]?parseFloat(parts[4]):1);return this}},{key:"clone",value:function(){return new t(this)}},{key:"_hslFromRgb",value:function(){var t=this.r/255,e=this.g/255,i=this.b/255,r=o(t,e,i),s=n(t,e,i),a=(r+s)/2;r===s&&(this._h=this._s=0);var l,u=r-s;if(0==u)return this._h=0,this._s=0,this._l=100*t,this;l=.5<a?u/(2-r-s):u/(r+s);var c;return c=r===t?(e-i)/u+(e<i?6:0):r===e?(i-t)/u+2:(t-e)/u+4,c/=6,this._h=360*c,this._s=100*l,this._l=100*a,this}},{key:"_rgbFromHsl",value:function(){var t=this._h/360,e=this._s/100,n=this._l/100,i=.5>n?n*(1+e):n+e-n*e,o=2*n-i;return this.r=255*p(o,i,t+1/3),this.g=255*p(o,i,t),this.b=255*p(o,i,t-1/3),this}},{key:"blendChannel",value:function(t,e,n){return this[t]=n*e+(1-n)*this[t],this}},{key:"blend",value:function(e,n){return e=new t(e),this.blendChannel("r",e.r,n),this.blendChannel("g",e.g,n),this.blendChannel("b",e.b,n),this}},{key:"lightenChannel",value:function(t,e){return this[t]+=e,0>this[t]?this[t]=0:255<this[t]&&(this[t]=255),this}},{key:"lighten",value:function(t){return this.looksLikePercent(t)?this.lightness(this.lightness()+parseFloat(t)):(this.lightenChannel("r",t),this.lightenChannel("g",t),this.lightenChannel("b",t)),this}},{key:"darken",value:function(t){return"string"==typeof t?this.lighten("-"+t):this.lighten(-t)}},{key:"looksLikePercent",value:function(t){return/^\-?\d+(\.\d+)?%$/.test(t)}},{key:"lightness",value:function(t){return this._hslFromRgb(),null==t?this._l:(this._l=o(0,n(100,t)),this._rgbFromHsl(),this)}},{key:"saturation",value:function(t){return this._hslFromRgb(),null==t?this._s:(this._s=o(0,n(100,t)),this._rgbFromHsl(),this)}},{key:"grayLevel",value:function(){return(.299*this.r+.587*this.g+.114*this.b)/255}},{key:"whiteLevel",value:function(){return n(n(this.r,this.g),this.b)}},{key:"isGrayscale",value:function(){return this.r===this.g&&this.g===this.b}},{key:"distanceFrom",value:function(t){var e=Math.pow;return Math.sqrt(e(this.r-t.r,2)+e(this.g-t.g,2)+e(this.b-t.b,2))}},{key:"channelDominance",value:function(){var t=this;return["r","g","b"].sort(function(e,n){return t[n]-t[e]})}},{key:"alpha",value:function(t){return null==t?this.a:(this.a=t,this)}},{key:"red",value:function(t){return null==t?this.r:(this.r=t,this)}},{key:"green",value:function(t){return null==t?this.g:(this.g=t,this)}},{key:"blue",value:function(t){return null==t?this.b:(this.b=t,this)}},{key:"toHex",value:function(){var t=e(this.r).toString(16),n=e(this.g).toString(16),i=e(this.b).toString(16);return 1===t.length&&(t="0"+t),1===n.length&&(n="0"+n),1===i.length&&(i="0"+i),""+t+n+i}},{key:"toHexWithAlpha",value:function(){var t=e(255*this.a).toString(16);return 1===t.length&&(t="0"+t),""+t+this.toHex()}},{key:"toRgb",value:function(){return"rgb("+e(this.r)+","+e(this.g)+","+e(this.b)+")"}},{key:"toRgba",value:function(){return"rgba("+e(this.r)+","+e(this.g)+","+e(this.b)+","+this.a+")"}},{key:"toRgbaOrHex",value:function(){return a.browser.msie&&9>a.browser.version?"#"+this.toHex():this.toRgba()}},{key:"toPercent",value:function(){return"rgba("+this.r/255*100+"%,"+this.g/255*100+"%,"+this.b/255*100+"%,"+this.a+")"}},{key:"toIeGradient",value:function(){return"progid:DXImageTransform.Microsoft.gradient(startColorStr='#"+this.toHexWithAlpha()+"', endColorStr='#"+this.toHexWithAlpha()+"')"}},{key:"toString",value:function(){return this.toPercent()}}]),t}();e.a=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"makeCacheable",function(){return i}),n.d(e,"uncacheNamespace",function(){return c}),n.d(e,"uncache",function(){return u}),n.d(e,"makeNamespace",function(){return o});var i=function(t){return function(e,n,i){if(a(t,e),r(t,e,n))return s(t,e,n);var o=i();return l(t,e,n,o),o}},o=function(t){return function(e){return null==e[t]&&(e[t]={}),e[t]}},r=function(t,e,n){return null!=s(t,e,n)},s=function(t,e,n){return a(t,e),e[t][n]},a=function(t,e){null==e[t]&&(e[t]={})},l=function(t,e,n,i){a(t,e),e[t][n]=i},u=function(t,e,n){a(t,e),delete e[t][n]},c=function(t,e){e[t]={}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"defineLanguage",function(){return a}),n.d(e,"getLanguage",function(){return l}),n.d(e,"defineTranslations",function(){return u}),n.d(e,"getTranslation",function(){return f});var i=n(0),o=n(2),r=i.default.languages=i.default.languages||{},s=i.default.translations=i.default.translations||{},a=function(t,e,n){r[t]={code:t,text:p(e)},n&&u(t,n)},l=function(t){return r[t]},u=function(t,e){if(null==r[t])throw new Error("Must define a language with code "+t+" before defining its translations.");var n=s[t];n?Object(o.merge)(n,e):s[t]=Object(o.clone)(e)},c,h=function(t){return null==t?"?":t},d=i.default.cachedDecodings=i.default.cachedDecodings||{},p=function(t){return c||(c=document.createElement("textarea")),null!=d[t]?d[t]:(c.innerHTML=t,d[t]=c.value,c.value)},f=function(t,e){var n;return n=s[t]&&s[t][e]?s[t][e]:s["en-US"][e],p(h(n))};a("en-US","English"),u("en-US",{SETTINGS_PLAYBACK_RATE_TITLE:"Speed",SETTINGS_QUALITY_TITLE:"Quality",SETTINGS_QUALITY_AUTO:"Auto",CONTEXT_MENU_LOGGED_IN_TO_WISTIA:"Logged In to Wistia",CONTEXT_MENU_ABOUT_WISTIA:"About Wistia",CONTEXT_MENU_REPORT_A_PROBLEM:"Report a Problem",CONTEXT_MENU_OPEN_VIDEO_IN_WISTIA:"Open video in Wistia",CONTEXT_MENU_VIEW_STATS_IN_WISTIA:"View stats in Wistia",CONTEXT_MENU_COPY_LINK_AND_THUMBNAIL:"Copy link and thumbnail",CONTEXT_MENU_COPIED:"Copied!",PLAY_BUTTON_TITLE_WHEN_NOT_PLAYING:"Play",PLAY_BUTTON_TITLE_WHEN_PLAYING:"Pause",VOLUME_TITLE_WHEN_MUTED:"Unmute",VOLUME_TITLE_WHEN_UNMUTED:"Mute",FULLSCREEN_TITLE_WHEN_IN_FULLSCREEN:"Unfullscreen",FULLSCREEN_TITLE_WHEN_NOT_IN_FULLSCREEN:"Fullscreen",CHAPTERS_OPEN_CHAPTERS:"Open Chapters",CHAPTERS_CLOSE_CHAPTERS:"Close Chapters",THUMBNAIL_VIDEO_THUMBNAIL:"Video Thumbnail",LAYOUT_TITLE:"Video",SHARE_CONTROL_OPEN:"Open sharing menu",SHARE_CONTROL_CLOSE:"Close sharing menu",STATUS_BAR_EMBED_CODE_COPIED:"Embed Code is now copied to your clipboard!",CLICK_FOR_SOUND_MOBILE_TEXT:"Tap for sound",CLICK_FOR_SOUND_DESKTOP_TEXT:"Click for sound",CTA_SKIP:"Skip",CTA_REWATCH:"Rewatch"}),i.default.defineLanguage=a,i.default.getLanguage=l,i.default.defineTranslations=u,i.default.getTranslation=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(14),r=n.n(o),s=n(27),a=n(5),l=n(6);if(!i.default.define){var u=i.default.modulePromises={},c=i.default.moduleDeps={},h=i.default.moduleResolveQueues={},d=function(t,e){null==h[t]&&(h[t]=[]),h[t].push(e)},p=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:12e4;if(null!=u[t])return u[t];var n=Object(l.proto)()+"//"+Object(a.cdnFastWistiaNetHost)()+"/assets/external/"+t;return u[t]=new r.a(function(i,o){d(t,i),Object(s.a)(n,e).catch(function(t){setTimeout(function(){throw t},1),o(t)})}),u[t]},f=function(t){if(null!=c[t])return c[t];throw new Error('Cannot synchronously require dep "'+t+'" because it is not defined.')};i.default.define=function(t,e){c[t]=e,null==u[t]&&(u[t]=r.a.resolve(e)),h[t]&&(h[t].map(function(t){return t(e)}),delete h[t])},i.default.asyncDefine=function(t,e){return u[t]=e.then(function(e){return i.default.define(t,e),e}),u[t]},i.default.asyncRequire=function(t,e){return t instanceof Array?r.a.all(t.map(function(t){return p(t,e)})):p(t,e)},i.default.syncRequire=function(t){return t instanceof Array?depPath.map(function(t){return f(t)}):f(t)}}},function(t,e,n){!function(t){var e;if(!t.url)e=n(6),t.url={},t.url.proto=e.proto,t.url.paramsToJson=e.queryParamsToObject,t.url.urlComponentToJson=e.urlComponentToObject,t.url.jsonToParams=e.objectToQueryParams,t.url.splitPath=e.splitPath,t.url.joinPath=e.joinPath,t.url._brack=e.brack,t.url._debrack=e.debrack,t.url.create=e.Url.create,t.url.parse=e.Url.parse}(Wistia)},function(t,e,n){var i=[].slice;!function(t){var e,o,r,s;if(o=t,!o.wlog)r=n(1),s=r.wlog,e=r.LOG_LEVELS,o.wlog=s,o.log=s.error,o.error=s.error,o.warn=s.warn,o.notice=s.notice,o.info=s.info,o.debug=s.debug,o.logLevels=e,o.stacktrace=function(){var t;try{throw new Error("stacktrace")}catch(e){return t=e,t.stack}},o.logHelpers={_log:function(){var t,e,n;return n=arguments[0],e=2<=arguments.length?i.call(arguments,1):[],t=o[n],e=[].concat(this._logPrefix()).concat(e),t.apply(null,e)},_logPrefix:function(){return[this.constructor.name]},error:function(){var t;return t=1<=arguments.length?i.call(arguments,0):[],this._log.apply(this,["error"].concat(i.call(t)))},warn:function(){var t;return t=1<=arguments.length?i.call(arguments,0):[],this._log.apply(this,["notice"].concat(i.call(t)))},notice:function(){var t;return t=1<=arguments.length?i.call(arguments,0):[],this._log.apply(this,["notice"].concat(i.call(t)))},info:function(){var t;return t=1<=arguments.length?i.call(arguments,0):[],this._log.apply(this,["info"].concat(i.call(t)))},debug:function(){var t;return t=1<=arguments.length?i.call(arguments,0):[],this._log.apply(this,["debug"].concat(i.call(t)))},log:function(){var t;return t=1<=arguments.length?i.call(arguments,0):[],this._log.apply(this,["error"].concat(i.call(t)))}},o._initializers.initWLog=function(){var t,e,n,i,r,a,l,u,c,h,d;if(e=o.url.parse(location.href),document.referrer&&(c=o.url.parse(document.referrer)),((t=null==e||null==(n=e.params)?void 0:n.wlog)||top!==self&&(t=null==c||null==(i=c.params)?void 0:i.wlog))&&s.setLevel(t),((h=null==e||null==(r=e.params)?void 0:r.wgrep)||(h=null==c||null==(a=c.params)?void 0:a.wgrep))&&s.setGrep(new RegExp(h,"i")),(d=null==e||null==(l=e.params)?void 0:l.wgrepv)||(d=null==c||null==(u=c.params)?void 0:u.wgrepv))return s.setGrepv(new RegExp(d,"i"))},o._destructors.destroyWLog=function(){return null==s?void 0:s.reset()}}(Wistia)},function(t,e,n){var i;i=n(4).cachedDetect,function(t){t._initializers.initDetect=function(){if(!t.detect)return t.detect=i()}}(Wistia)},function(t,e,n){!function(t){var e,i,o;if(e=t,i=n(33).globalEventLoop,null==(o=e._initializers)||!o.initEventLoop)e._initializers.initEventLoop=function(){return e.eventLoop=i},e._destructors.destroyEventLoop=function(){var t;return null!=(t=e.eventLoop)&&t.stop(),e.eventLoop=null}}(Wistia)},function(){!function(t){var e,n,i,o;if(i=t,!i.embed)e=i.lib("player/lib/judy"),n=i.lib("promiscuous"),o=i.lib("player/lib/media_data").fetchMedia,i._embed={},i.embed=function(t,e){var n,o;return null==e&&(e={}),i.info("Wistia.embed",t,e),"string"==typeof t?o=t:(o=t.hashedId,i.remote._convertEmbedSslToAkamai(t),i.cacheMedia(o,t)),n=new i.PublicApi(o,e)},i.embedEngine=function(t,r,s,a){var l;return null==s&&(s={}),null==a&&(a={}),l="string"==typeof r?r:r.hashedId,new n(function(n){return o(l,function(o){var r,u;return i.remote._convertEmbedSslToAkamai(o),i.cacheMedia(l,o),r=e.buildContext(a),u=e.bestUsableEngine(r,o,s),i.asyncRequire(u).then(function(e){var r;return r=new e(t,o,i.obj.merge({duration:o.duration},s)),n(r)})})})}}(Wistia)},function(t,e,n){var i=function(t,e){return function(){return t.apply(e,arguments)}},o=[].slice;!function(t){var e,r,s,a,l;if(s=t,!s.PublicApi)e=n(25),r=n(14),s.Judy=e,s.Assets=n(18),a=n(7).inUserEventContext,s.PublicApi=function(){function n(t,e){this._definePluginMethod=i(this._definePluginMethod,this),this._doResize=i(this._doResize,this),this._doMonitor=i(this._doMonitor,this),this._initWithMediaData=i(this._initWithMediaData,this),this._allocEmbedSlot=i(this._allocEmbedSlot,this);var n;this.info("initialize"),this._hasImpl=new s.StopGo,this._notReplacing=new s.StopGo,this._notReplacing(!0),this.hasPlugins=new s.StopGo,this.up=new s.StopGo,this.up(!0),this.down=new s.StopGo,this.down(!1),this.inViewport=new s.StopGo,this.inViewport(!1),this._implVersion=0,this._playlistIndex=0,this._attrs={},this.params={},this.options={},this.controls={},this._pluginStopGos={},this.plugins={},this.data={},this._definePluginMethod(),this.hashedId(t),this._givenOptions=e,this._playlist=[],this._setupContainer(),this._validate(),this._inferPropertiesBeforeMediaData(),this._dedupContainer(),this._addToGlobalCache(),this._setupBindings(),this._resetTracker(),this.supportedPlayers=[],this.addToPlaylist(this.hashedId(),e),this.down(this.looksDown()),this.up(this.looksUp()),this._hasImpl(function(t){return function(){if(t._wvideoInUrl())return t._scrollToContainer(),t.play()}}(this)),null!=(n=window.wistiaEmbeds)&&n.bindHandles(),this.trigger("initembed"),this._gatherOptions().popover&&s.Metrics.videoCount(this,"player/initpopover"),this.monitor(),this.embedded(function(t){return function(){return t.monitor()}}(this)),this.ready(function(t){return function(){return t.monitor()}}(this)),this._onInitializable(function(t){return function(){return t._withFreeEmbedSlots(function(){var e;return t._initTime=(new Date).getTime(),t.hasData(function(){return t._hasDataTime=(new Date).getTime()}),t.embedded(function(){return t._embeddedTime=(new Date).getTime()}),t.ready(function(){return t._readyTime=(new Date).getTime()}),e=t._gatherOptions(),e.mediaData?t._initWithMediaData(e.mediaData):s.remote.media(t.hashedId(),t._initWithMediaData,e)})}}(this))}var l=Math.round;return n.prototype._withFreeEmbedSlots=function(t){var e;return this._setupEmbedSlots(),e=null,this.embedded(function(t){return function(){return clearTimeout(e),e=setTimeout(function(){return t._freeEmbedSlot()},t._embedSlotThrottleInterval())}}(this)),null==this._freeEmbedSlotOnError&&(this._freeEmbedSlotOnError=function(t){return function(){return t._freeEmbedSlot(),t.unbind}}(this)),this.rebind("servererror",this._freeEmbedSlotOnError),s._embedSlotFree(function(n){return function(){return n._allocEmbedSlot(),e=setTimeout(function(){return n._freeEmbedSlot()},1e3),t()}}(this))},n.prototype._onInitializable=function(t){return this.popover&&s.elem.isHidden(this.container)?(this.info("popover, delaying init until container is visible"),s.eventLoop.add(this.uuid+".wait_for_container_visible",500,function(e){return function(){var n;if(!s.elem.isHidden(e.container)){e.info("container became visible, initializing");try{t()}catch(t){n=t,s.error(n)}return s.eventLoop.remove}}}(this))):t()},n.prototype._setupEmbedSlots=function(){if(null==s._embedSlots&&(s._embedSlots=[]),!s._embedSlotFree)return s._embedSlotFree=new s.StopGo,s._embedSlotFree(!0)},n.prototype._maxEmbedSlots=function(){var t,e,n;return n=function(){var n,i;for(t in n=s.data("video"),i=[],n)e=n[t],i.push(t);return i}().length,20<n?5:10<n?8:13},n.prototype._embedSlotThrottleInterval=function(){return 500},n.prototype._freeEmbedSlot=function(){var t;if(this._setupEmbedSlots(),s._embedSlots=function(){var e,n,i,o;for(i=s._embedSlots,o=[],e=0,n=i.length;e<n;e++)(t=i[e])!==this&&o.push(t);return o}.call(this),s._embedSlots.length<this._maxEmbedSlots())return s._embedSlotFree(!0)},n.prototype._allocEmbedSlot=function(){if(this._setupEmbedSlots(),s._embedSlots.push(this),s._embedSlots.length>=this._maxEmbedSlots())return s._embedSlotFree(!1)},n.prototype._shouldLazyLoad=function(){var t;return t=this._gatherOptions(),!window._inWistiaIframe&&parent===self&&(t.lazyLoad||this.popover&&!1!==t.lazyLoad)},n.prototype._initWithMediaData=function(t){var n,i,o;this.info("_initWithMediaData",t);try{0===s.Player.assets(t,{public:!0}).length&&s.Metrics.videoCount(this,"player/no-public-assets")}catch(t){n=t,this.debug(n)}return this.isRemoved()?void this.notice("abort, video already removed"):t.error?(this.notice("display error message from server"),this._displayServerError(t),void this.trigger("servererror")):(this._originalMediaData=t,this._mediaData=this._transformMediaData(t),this.data.media=t,this.info("_optionSources",this._optionSources()),this._opts=this._gatherOptions(),this.info("_opts",s.obj.clone(this._opts)),s.obj.merge(this._mediaData,this._opts.mergeMediaData),this._inferPropertiesAfterMediaData(),o=e.choosePlayer(this.judyCtx(),this._mediaData,this._opts),this._playerPlugins=e.playerPlugins(this.judyCtx(),o,this._mediaData,this._opts),e.logWarnings(this.judyCtx(),o,this._mediaData,this._opts),this._implVersion+=1,i=this._implVersion,this._execPlugins(function(t){return function(){var n,r,a,l;if(t._implVersion!==i)return void t.notice("_initWithMediaData(): impl changed from",i,"to",t._implVersion,"not completing init");t.hasPlugins(!0),a=s.PublicApi.classFor(o),t.supportedPlayers=e.supportedPlayers(t.judyCtx(),t._mediaData.assets);try{t._impl=new a(t).init()}catch(r){throw n=r,t.error("Failed to initialize impl of class",a,"preferred",o,"supported",t.supportedPlayers),n}return t.grid=t._impl.setupGrid({initDimensions:!1}),t._hasImpl(!0),t.hasData(!0),r=t._impl,(null==(l=t._embedContainer)?void 0:l.parentNode)?(t._runMethodsFromOptions(),t._impl.embed(),s.timeout(t.uuid+".prefetch_next_media",function(){return t.prefetchNextMedia()},2e3),t._injectJsonLd()):t.notice("embed(): container removed, giving up")}}(this)))},n.prototype.judyCtx=function(){return this._judyCtx||(this._judyCtx=e.buildContext({pageUrl:this._attrs.pageUrl}))},n.prototype._iframeUrl=function(t){return null==t&&(t=""),t+"//"+s.remote.externalEmbedHost(t)+"/embed/iframe/"+this.hashedId()},n.prototype._removeJsonLd=function(){if(this._jsonLd)return s.elem.remove(this._jsonLd),this._jsonLd=null},n.prototype._wvideoInUrl=function(){var t;return!this._opts._inIframe&&(t=s.url.parse(this._attrs.pageUrl),t.params.wvideo===this.hashedId())},n.prototype._scrollToContainer=function(){var t;return t=s.elem.offset(this.container),s.util.scrollTop(t.top-100)},n.prototype._injectJsonLd=function(){var t,e,n;if("notplayable"!==this.playerType)return this._removeJsonLd(),this._opts._inIframe?void 0:!1===this._opts.seo||s.detect.browser.msie&&9>s.detect.browser.version?void 0:(t={"@context":"http://schema.org/","@id":this._iframeUrl("https:"),"@type":"VideoObject",duration:"PT"+this.humanDuration().toUpperCase(),name:this.name(),thumbnailUrl:this.stillUrl({protocol:"https:"}),embedUrl:this._iframeUrl("https:"),uploadDate:this._createdAtIso8601()},this._mediaData.captions&&(t.transcript=null==(e=this._mediaData.captions[0])?void 0:e.text),this._mediaData.seoDescription&&(t.description=this._mediaData.seoDescription),n=JSON.stringify(t),this._jsonLd=s.elem.fromObject({tagName:"script",type:"application/ld+json",childNodes:n}),this._jsonLd._wistia=!0,s.elem.append(document.head,this._jsonLd))},n.prototype._createdAtIso8601=function(){var t,e,n,i;return t=new Date(1e3*this._mediaData.createdAt),i=t.getFullYear(),n=t.getMonth()+1,e=t.getDate(),10>n&&(n="0"+n),10>e&&(e="0"+e),i+"-"+n+"-"+e},n.prototype._setDeprecatedProperties=function(){return this.options=s.obj.clone(this._opts),this.params=s.obj.clone(this._opts),s.obj.merge(this.params,this._attrs),this._attrs.email&&(this.params.trackEmail=this._attrs.email),this._hasImpl(function(t){return function(){var e;return t.playerType=t.embedType=null==(e=t._impl)?void 0:e.playerType}}(this))},n.prototype.elem=function(){var t;return null==(t=this._impl)?void 0:"function"==typeof t.elem?t.elem():void 0},n.prototype._resetTracker=function(){var t;return null!=(t=this._tracker)&&t.reset(),this._tracker||(this._tracker=new s.VideoTracker2(this)),this.tracker=this._tracker,this._visitorKey=this._tracker.visitorKey(),this._tracker.monitor()},n.prototype._execPlugins=function(t){return this._pluginScripts=s.plugin._scriptsFromVideo(this),this.info("_execPlugins",this._pluginScripts),s.plugin._execQueue(this,this._pluginScripts,t)},n.prototype._optionSources=function(t){var e,n,i,o,r,a,l,u,c,h,d,p,f,m;for(a in null==t&&(t={}),t=s.obj.merge({givenOptions:s.obj.clone(this._givenOptions),mediaData:s.obj.clone(this._mediaData),hashedId:this._hashedId,container:this.container},t),o=t.givenOptions,"v1"===o.version?n={}:t.mediaData?(n=s.obj.clone(t.mediaData.embed_options),delete n.stillUrl):n={},u={},p=s.url.parse(this._inferPageUrl()),c=["autoPlay","controlsVisibleOnLoad","fakeFullscreen","hls","muted","nativeMode","playbar","playerForce","playerPreference","playsinline","silentAutoPlay","videoFoam","volumeControl"],h=p.params||{})m=h[a],/^w_/.test(a)&&(a=a.replace(/^w_/,""),0<=s.obj.indexOf(c,a)&&(u[a]=m));for(e in i={},d={customize:n,global:s.options("__global__"),hashedId:s.options(t.hashedId),dom:s.options("__"+t.container.id+"_dom_options__"),container:s.options(t.container.id),inline:o,inferredOptions:i,queryParamOptions:u})l=d[e],!1===l["vulcan-v2"]?i.playerPreference="vulcan":!0===l["vulcan-v2"]&&(i.playerPreference="vulcan-v2");for(r in"true"===p.params["vulcan-v2"]?i.playerPreference="vulcan-v2":"false"===p.params["vulcan-v2"]&&(i.playerPreference="vulcan"),d)f=d[r],s.obj.isEmpty(f)&&delete d[r];return d},n.prototype._gatherOptions=function(t){var e,n,i,o,r,a,l,u;for(e in null==t&&(t={}),n={},l=this._optionSources(t))u=l[e],0<=(null==(i=t.only)?void 0:i.indexOf(e))?s.obj.merge(n,u):0>(null==(o=t.except)?void 0:o.indexOf(e))?s.obj.merge(n,u):!t.only&&!t.except&&s.obj.merge(n,u);return s.obj.cast(n),this._normalizeOptions(n),"html5"===n.playerPreference&&"vulcan-v2"===(null==(r=this._mediaData)||null==(a=r.embed_options)?void 0:a.playerPreference)&&(n.playerPreference="vulcan-v2"),n},n.prototype.hashedId=function(t){return null==t?this._hashedId:(this._hashedId=t,this)},n.prototype._setupPlayerPlugins=function(){},n.prototype._readyMp4s=function(){return s.Player.assets(this._mediaData,{container:"mp4",public:!0,status:s.Player.READY})},n.prototype._nonFailedMp4s=function(){return[].concat(s.Player.assets(this._mediaData,{container:"mp4",public:!0,status:s.Player.READY})).concat(s.Player.assets(this._mediaData,{container:"mp4",public:!0,status:s.Player.PROCESSING})).concat(s.Player.assets(this._mediaData,{container:"mp4",public:!0,status:s.Player.QUEUED}))},n.prototype._normalizeOptions=function(t){return t.twitter&&(this.info("twitter detected"),s.obj.get(t,"plugin.socialbar-v1")&&(this.info("disabled socialbar"),s.obj.set(t,"plugin.socialbar-v1.on",!1)),s.obj.get(t,"plugin.transcript-v2")&&(this.info("disabled transcript"),s.obj.set(t,"plugin.transcript-v2.on",!1))),null!=t.playButtonVisible&&(t.playButton=s.obj.cast(t.playButtonVisible),delete t.playButtonVisible),t},n.prototype._setupContainer=function(){return this._containerId=this._givenOptions.container?this._givenOptions.container:"wistia_"+this.hashedId(),this.container="string"==typeof this._containerId?document.getElementById(this._containerId):this._containerId,this.container&&(this.container.wistiaApi=this,this._startingHtml=this.container.innerHTML,this.container.innerHTML="",s.elem.addClass(this.container,"wistia_embed_initialized")),this.info("container",this.container)},n.prototype._inferPropertiesBeforeMediaData=function(){var t;if(this.chrome=s.elem.fromObject({id:s.seqId("wistia_chrome_"),class:"w-chrome",style:s.generate.relativeBlockCss()}),s.elem.style(this.chrome,{outline:"none",overflow:"hidden",boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"}),t=this._gatherOptions(),this._shouldBePopover()?(this._embedContainer=s.elem.fromObject({id:this.container.id+"_popover",style:{height:this._popoverSize(t).height+"px",width:this._popoverSize(t).width+"px"}}),s.elem.append(document.body,this._embedContainer),this.popover=new s.Popover(this)):this._embedContainer=this.container,s.elem.append(this._embedContainer,this.chrome),this.uuid=t.uuid?t.uuid:s.seqId(),this.info("uuid",this.uuid),null!=t.playlistLoop&&(this._attrs.playlistLoop=t.playlistLoop),this._embedContainer)return this._attrs.startingWidth=s.elem.width(this._embedContainer),this._attrs.startingHeight=s.elem.height(this._embedContainer)},n.prototype._shouldBePopover=function(){var t;return t=this._gatherOptions(),!t._inIframe&&(!0===t.popover||"v2"===t.popover)},n.prototype._popoverSize=function(t){var e,n,i,o,r;return null==t&&(t=this._opts),null==t&&(t={}),t.popoverSize?(o=(null==(i=t.popoverSize)?void 0:i.split("x"))||[640,360],r=o[0],e=o[1],r=parseInt(r),e=parseInt(e)):this._mediaData&&(n=this.asset({container:"mp4",width:[0,960],sortBy:"width desc"}))?(r=n.width,e=n.height):(r=640,e=360),{width:r,height:e}},n.prototype._inferPropertiesAfterMediaData=function(){var t,e,n,i;return this._attrs.shouldTrack=!this._opts.doNotTrack,this._attrs.seekThreshold=this._opts.seekThreshold||1.5,n=this._inferQualityRangeFromOpts(),e=n[0],t=n[1],this._attrs.qualityMin=e,this._attrs.qualityMax=t,this._attrs.qualityMax<this._attrs.qualityMin&&(this.error("qualityMax "+this._attrs.qualityMax+" is less than qualityMin "+this._attrs.qualityMin+". Setting qualityMax to "+this._attrs.qualityMin+"."),this._attrs.qualityMax=this._attrs.qualityMin),this._attrs.rawEmbed=null==this._opts.rawEmbed?null==this._opts._inIframe||!s.obj.cast(this._opts._inIframe||!1):s.obj.cast(this._opts.rawEmbed),this._attrs.pageUrl||(this._attrs.pageUrl=this._inferPageUrl()),null!=this._opts.trackEmail&&(this._attrs.email=this._opts.trackEmail),!this._attrs.email&&this._attrs.shouldTrack&&(i=this._extractEmailFromParams())&&(this._attrs.email=i),!this._attrs.email&&s.localStorage([this._attrs.pageUrl,"trackEmail"])&&(this._attrs.email=s.localStorage([this._attrs.pageUrl,"trackEmail"])),this._attrs.playerColor=s.Player._sanePlayerColor(this._opts.playerColor||"636155"),this._attrs.playerBackgroundColor=this._opts.playerBackgroundColor||"#000000",this._attrs.trackWithJs=!0,this._attrs.newStillLogic=!0,this._opts.noDeprecatedProperties||this._setDeprecatedProperties(),this},n.prototype._inferPageUrl=function(){var t,e,n;return(null==(t=this._opts)?void 0:t.pageUrl)?this._opts.pageUrl:(null==(e=window.FreshUrl)?void 0:e.originalUrl)?null==(n=window.FreshUrl)?void 0:n.originalUrl:top===self?location.href||"":document.referrer||""},n.prototype._inferQualityRangeFromOpts=function(){var t,e,n,i,o,r,a,u,c,h,d;return e=360,t=2160,this._opts.videoQuality&&"auto"!==this._opts.videoQuality?"sd-only"===this._opts.videoQuality?[200,360]:"md"===this._opts.videoQuality?[540,t]:"hd-only"===this._opts.videoQuality?[720,t]:/width:/.test(this._opts.videoQuality)?(c=this._opts.videoQuality.match(/width:(\d+)/i),n=c[0],h=c[1],d=parseInt(h,10),(o=s.Player.asset(this._mediaData,{container:/mp4|flv/,status:s.Player.READY,public:!0}))?(i=o.width/o.height,r=l(d/i),[r,r]):(this.warn("No assets available to determine aspect for videoQuality '"+this._opts.videoQuality+"', using default qualityMin/qualityMax"),[e,t])):(this.warn("Unknown videoQuality setting '"+this._opts.videoQuality+"', using default qualityMin/qualityMax"),[e,t]):(u=null==this._opts.qualityMin?e:s.util.assetSizeShorthandToNumeric(this._opts.qualityMin),a=null==this._opts.qualityMax?t:s.util.assetSizeShorthandToNumeric(this._opts.qualityMax),[u,a])},n.prototype._extractEmailFromParams=function(){var t,e,n,i,o,r;return(o=(null==(n=this._attrs.pageUrl)?void 0:n.match(/wemail\=([^\&\#]+)/))||null)?o[1]:(r=(null==(i=this._attrs.pageUrl)?void 0:i.match(/wkey\=([^\&\#]+)/))||null,r?(t=r[1],e=s.base64.decode(t)):null)},n.prototype._runMethodsFromOptions=function(){var t,e,n;if(null!=this._opts.foreignData&&this.foreignData(this._opts.foreignData),null==this._opts.email?null!=this._opts.trackEmail&&this.email(this._opts.trackEmail):this.email(this._opts.email),null!=this._opts.playerLanguage&&this.playerLanguage(this._opts.playerLanguage),null!=this._opts.videoFoam&&this.videoFoam(this._opts.videoFoam),this._opts.controlScaling&&this.controlScaling(this._opts.controlScaling),this._hasImpl(function(t){return function(){if(null!=t._opts.playerColor&&"flash"!==t.playerType)return t.playerColor(t._opts.playerColor)}}(this)),null!=this._opts.volume&&this.volume(this._opts.volume),(!0===this._opts.muted||0===this._opts.volume)&&this.mute(),!1===this._opts.muted&&this.unmute(),this._opts.suppressPlay&&this.suppressPlay(this._opts.suppressPlay),!this.popover&&this._opts.autoPlay&&this._hasImpl(function(t){return function(){return t._playSuspendedOffScreenEnabled()?t.inViewport()?t.play():t.bind("enterviewport",function(){return t.play(),t.unbind}):t.play()}}(this)),this._opts.pause&&this.pause(),null!=this._opts.time)return e=s.detect.iphone||s.detect.ipad||s.detect.android,t=this.popover&&!this.popover._visible,n="playing"!==this.state()&&(e||t),this.time(this._opts.time,{lazy:n})},n.prototype._playSuspendedOffScreenEnabled=function(){return null!=this._opts.playSuspendedOffScreen&&"auto"!==this._opts.playSuspendedOffScreen?this._opts.playSuspendedOffScreen:this.isMuted()},n.prototype._validate=function(){var t;if(t=this._errors(),0<t.length)throw new Error(t.join(", "));return!0},n.prototype._errors=function(){var t;return t=[],this.container||t.push('Could not find element with ID "'+this._containerId+'" in DOM. Failed to initialize video "'+this._hashedId+'".'),t},n.prototype._dedupContainer=function(){var t,e,n,i,o,r,a;if(s.data("video")){for(a in r=[],i=s.data("video"))t=i[a],(null==(o=t.container)?void 0:o.id)===this.container.id&&r.push(t);for(e=0,n=r.length;e<n;e++)t=r[e],this.notice("_dedupContainer",t.container.id),t.remove();if(0<r.length)return this.container.wistiaApi=this}},n.prototype._addToGlobalCache=function(){return this.info("_addToGlobalCache",this.uuid),s.data(["video",this.uuid],this)},n.prototype._displayServerError=function(t){
return t.iframe?this.container.innerHTML="<iframe src='"+s.proto()+"//"+s.remote.embedHost()+"/embed/iframe/"+this.hashedId()+"' height='"+this.height()+"' width='"+this.width()+"' frameborder='0' scrolling='no'></iframe>":this.container.innerHTML="<div style='background:#fff;border:2px dashed #ddd;color:#aaa;font-family:Century Gothic,Arial;font-size:14px;text-align:center;width:"+this.width()+";height:"+this.height()+";'><div style='padding:20px;'>"+(t.message||t.error)+"</div></div>"},n.prototype._implExec=function(){var t,e;return e=arguments[0],t=2<=arguments.length?o.call(arguments,1):[],this._hasImpl(function(n){return function(){var i;return n._impl[e]?n._impl[e]._originalMethod===n[e]?void n.warn("calling "+e+" would result in an infinite loop"):(i=n._impl)[e].apply(i,t):n.warn(e+" is not defined",s.stacktrace())}}(this)),this},n.prototype._implGet=function(){var t,e,n,i;return n=arguments[0],e=arguments[1],t=3<=arguments.length?o.call(arguments,2):[],null==e&&(e=null),this._hasImpl()?this._impl[n]?this._impl[n]._originalMethod===this[n]?void this.warn("calling "+n+" would result in an infinite loop"):(i=this._impl)[n].apply(i,t):this.warn(n+" is not defined",s.stacktrace()):e},n.prototype._implSetOrGet=function(){var t,e,n;return n=arguments[0],e=arguments[1],t=3<=arguments.length?o.call(arguments,2):[],0<t.length?this._implExec.apply(this,[n].concat(o.call(t))):this._implGet(n,e)},n.prototype._implPromise=function(){var t,e;return e=arguments[0],t=2<=arguments.length?o.call(arguments,1):[],new r(function(n){return function(i,o){return n._hasImpl(function(){var s,a;return n._impl[e]?n._impl[e]._originalMethod===n[e]?void n.warn("calling "+e+" would result in an infinite loop"):(a=(s=n._impl)[e].apply(s,t),a instanceof r?a.then(i).catch(o):i(a)):o(new Error(e+" is not defined on _impl"))})}}(this))},n.prototype.rebuild=function(){return this._hasImpl(function(t){return function(){return t._impl.rebuild(),t._runMethodsFromOptions()}}(this))},n.prototype.fullRebuild=function(t){return null==t&&(t={}),this.replaceWith(this._impl._mediaData,s.obj.merge({force:this._impl.playerType,inPlace:!1,transition:"none"},t))},n.prototype.rebuildAs=function(t,e){return null==e&&(e={}),this.fullRebuild(s.obj.merge(this._givenOptions,e,{force:t,transition:"none"}))},n.prototype.replace=function(t,e){return null==e&&(e={}),this.replaceWith(t,s.obj.merge({inlineOptionsOnly:!0},e))},n.prototype.replaceWith=function(t,e){var n;return null==e&&(e={}),this.info("replaceWith",t,e),n=function(n){return function(){var i,o;return o=n._impl?n._replaceWithMediaData:n._initWithMediaData,n._impl.trigger("beforereplace"),n._notReplacing(!1),n.hasData(!1),n._hasImpl(!1),n._initTime=(new Date).getTime(),n.hasData(function(){return n._hasDataTime=(new Date).getTime(),n.embedded(function(){return n._embeddedTime=(new Date).getTime()})}),s.obj.isObject(t)?o.call(n,t,e):(i=s.mediaFromCache(t))?o.call(n,i,e):s.remote.media(t,function(t){return o.call(n,t,e)},n._opts)}}(this),this._hasImpl(function(t){return function(){return t._notReplacing(n)}}(this)),this},n.prototype._replaceWithMediaData=function(){var t;return t=1<=arguments.length?o.call(arguments,0):[],this._impl.commandQueueOpen.synchronize(function(e){return function(n){return e._replaceWithMediaDataQueuable.apply(e,t),e._notReplacing(n)}}(this))},n.prototype._replaceWithMediaDataQueuable=function(t,n){var i,o,r,l,u,c,h,d,p,f,m,y,g,v,b;return null==n&&(n={}),s.remote._convertEmbedSslToAkamai(t),n=s.obj.clone(n),this.info("_replaceWithMediaData",t,n),t.error?(this._displayServerError(t),void this.trigger("servererror")):(null==n.playlistIndex?this._inPlaylist(t.hashedId)&&(this._playlistIndex=this._playlistIndexOf(t.hashedId)):(this._playlistIndex=n.playlistIndex,delete n.playlistIndex),n.inlineOptionsOnly&&(u=n.inlineOptionsOnly,delete n.inlineOptionsOnly),null!=n.inPlace&&(l=n.inPlace,delete n.inPlace),null!=n.transition&&(v=n.transition,delete n.transition),null!=n.transitionTime&&(b=n.transitionTime,delete n.transitionTime),this.hasData(!1),this._hasImpl(!1),this._tracker.stopMonitoring(),this._clobberVideoBindings(),this._savedState={},this._suspended=!1,h=this._impl,"function"==typeof h.wipeOutstandingAsyncFunctions&&h.wipeOutstandingAsyncFunctions(),this._hashedId=t.hashedId,this._originalMediaData=t,this._mediaData=this._transformMediaData(t),this.data.media=t,this._givenOptions=n,this._opts=u?this._gatherOptions({only:"inline"}):this._gatherOptions(),this._embedOptions=null,h.freezeLastFrame(),d=new s.StopGo,g=function(){return d.go()},a()&&!0===this._opts.autoPlay&&!h.isMuted()?(i=h.engine,i?(i.stopStreaming(),i.play().then(g).catch(g),setTimeout(g,2e3)):g()):g(),!1===(null==(p=this._mediaData.embed_options.plugin)||null==(f=p.passwordProtectedVideo)?void 0:f.on)&&null!=(null==(m=this._opts.plugin)?void 0:m.passwordProtectedVideo)&&(this._opts.plugin.passwordProtectedVideo.on=!1),this.info("_opts",s.obj.clone(this._opts)),s.obj.merge(this._mediaData,this._opts.mediaData),this._inferPropertiesAfterMediaData(),r="notplayable"!==h.playerType&&"passwordprotected"!==h.playerType&&("html5"===h.playerType&&(s.detect.iphone||s.detect.android||s.detect.ipad||s.detect.safari)||null!=l&&l),this.info("inPlace",r),c=e.choosePlayer(this.judyCtx(),this._mediaData,this._opts),this._playerPlugins=e.playerPlugins(this.judyCtx(),c,this._mediaData,this._opts),e.logWarnings(this.judyCtx(),c,this._mediaData,this._opts),r&&(this.removePlugins(),h.stopStreaming()),this.plugin=null,this._pluginStopGos={},this._definePluginMethod(),this.hasPlugins(!1),h.commandQueueOpen.setQueue([]),null!=(y=h.engine)&&y.destroy(),this._implVersion+=1,o=this._implVersion,this._execPlugins(function(t){return function(){var n,i;return t._implVersion===o?(t.hasPlugins(!0),t.supportedPlayers=e.supportedPlayers(t.judyCtx(),t._mediaData.assets),i=s.PublicApi.classFor(c),t._impl=new i(t).init(),t._setupBindings(),t.grid=r?t._impl.grid=h.grid:t._impl.setupGrid({initDimensions:!1}),"function"==typeof(n=t._impl).transferStateFrom&&n.transferStateFrom(h),t._hasImpl(!0),t.hasData(!0),t._resetTracker(),r||t._runMethodsFromOptions(),r?t._replaceMode(function(){return t._impl.initFrom(h)}):t._replaceMode(function(){return d(function(){return t._embedWithTransitionFrom(h,v,{time:b})})}),t.embedded(function(){return t._notReplacing(!0)}),r&&t._runMethodsFromOptions(),t._allowContainerMatch()&&t.width(t.containerWidth(),{constrain:!0}),s.timeout(t._impl.uuid+".inject_json_ld",function(){return t._injectJsonLd()}),t.trigger("afterreplace"),s.timeout(t.uuid+".prefetch_next_media",function(){return t.prefetchNextMedia()},2e3)):void t.notice("replaceWith(): impl changed from",o,"to",t._implVersion,"not completing replacement")}}(this)))},n.prototype._embedWithTransitionFrom=function(t,e,n){return null==e&&(e="none"),this.info("_embedWithTransitionFrom",t,e),"slide"===e||"slideleft"===e?(this.info("slideleft"),this._impl.embed(t),this._impl.embedded(function(e){return function(){return t.slideOutLeft(n,function(){return t.remove()}),e._impl.slideInLeft(n,e._impl.trigger("transitiondone"))}}(this))):"slideright"===e?(this.info("slideright"),this._impl.embed(t),this._impl.embedded(function(e){return function(){return t.slideOutRight(n,function(){return t.remove()}),e._impl.slideInRight(n,function(){return e._impl.trigger("transitiondone")})}}(this))):"fade"===e?(this.info("fade"),"transparent"!==t._opts.wmode&&(t.grid.center.style.backgroundColor="#000"),null!=n.time&&(n.time=l(n.time/2)),t.fadeOut(n,function(e){return function(){var i;return t.remove(),"transparent"!==e._impl._opts.wmode&&null!=(i=e._impl.grid)&&(i.center.style.backgroundColor="#000"),e._impl.embed(t),e._impl.embedded(function(){return e._impl.fadeIn(n,function(){var t;return null!=(t=e._impl)&&(t.grid.center.style.backgroundColor=""),e._impl.trigger("transitiondone")})})}}(this))):"crossfade"===e?(this.info("crossfade"),t.grid&&s.elem.style(t.grid.root,{position:"absolute",zIndex:0}),s.elem.style(this._impl.grid.root,{zIndex:1}),this._impl.embed(t),this._impl.embedded(function(e){return function(){return e._impl.fadeIn(n,function(){return t.remove(),s.elem.style(e._impl.grid.root,{zIndex:""}),e._impl.trigger("transitiondone")})}}(this))):(this.info("no transition"),this._impl.embed(t),t.remove())},n.prototype._clobberVideoBindings=function(){var t,e,n,i;for(t in e=this._bindings,n=[],e)i=e[t],"afterreplace"===t||"beforereplace"===t||"all"===t?n.push(void 0):n.push(this.unbind(t));return n},n.prototype._replaceMode=function(t){return this.info("_replaceMode",!0),this._impl._replacing=!0,t(),this._impl.embedded(function(t){return function(){return t._impl._replacing=!1,t.info("_replaceMode",!1)}}(this))},n.prototype.remove=function(){var t,e,n,i,o,r,a,l;return this.info("remove"),this.trigger("down"),this.trigger("beforeremove"),this._freeEmbedSlot(),null!=(t=this.elem())&&null!=(e=t.mux)&&"function"==typeof e.destroy&&e.destroy(),this._implExec("remove",{trigger:!1}),this._hasImpl(!1),this._removeJsonLd(),null!=(n=this.popover)&&n.remove(),null!=(i=this._impl)&&i.stopStreaming(),null!=(o=this._intersectionObserver)&&o.disconnect(),s.elem.unbindAll(this._foamDummyElem),s.elem.remove(this._foamDummyElem),null!=(r=s.eventLoop)&&r.remove(this.uuid),s.clearTimeouts(this.uuid),this._unbindListeners(),s.elem.remove(this.chrome),s.removeData(["video",this.uuid]),this.trigger("afterremove"),this._bindings={},this.container.wistiaApi="removed",this._impl=null,null!=(a=window.__wistiaStores)&&(a[this.uuid]=null),null==(l=window.__wistiaStores)?void 0:delete l[this.uuid]},n.prototype.fullRemove=function(){var t,e;return e=this._embedContainer,t=this.container,this.remove(),s.elem.remove(e),s.elem.remove(t),this.container=this._embedContainer=null,this},n.prototype.isRemoved=function(){return!s.data(["video",this.uuid])},n.prototype._unbindListeners=function(){if(s.elem.unbindAllInside(this.chrome),this._throttleTriggerViewport&&s.elem.unbind(window,"scroll",this._throttleTriggerViewport),this._doResize)return s.elem.unbind(window,"resize",this._doResize)},n.prototype._saveState=function(){var t;return this._savedState={state:this.state(),time:this.time(),volume:this.volume(),inFullscreen:this.inFullscreen(),uuid:null==(t=this._impl)?void 0:t.uuid}},n.prototype.suspend=function(){if(!this._suspended)return this._saveState(),this.info("suspend",s.obj.clone(this._savedState)),this.pause(),this.suppressPlay(!0),this.cancelFullscreen(),this._suspended=!0,this._suspendPlayBinding=function(t){return function(){return t.pause()}}(this),this._suspendSeekBinding=function(t){return function(){return t.pause(),t.time(t._savedState.time)}}(this),this.bind("play",this._suspendPlayBinding),this.bind("seek",this._suspendSeekBinding),this.trigger("suspendstatechange",!0),this},n.prototype.resume=function(t){var e,n;if(null==t&&(t={}),!!this._suspended)return n=s.obj.merge({},this._savedState,t),this.info("resume",s.obj.clone(n)),this._suspended=!1,this.trigger("suspendstatechange",!1),this.unbind("play",this._suspendPlayBinding),this.unbind("seek",this._suspendSeekBinding),n.uuid!==(null==(e=this._impl)?void 0:e.uuid)?this:(this.suppressPlay(!1),this.volume(n.volume),0<n.time&&("ended"===n.state?"flash"===this.playerType&&1800<this.duration()?this.time(n.time-10):this.time(n.time-1):this.time(n.time)),"playing"===n.state&&this.play(),this)},n.prototype._setupBindings=function(){return this.bind("afterend",function(t){return function(){return t._suspended?t.bind("suspendstatechange",function(e){if(!1===e)return t._nextEmbedOrPlaylistLoop(),t.unbind}):t._nextEmbedOrPlaylistLoop()}}(this)),this.bind("widthchange",function(t){return function(){var e,n;return null!=(e=t._impl)&&(e._width=t._width=t.width()),null==(n=t._impl)?void 0:n._videoWidth=t._videoWidth=t.videoWidth()}}(this)),this.bind("heightchange",function(t){return function(){return t._impl._height=t._height=t.height(),t._impl._videoHeight=t._videoHeight=t.videoHeight()}}(this)),window.IntersectionObserver?(this.looksUp()&&(this.inViewport(this._isInViewportNow()),this.inViewport()?this.trigger("enterviewport"):this.trigger("leaveviewport")),this._intersectionObserver=new IntersectionObserver(function(t){return function(e){return e[0].isIntersecting?(t.trigger("enterviewport"),t.inViewport(!0)):(t.trigger("leaveviewport"),t.inViewport(!1))}}(this)),this._intersectionObserver.observe(this.container)):top===self?(null==this._throttleTriggerViewport&&(this._throttleTriggerViewport=s.util.throttle(300,function(t){return function(){var e;return(e=t._isInViewportNow())&&!t._inViewport?(t._inViewport=!0,t.inViewport(!0),t.trigger("enterviewport")):!e&&t._inViewport?(t._inViewport=!1,t.inViewport(!1),t.trigger("leaveviewport")):void 0}}(this))),s.elem.rebind(window,"scroll",this._throttleTriggerViewport),this.bind("initembed",this._throttleTriggerViewport),this.bind("up",this._throttleTriggerViewport),this.looksUp()&&this._throttleTriggerViewport()):(this._inViewport=!0,this.inViewport(!0)),s.elem.rebind(window,"resize",this._doResize),this.bind("sphericaltap",function(t){return window.location=t})},n.prototype._nextEmbedOrPlaylistLoop=function(){return this.nextVideo()?this.embedNext():this._attrs.playlistLoop?(this.info("playlistLoop"),this.embedIndex(0,{autoPlay:!0})):void 0},n.prototype._isInViewportNow=function(){var t,e,n,i,o;return!this.down()&&!this.looksDown()&&(!window.IntersectionObserver&&top!==self||(t=s.elem.offset(this.container),n=t.top,e=n+s.elem.height(this.container),o=s.util.scrollTop(),i=s.util.scrollTop()+s.elem.height(window),n>=o&&n<i||e>=o&&e<i||n<=o&&e>=i))},n.prototype._pauseEventLoop=function(){var t;if(s.eventLoop.pause(this.uuid),null==(t=this._impl)?void 0:t.uuid)return s.eventLoop.pause(this._impl.uuid)},n.prototype._unpauseEventLoop=function(){var t;if(s.eventLoop.unpause(this.uuid),null==(t=this._impl)?void 0:t.uuid)return s.eventLoop.unpause(this._impl.uuid)},n.prototype.playlistIndex=function(){return this._playlistIndexOf(this.hashedId())},n.prototype.nextVideo=function(){return 0<=this.playlistIndex()?this._playlist[this.playlistIndex()+1]||null:null},n.prototype.previousVideo=function(){return 0<this.playlistIndex()?this._playlist[this.playlistIndex()-1]||null:null},n.prototype._playlistIndexOf=function(t){var e,n,i,o;for(e=n=0,i=this._playlist.length;0<=i?n<=i:n>=i;e=0<=i?++n:--n)if((null==(o=this._playlist[e])?void 0:o.hashedId)===t)return e;return-1},n.prototype._inPlaylist=function(t){return 0<=this._playlistIndexOf(t)},n.prototype._setTransitionOptions=function(t){if(t.transition||(t.transition=this._opts.playlistTransition||"fade"),t.transitionTime||(t.transitionTime=this._opts.playlistTransitionTime),t.playlistIndex&&"slide"===t.transition)return t.playlistIndex>=this._playlistIndex?t.transition="slideleft":t.transition="slideright"},n.prototype.embedNext=function(t){var e,n;return n=this.nextVideo(),this.info("embedNext",n),e=s.obj.merge({autoPlay:!0},n.options,t),e.playlistIndex=this._playlistIndex+1,this._setTransitionOptions(e),this.replaceWith(n.hashedId,e)},n.prototype.embedPrevious=function(t){var e,n;return n=this.previousVideo(),this.info("embedPrevious",n),e=s.obj.merge({autoPlay:!0},n.options,t),e.playlistIndex=this._playlistIndex-1,this.replaceWith(n.hashedId,e)},n.prototype.embedIndex=function(t,e){var n,i;return i=this._playlist[t],this.info("embedIndex",t,i),n=s.obj.merge({autoPlay:!0},i.options,e),n.playlistIndex=t,this.replaceWith(i.hashedId,n)},n.prototype.addToPlaylist=function(t,e,n){var i,o,r,a,l,u,c;for(null==e&&(e={}),null==n&&(n={}),null==this._playlist&&(this._playlist=[]),l=s.util.toArray(t),r=0,a=l.length;r<a;r++)o=l[r],i={hashedId:o,options:e},n=s.obj.clone(n),n.after?n.detect=function(t){return t.hashedId===n.after}:n.before&&(n.detect=function(t){return t.hashedId===n.before}),this.info("addToPlaylist",i,n),s.util.insertIntoArray(this._playlist,i,n),o===(null==(u=this.nextVideo())?void 0:u.hashedId)?this.prefetchMedia(o,e):o===(null==(c=this.previousVideo())?void 0:c.hashedId)&&this.prefetchMedia(o,e);return this.info("updated _playlist",s.obj.clone(this._playlist)),this._playlist},n.prototype.prefetchNextMedia=function(){var t;if(!this._opts._inLegacyPlaylist&&(t=this.nextVideo()))return this.prefetchMedia(t.hashedId,t.options)},n.prototype.prefetchMedia=function(t,n){return this.info("@prefetchMedia",t),s.remote.media(t,function(i){return function(o){var r;return i.info("prefetched",t),i._prefetchPluginScripts(o,n),r=e.bestUsableEngine(i.judyCtx(),o,n),s.asyncRequire(r)}}(this),n)},n.prototype._prefetchPluginScripts=function(t,e){var n,i,o,r,a;if(this.info("@_prefetchPluginScripts for",t,e),o=this._gatherOptions({givenOptions:e,mediaData:t,hashedId:t.hashedId,container:this.container}),r=s.plugin._scriptsFromOptions(o),r=function(){var t,e,n;for(n=[],t=0,e=r.length;t<e;t++)a=r[t],s.plugin._prefetched[a.src]||n.push(a);return n}(),0===r.length)return void this.info("@_prefetchPluginScripts: no need to fetch plugins");for(n=0,i=r.length;n<i;n++)a=r[n],s.plugin._prefetched[a.src]="fetching";return this.info("prefetching scripts",r),s.remote.scripts(r,function(t){return function(){var e,n;for(e=0,n=r.length;e<n;e++)a=r[e],s.plugin._prefetched[a.src]="fetched";return t.info("prefetched scripts",r)}}(this))},n.prototype.addPlugin=function(t,e){return null==e&&(e={}),this.info("addPlugin",t,e),new r(function(n){return function(i){return n._hasImpl(function(){return n.hasPlugin(t)||s.plugin._inject(n,t,e),n.plugin(t).then(function(t){return i(t)})})}}(this))},n.prototype.hasPlugin=function(t){return!!this.plugin[t]},n.prototype.turnOffPluginApis=function(){var t,e,n,i,o;for(n in this.info("turnOffPluginApis"),i=this.plugin,o=[],i)e=i[n],o.push("function"==typeof(t=this._pluginStopGos)[n]?t[n](!1):void 0);return o},n.prototype.removePlugin=function(t){var e,n,i;if(!!(n=this.plugin[t])){try{"function"==typeof n.remove&&n.remove()}catch(n){e=n,setTimeout(function(){return function(){throw e}}(this),0)}return delete this.plugin[t],(null==(i=this._impl.plugin)?void 0:i[t])&&delete this._impl.plugin[t],n.uuid&&this.plugins&&(delete this.plugins[this.uuid],s.removeData(["plugins",t,this.uuid,n.uuid])),this.fit(),this.trigger("pluginremoved",t)}},n.prototype.removePlugins=function(){var t,e,n,i;for(e in this.info("removePlugins"),n=this.plugin,i=[],n)t=n[e],i.push(this.removePlugin(e));return i},n.prototype.containerWidth=function(){return this._attrs.rawEmbed&&s.detect.browser.old?s.grid.wrapperWidth(this):this._attrs.rawEmbed?s.elem.width(this._embedContainer):s.util.winWidth()},n.prototype.containerHeight=function(){return this._attrs.rawEmbed&&s.detect.browser.old?s.grid.wrapperHeight(this):this._attrs.rawEmbed?s.elem.height(this._embedContainer):s.util.winHeight()},n.prototype._goToDownState=function(){return this.info("_goToDownState"),this._stateBeforeDown=this._lastState,this.up(!1),this.down(!0),"flash"!==this.embedType&&this.pause(),this.ready(!1),this.trigger("down")},n.prototype._goToUpState=function(){var t;return this.info("_goToUpState"),this.down(!1),this._ignoreUp=!0,this._doSizing(),this._ignoreUp=!1,this.up(!0),this.ready(!1),"flash"===this.embedType?this.rebuild():(this.fit(),null!=(t=this._impl)&&t.checkForReady(),"playing"===this._stateBeforeDown&&this.play()),this.trigger("up")},n.prototype._checkDownState=function(){var t;return t=this.looksDown(),this.up()&&t?(this.info("moving to down state"),this._goToDownState()):this.down()&&!t?(this.info("moving to up state"),this._goToUpState()):void 0},n.prototype._removeHandleIfGoneFromDOM=function(){return!!this.embedded()&&(this.elem()?this._embedContainer&&!this._embedContainer.parentNode&&(this.warn("container removed from DOM",this._embedContainer.id),this.remove(),!0):(this.warn("video element removed from DOM",this._embedContainer.id),this.remove(),!0))},n.prototype._doFoam=function(){var t,e,n,i,o,r,a,u,c,h,d;if(null==this._parentBoxSizing&&(this._parentBoxSizing=s.elem.style(this._embedContainer.parentNode,"box-sizing")),this.popover?(d=s.elem.width(window),h=s.elem.height(window),c=d/h,u=Math.min(d,h),e=500<u?160:.2>Math.abs(c-this.aspect())?.2*u:.1*u,a=c>this.aspect()?l((h-e)*this.aspect()):d-e):"border-box"===this._parentBoxSizing||s.detect.browser.ltie8||s.detect.browser.msie&&8===s.detect.browser.version?(!this._foamDummyElem&&(this._foamDummyElem=s.elem.fromObject({class:"wistia_video_foam_dummy","data-source-container-id":this._embedContainer.id,style:{border:0,display:"block",height:0,margin:0,padding:0,position:"static",visibility:"hidden",width:"auto"}}),s.elem.before(this._embedContainer,this._foamDummyElem)),a=s.elem.width(this._foamDummyElem)):a=s.elem.width(this._embedContainer.parentNode),!(isNaN(a)||this._lastParentWidth===a&&this._didFoam))return this._didFoam=!0,r=a,o=r-this.extraWidth(),i=this.heightForWidth(o),n=i+this.extraHeight(),t=this.videoFoam(),t.maxHeight&&n>t.maxHeight&&(n=t.maxHeight,i=n-this.extraHeight(),o=this.widthForHeight(i),r=o+this.extraWidth()),t.maxWidth&&r>t.maxWidth&&(r=t.maxWidth,o=r-this.extraWidth(),i=this.heightForWidth(o),n=i+this.extraHeight()),t.minHeight&&n<t.minHeight&&(n=t.minHeight,i=n-this.extraHeight(),o=this.widthForHeight(i),r=o+this.extraWidth()),t.minWidth&&r<t.minWidth&&(r=t.minWidth,o=r-this.extraWidth(),i=this.heightForWidth(o),n=i+this.extraHeight()),this.info("videoFoam set width",r),this.width(r,{constrain:!0}),this._lastParentWidth=a},n.prototype._allowFoam=function(){var t;return this._hasImpl()&&this.grid&&(this.up()||this._ignoreUp)&&this.looksUp()&&this._attrs.rawEmbed&&(this._attrs.videoFoam||(null==(t=this.popover)?void 0:t.isResponsive()))},n.prototype._allowContainerMatch=function(){return(this.up()||this._ignoreUp)&&!this._opts.dontMonitorSize&&!this.inFullscreen()},n.prototype._doContainerMatch=function(){var t,e;if(e=this.containerWidth(),t=this.containerHeight(),this._lastWidth!==e&&(this.notice("container width changed to "+e+", matching"),this.width(e,{dontChangeContainer:!0}),this.info("_doContainerMatch set width",e),this.trigger("widthchange",e,this._lastWidth),this._lastWidth=e),this._lastHeight!==t)return this.notice("container height changed to "+t+", matching"),this.height(t,{dontChangeContainer:!0}),this.trigger("heightchange",t,this._lastHeight),this._lastHeight=t},n.prototype.monitor=function(){return this.info("monitor"),this._lastWidth=this._attrs.startingWidth,this._lastHeight=this._attrs.startingHeight,this._lastParentWidth=this.width(),this._didFoam=!1,this._hasImpl(function(t){return function(){return s.eventLoop.add(t.uuid+".monitor",500,t._doMonitor)}}(this))},n.prototype._doMonitor=function(){if(!this._removeHandleIfGoneFromDOM())return this._checkDownState(),this._doSizing()},n.prototype._doSizing=function(){return this.popover?this.popover.fixedSizeTooBigForWindow()?this._doFoam():this._opts.popoverSize?(this._lastWidth=this.width(),this._lastHeight=this.height(),this.width(this._popoverSize().width),this.height(this._popoverSize().height)):this._doFoam():this._allowFoam()?this._doFoam():this._allowContainerMatch()?this._doContainerMatch():void 0},n.prototype.looksDown=function(){return!this._embedContainer||!s.elem.inDom(this._embedContainer)||s.elem.isHidden(this._embedContainer)},n.prototype.looksUp=function(){return!this.looksDown()},n.prototype._doResize=function(){return"function"==typeof this._throttleTriggerViewport&&this._throttleTriggerViewport(),this._debounceDoMonitor||this.embedded(function(t){return function(){return s.util.requestAnimationFrame(function(){return t._doMonitor(),t._debounceDoMonitor=!1})}}(this)),this._debounceDoMonitor=!0},n.prototype._definePluginMethod=function(){return this.plugin?void 0:this.plugin=function(t){return function(e,n){var i;return(i=t._pluginStopGos[e])||(i=t._pluginStopGos[e]=new s.StopGo)(!!t.plugin[e],t.plugin[e]),n?i(function(){return n(t.plugin[e])}):i}}(this)},n.prototype.videoFoam=function(t){return null==t?this._attrs.videoFoam||!1:(this.info("videoFoam",t),this._attrs.videoFoam=t,this.monitor(),t)},n.prototype._formattedDurationToSeconds=function(t){return s.TimeHelper.isValidHumanDuration(t)?s.TimeHelper.humanDurationToSeconds(t):s.TimeHelper.isValidIso8601(t)?s.TimeHelper.iso8601ToSeconds(t):t},n.prototype._transformAndUpdateMediaData=function(){var t;return this._mediaData=this._transformMediaData(this._originalMediaData),null==(t=this._impl)?void 0:t._mediaData=this._mediaData},n.prototype._mediaDataTransforms=function(){var t;return t=[],s.remote._isEmbedSslMedia(this._originalMediaData)||this._useEmbedSslHost&&t.push(function(t){var e,n,i,o,r;for(o=t.assets,n=0,i=o.length;n<i;n++)e=o[n],e.url&&(r=s.url.parse(e.url),r.host="embed-ssl.wistia.com",r.protocol="https:",e.url=r.absolute());return t}),t},n.prototype._transformMediaData=function(t,e){var n,i,o,r;for(null==e&&(e=this._mediaDataTransforms()),o=s.obj.clone(t),n=0,i=e.length;n<i;n++)r=e[n],o=r(o);return o},n.prototype.specialBind=function(){var t,e,n,i,r,s;return e=arguments[0],t=2<=arguments.length?o.call(arguments,1):[],"crosstime"===e?(i=t[0],n=t[1],this.onCrossTime(i,n),function(t){return function(){return t.unbindOnCrossTime(i,n)}}(this)):"betweentimes"===e&&(r=t[0],s=t[1],n=t[2],this.betweenTimes(r,s,n),function(t){return function(){return t.unbindBetweenTimes(r,s,n)}}(this))},n.prototype.specialUnbind=function(){var t,e,n,i,r,s;return e=arguments[0],t=2<=arguments.length?o.call(arguments,1):[],"crosstime"===e?(i=t[0],n=t[1],this.unbindOnCrossTime(i,n),!0):"betweentimes"===e&&(r=t[0],s=t[1],n=t[2],this.unbindBetweenTimes(r,s,n),!0)},n.prototype.onCrossTime=function(t,e){var n,i,o,r,a,l,u;if(!/^(\d+\.)?\d+$/.test(t))throw"onCrossTime: Expected first argument to be a number";if("function"!=typeof e)throw"onCrossTime: Expected second argument to be a function";return null==this._onCrossTimeBindings&&(this._onCrossTimeBindings={}),null==(i=this._onCrossTimeBindings)[t]&&(i[t]=[]),u=this.uuid+"."+s.uniqId("after_time_"),n=this.time()>t,o=function(i){return function(){var o;return i.time()<t?r():n||(n=!0,(o=e.call(i))!==i.unbind)?void 0:i.unbindOnCrossTime(t,e)}}(this),r=function(e){return function(){return e.time()>=t?(s.clearTimeouts(u),o()):n?void 0:s.timeout(u,o,1e3*(t-e.time()))}}(this),a=function(e){return function(){if(e.time()<t){if(n=!1,2>t-e.time())return r()}else if(!n)return o()}}(this),l=function(){return function(){return s.clearTimeouts(u)}}(this),this.bind("play",a),this.bind("timechange",a),this.bind("pause",l),this.bind("end",l),this.bind("waiting",l),"playing"!==this.state()||n||a(),this._onCrossTimeBindings[t].push({fn:e,setupTimeoutFromNowIfClose:a,suspendTimeoutIndefinitely:l}),this},n.prototype.unbindOnCrossTime=function(t,e){var n,i,o,r,s,a;if(!this._onCrossTimeBindings||!this._onCrossTimeBindings[t])return this;for(n=null,o=0,a=this._onCrossTimeBindings[t],r=0,s=a.length;r<s;r++){if(i=a[r],i.fn===e){n=i;break}o+=1}return n?(this.unbind("play",n.setupTimeoutFromNowIfClose),this.unbind("timechange",n.setupTimeoutFromNowIfClose),this.unbind("pause",n.suspendTimeoutIndefinitely),this.unbind("end",n.suspendTimeoutIndefinitely),this.unbind("waiting",n.suspendTimeoutIndefinitely),this._onCrossTimeBindings[t].splice(o,1),0===this._onCrossTimeBindings[t].length&&delete this._onCrossTimeBindings[t],this):this},n.prototype.betweenTimes=function(t,e,n){var i,o,r,s;if(!/^(\d+\.)?\d+$/.test(t)||!/^(\d+\.)?\d+$/.test(e))throw"betweenTimes: Expected first two arguments to be numbers";if("function"!=typeof n)throw"betweenTimes: Expected second argument to be a function";return r=t+"-"+e,null==this._betweenTimeBindings&&(this._betweenTimeBindings={}),null==(i=this._betweenTimeBindings)[r]&&(i[r]=[]),s=!1,o=function(i){return function(){var o,r;if(r=i.time(),t<=r&&r<e&&!s?(s=!0,o=n.call(i,s)):!(t<=r&&r<e)&&s&&(s=!1,o=n.call(i,s)),o===i.unbind)return i.unbindBetweenTimes(t,e,n)}}(this),this.onCrossTime(t,o),this.onCrossTime(e,o),this.bind("timechange",o),o(),this._betweenTimeBindings[r].push({fn:n,onTimechange:o}),this},n.prototype.unbindBetweenTimes=function(t,e,n){var i,o,r,s,a,l,u;if(u=t+"-"+e,!this._betweenTimeBindings[u])return this;for(i=null,r=0,l=this._betweenTimeBindings[u],s=0,a=l.length;s<a;s++){if(o=l[s],o.fn===n){i=o;break}r+=1}return i?(this.unbindOnCrossTime(t,i.onTimechange),this.unbindOnCrossTime(e,i.onTimechange),this.unbind("timechange",i.onTimechange),this._betweenTimeBindings[u].splice(r,1),0===this._betweenTimeBindings[u].length&&delete this._betweenTimeBindings[u],this):this},n.prototype.aspect=function(){return this._implGet("aspect",0)},n.prototype.asset=function(){return this._implGet.apply(this,["asset",null].concat(o.call(arguments)))},n.prototype.assets=function(){return this._implGet.apply(this,["assets",null].concat(o.call(arguments)))},n.prototype.bigPlayButtonEnabled=function(){return this._implSetOrGet.apply(this,["bigPlayButtonEnabled",!1].concat(o.call(arguments)))},n.prototype.bigPlayButtonTimeEnabled=function(){return this._implSetOrGet.apply(this,["bigPlayButtonTimeEnabled",!1].concat(o.call(arguments)))},n.prototype.cancelOverlay=function(){return this._implPromise.apply(this,["cancelOverlay"].concat(o.call(arguments)))},n.prototype.cancelFullscreen=function(){return this._implExec("cancelFullscreen")},n.prototype.captureCurrentFrame=function(){return this._implGet.apply(this,["captureCurrentFrame",null].concat(o.call(arguments)))},n.prototype.controlScaling=function(){return this._implSetOrGet.apply(this,["controlScaling","auto"].concat(o.call(arguments)))},n.prototype.createControl=function(){return this._implGet.apply(this,["createControl",null].concat(o.call(arguments)))},n.prototype.defineOverlay=function(){return this._implExec.apply(this,["defineOverlay"].concat(o.call(arguments)))},n.prototype.destroyControl=function(){return this._implExec.apply(this,["destroyControl"].concat(o.call(arguments)))},n.prototype.duration=function(){return this._implGet("duration",null)},n.prototype.embedded=function(){return this._implSetOrGet.apply(this,["embedded",!1].concat(o.call(arguments)))},n.prototype.embedOptions=function(){return this._hasImpl()?this._implGet.apply(this,["embedOptions",{}].concat(o.call(arguments))):this._embedOptions?this._embedOptions:this._embedOptions=this._gatherOptions()},n.prototype.enterInputContext=function(){return this._implExec.apply(this,["enterInputContext"].concat(o.call(arguments)))},n.prototype.eventKey=function(){return this._tracker.eventKey()||null},n.prototype.exitInputContext=function(){return this._implExec.apply(this,["exitInputContext"].concat(o.call(arguments)))},n.prototype.extraHeight=function(){return this._implGet("extraHeight",0)},n.prototype.extraWidth=function(){return this._implGet("extraWidth",0)},n.prototype.fit=function(){return this._implExec("fit")},n.prototype.fullscreenButtonEnabled=function(){return this._implSetOrGet.apply(this,["fullscreenButtonEnabled",!1].concat(o.call(arguments)))},n.prototype.getBuffered=function(){return this._implGet("getBuffered",[])},n.prototype.getFocusedChapter=function(){return this._implGet("getFocusedChapter",null)},n.prototype.getInputContext=function(){return this._implGet("getInputContext",[])},n.prototype.getOverlays=function(){return this._implGet("getOverlays",{})},n.prototype.getRegion=function(){return this._implGet.apply(this,["getRegion",null].concat(o.call(arguments)))},n.prototype.getVideoElement=function(){return this._implGet("getVideoElement",null)},n.prototype.hasData=function(){return this._implSetOrGet.apply(this,["hasData",!1].concat(o.call(arguments)))},n.prototype.height=function(){return this._implSetOrGet.apply(this,["height",null].concat(o.call(arguments)))},n.prototype.heightForWidth=function(){return this._implGet.apply(this,["heightForWidth",null].concat(o.call(arguments)))},n.prototype.hideControls=function(){return this._implExec.apply(this,["hideControls",null].concat(o.call(arguments)))},n.prototype.humanDuration=function(){return s.TimeHelper.secondsToHumanDuration(this.duration())},
n.prototype.ieSizeHack=function(){return this._implExec("ieSizeHack")},n.prototype.inFullscreen=function(){return this._implGet("inFullscreen",!1)},n.prototype.inSilentPlaybackMode=function(){return this._implGet("inSilentPlaybackMode",!1)},n.prototype.isMuted=function(){return this._implGet("isMuted")},n.prototype.lastPauseInfo=function(){return this._implGet("lastPauseInfo",{})},n.prototype.lastPlayInfo=function(){return this._implGet("lastPlayInfo",{})},n.prototype.layout=function(){return this._implSetOrGet.apply(this,["layout","primary"].concat(o.call(arguments)))},n.prototype.look=function(){return this._implSetOrGet.apply(this,["look",{}].concat(o.call(arguments)))},n.prototype.mp4Asset=function(){return this._implGet.apply(this,["mp4Asset",null].concat(o.call(arguments)))},n.prototype.mute=function(){return this._implExec("mute")},n.prototype.playerLanguage=function(){return this._implSetOrGet.apply(this,["playerLanguage","en-US"].concat(o.call(arguments)))},n.prototype.name=function(){return this._implGet("name","")},n.prototype.originalAsset=function(){return this._implGet.apply(this,["originalAsset",null].concat(o.call(arguments)))},n.prototype.pause=function(){return this._implExec("pause")},n.prototype.percentWatched=function(){return this._implGet("percentWatched",0)},n.prototype.playbarControlEnabled=function(){return this._implSetOrGet.apply(this,["playbarControlEnabled",!1].concat(o.call(arguments)))},n.prototype.play=function(){return this._implExec("play")},n.prototype.playbackRate=function(){return this._implSetOrGet.apply(this,["playbackRate",1].concat(o.call(arguments)))},n.prototype.playbackRateControlEnabled=function(){return this._implSetOrGet.apply(this,["playbackRateControlEnabled",!1].concat(o.call(arguments)))},n.prototype.playerColor=function(){return this._implSetOrGet.apply(this,["playerColor","636155"].concat(o.call(arguments)))},n.prototype.playerBackgroundColor=function(){return this._implSetOrGet.apply(this,["playerBackgroundColor","000000"].concat(o.call(arguments)))},n.prototype.requestFullscreen=function(){return this._implExec("requestFullscreen")},n.prototype.requestOverlay=function(){return this._implPromise.apply(this,["requestOverlay"].concat(o.call(arguments)))},n.prototype.qualityControlEnabled=function(){return this._implSetOrGet.apply(this,["qualityControlEnabled",!1].concat(o.call(arguments)))},n.prototype.ready=function(){return this._implSetOrGet.apply(this,["ready",!1].concat(o.call(arguments)))},n.prototype.releaseChromeless=function(){return this._implExec.apply(this,["releaseChromeless"].concat(o.call(arguments)))},n.prototype.releaseControls=function(){return this._implExec.apply(this,["releaseControls"].concat(o.call(arguments)))},n.prototype.requestChromeless=function(){return this._implExec.apply(this,["requestChromeless"].concat(o.call(arguments)))},n.prototype.requestControls=function(){return this._implExec.apply(this,["requestControls"].concat(o.call(arguments)))},n.prototype.secondsWatched=function(){return this._implGet("secondsWatched",0)},n.prototype.secondsWatchedVector=function(){return this._implGet("secondsWatchedVector",[])},n.prototype.selectableQualities=function(){return this._implGet("selectableQualities",[])},n.prototype.selectedQuality=function(){return this._implGet("selectedQuality",[])},n.prototype.setFocusedChapter=function(){return this._implSetOrGet.apply(this,["setFocusedChapter",null].concat(o.call(arguments)))},n.prototype.settingsControlEnabled=function(){return this._implSetOrGet.apply(this,["settingsControlEnabled",!1].concat(o.call(arguments)))},n.prototype.showControls=function(){return this._implExec.apply(this,["showControls",null].concat(o.call(arguments)))},n.prototype.smallPlayButtonEnabled=function(){return this._implSetOrGet.apply(this,["smallPlayButtonEnabled",!1].concat(o.call(arguments)))},n.prototype.state=function(){return this._implGet("state","beforeplay")},n.prototype.stillUrl=function(){return this._implGet.apply(this,["stillUrl",null].concat(o.call(arguments)))},n.prototype.suppressPlay=function(){return this._implSetOrGet.apply(this,["suppressPlay",this].concat(o.call(arguments)))},n.prototype.thumbnailAssets=function(){return this._implGet("thumbnailAssets",[])},n.prototype.time=function(){var t,e;return e=arguments[0],t=2<=arguments.length?o.call(arguments,1):[],null==e?this._implSetOrGet("time",0):this._implSetOrGet.apply(this,["time",0,this._formattedDurationToSeconds(e)].concat(o.call(t)))},n.prototype.timeInHumanDuration=function(){return t.TimeHelper.secondsToHumanDuration(this._implGet.apply(this,["time",0].concat(o.call(arguments))))},n.prototype.timeInIso8601Duration=function(){return t.TimeHelper.secondsToIso8601(this._implGet.apply(this,["time",0].concat(o.call(arguments))))},n.prototype.trim=function(){return this._implSetOrGet.apply(this,["trim",{start:0,end:-1}].concat(o.call(arguments)))},n.prototype.unmute=function(){return this._implExec("unmute")},n.prototype.videoHeight=function(){return this._implSetOrGet.apply(this,["videoHeight",null].concat(o.call(arguments)))},n.prototype.videoQuality=function(){return this._implSetOrGet.apply(this,["videoQuality","auto"].concat(o.call(arguments)))},n.prototype.videoWidth=function(){return this._implSetOrGet.apply(this,["videoWidth",null].concat(o.call(arguments)))},n.prototype.visitorKey=function(){return this._tracker.visitorKey()||null},n.prototype.volume=function(){return this._implSetOrGet.apply(this,["volume",0].concat(o.call(arguments)))},n.prototype.volumeControlEnabled=function(){return this._implSetOrGet.apply(this,["volumeControlEnabled",!1].concat(o.call(arguments)))},n.prototype.whenVideoElementInDom=function(){return new r(function(t){return function(e){return t._hasImpl(function(){return e(t._implGet.apply(t,["whenVideoElementInDom",null].concat(o.call(arguments))))})}}(this))},n.prototype.width=function(){return this._implSetOrGet.apply(this,["width",null].concat(o.call(arguments)))},n.prototype.widthForHeight=function(){return this._implGet.apply(this,["widthForHeight",null].concat(o.call(arguments)))},n.prototype.chaptersEnabled=function(){return this._implSetOrGet.apply(this,["chaptersEnabled",null].concat(o.call(arguments)))},n.prototype.chaptersVisibleOnLoad=function(){return this._implSetOrGet.apply(this,["chaptersVisibleOnLoad",null].concat(o.call(arguments)))},n.prototype.addChapter=function(){return this._implExec.apply(this,["addChapter"].concat(o.call(arguments)))},n.prototype.getChapter=function(){return this._implGet.apply(this,["getChapter",null].concat(o.call(arguments)))},n.prototype.removeChapter=function(){return this._implExec.apply(this,["removeChapter"].concat(o.call(arguments)))},n.prototype.chapters=function(){return this._implSetOrGet.apply(this,["chapters",[]].concat(o.call(arguments)))},n.prototype.customerLogo=function(){return this._implExec.apply(this,["customerLogo"].concat(o.call(arguments)))},n.prototype.setControlEnabled=function(t,e){return this._implSetOrGet("setControlEnabled",null,t,e)},n.prototype.isControlDisabled=function(t){return this._implGet("isControlDisabled",!1,t)},n.prototype.isControlEnabled=function(t){return this._implGet("isControlEnabled",!1,t)},n.prototype.whenControlMounted=function(t){return this._implPromise("whenControlMounted",t)},n.prototype.getEmail=function(){return this.email()},n.prototype.getEventKey=function(){return this.eventKey()},n.prototype.getVisitorKey=function(){return this.visitorKey()},n.prototype.setEmail=function(t){return this.email(t)},n.prototype.setPlayerColor=function(){return this._implExec.apply(this,["playerColor"].concat(o.call(arguments)))},n.prototype.removeReadyFn=function(){var t;return t=1<=arguments.length?o.call(arguments,0):[],this._hasImpl(function(e){return function(){var n;return(n=e._impl.ready).remove.apply(n,t)}}(this))},n.prototype.email=function(t){var e,n;return null==t?this._attrs.email||null:(this.info("email",t),e=this._attrs.email,this._attrs.email=t,s.localStorage([this._attrs.pageUrl,"trackEmail"],t),(null==(n=this._opts)?void 0:n.noDeprecatedProperties)||(this.params.trackEmail=t),this._implExec("email",t),t!==e&&this.trigger("emailchange",t),this)},n.prototype.foreignData=function(t){var e;if(void 0===t)return this._attrs.foreignData||this._foreignData||null;if(null===t)return this._attrs.foreignData=null,this.trigger("foreigndatachange",t);if(this.info("foreignData",t),!s.obj.isObject(t))throw new Error("foreignData can only be an Object");return t=s.obj.clone(t),this._attrs.foreignData=t,null!=(e=this.tracker)&&e.transmit({force:!0}),this.trigger("foreigndatachange",t)},n.prototype._shouldAsyncChain=function(){var t;return this._notReplacing()&&(this.popover||!this._isInViewportNow()||3<=function(){var e,n,i,o;for(i=s.api.all(),o=[],e=0,n=i.length;e<n;e++)t=i[e],t.embedded()&&o.push(t);return o}().length)},n.prototype._maybeAsyncChain=function(t,e){return this._shouldAsyncChain()?s.asyncChain(t,e):s.chain(e)},n.classFor=function(t){var e,n;return t instanceof s.Player?t=t.embedType:t instanceof s.PublicApi&&(t=null==(e=t._impl)?void 0:e.embedType),(n=function(){return"vulcan"===t?s.VulcanPlayer:"vulcan-v2"===t?s.VulcanV2Player:"html5"===t?s.Html5Player:"flash"===t?s.FlashPlayer:"external"===t?s.ExternalPlayer:"notplayable"===t?s.NotPlayablePlayer:"passwordprotected"===t?s.PasswordProtectedPlayer:s.Player}())||(s.Metrics.count("player/"+t+"-class-not-defined",1,{ua:navigator.userAgent,detect:s.detect}),s.error("PublicApi.classFor: embedType is "+t+" but its class is not defined. Using 'vulcan-v2' instead."),s.VulcanV2Player)},n}(),s.mixin(s.PublicApi.prototype,s.bindable),l=s.PublicApi.prototype.trigger,s.PublicApi.prototype._triggerNoImpl=function(){var t,e,n;return e=arguments[0],t=2<=arguments.length?o.call(arguments,1):[],l.call.apply(l,[this,e].concat(o.call(t))),null==(n=window.wistiaEmbeds)?void 0:n.trigger.apply(n,[e,this].concat(o.call(t)))},s.PublicApi.prototype.trigger=function(){var t,e;return t=1<=arguments.length?o.call(arguments,0):[],this._impl?(e=this._impl).trigger.apply(e,t):this._triggerNoImpl.apply(this,t)},s.mixin(s.PublicApi.prototype,s.logHelpers),s.PublicApi.prototype._logPrefix=function(){var t;return[this.constructor.name,this.hashedId()||"no hashedId",null==(t=this.container)?void 0:t.id,this.uuid]}}(Wistia)},function(){!function(t){if(!t.generate)t.generate={},t.generate.html=function(e){var n,i,o,r,s,a,l,u,c,h,d,p,f,m;if(/string|number|boolean/.test(typeof e))return e.toString();if(e instanceof Array){for(d="",s=0,u=e.length;s<u;s++)r=e[s],d+=t.generate.html(r);return d}if("object"!=typeof e)return e.toString();for(l in i=[],e)f=e[l],"tagName"===l?p=f:"childNodes"===l?o=f:i.push({key:l,val:f});for(p||(p="div"),d="<"+p,a=0,c=i.length;a<c;a++)n=i[a],"style"===n.key&&t.obj.isObject(n.val)&&(n.val=function(){var t,e;for(h in t=n.val,e=[],t)m=t[h],e.push(h.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()+":"+m);return e}().join(";")+";"),d+=" "+n.key+'="'+n.val+'"';return/^(br|hr|img|link|meta|input)$/i.test(p)?d+=" />":(d+=">",o&&("string"==typeof o?d+=o:"object"==typeof o&&(d+=t.generate.html(o))),d+="</"+p+">"),d},t.generate.stillWidth=function(t){var e,n,i,o,r,s,a,l;for(s=[640,960,1280,1920,3840],3840>t.masterStillWidth&&s.push(t.masterStillWidth),e=[],n=0,o=s.length;n<o;n++)(l=s[n])<=t.masterStillWidth&&e.push(l);for(a=e.sort(function(t,e){return t-e}),i=0,r=a.length;i<r;i++)if(l=a[i],t.videoWidth<=l)return l;return Math.max.apply(Math,e)},t.generate.relativeBlockCss=function(t,e){return null==t&&(t="100%"),null==e&&(e="100%"),"display:inline-block;*display:inline;height:"+e+";margin:0;padding:0;position:relative;vertical-align:top;width:"+t+";zoom:1;"},t.generate.video=function(e,n,i){return i=t.obj.merge({},n.params,i,{uuid:n.uuid,videoWidth:n.videoWidth(),videoHeight:n.videoHeight()}),"flash"===e?t.generate.flashEmbedCode(n._mediaData,i):"html5"===e?t.generate.html5EmbedElem(n._mediaData,i):"romulus"===e?t.generate.romulusEmbedElem(n._mediaData,i):"external"===e?t.generate.externalEmbedCode(n._mediaData,i):"flashUrl"===e?t.generate.flashUrl(n._mediaData,i):void 0}}(Wistia)},function(t,e,n){var i=function(t,e){return function(){return t.apply(e,arguments)}},o=[].slice;!function(t){var e,r,s,a,l,u,c,h,d,p,f;if(l=t,!l.Player){for(s=n(2),r=n(25),e=n(18),a=n(14),l.Player=function(){function u(t){var e,n,o;for(e in this.publicApi=t,this.finishWaitingLoop=i(this.finishWaitingLoop,this),this.masterM3u8Asset=i(this.masterM3u8Asset,this),this._percentWatchedThreshold=i(this._percentWatchedThreshold,this),this.uuid=l.seqId(),this.info("constructor"),this.transferFacadeProperties(),this._impl=this,o=this.publicApi)(n=o[e])instanceof l.StopGo&&!this.hasOwnProperty(e)&&(this[e]=n);this.plugin=this.publicApi.plugin,this.ready=new l.StopGo,this.hasData=new l.StopGo,this.embedded=new l.StopGo,this.commandQueueOpen=new l.StopGo,this.hasData(!0),this.commandQueueOpen(!0),this.playing=new l.StopGo,this.notFullscreen=new l.StopGo,this.resetStateVariables(),this.setupPercentTracking(),this._recordFirstEmbedIfEligible()}var c=Math.max,h=Math.round,d=Math.floor;return u.FAILED=-1,u.QUEUED=0,u.PROCESSING=1,u.READY=2,u.prototype.init=function(){return this.setupPipedreamTracking(),this},u.prototype.transferFacadeProperties=function(){var t,e,n,i,o;for(i="_attrs\n_embedContainer\n_givenOptions\n_hashedId\n_hasImpl\n_mediaData\n_opts\n_originalMediaData\n_tracker\nchrome\ncontainer\ncontrols\ndata\ndown\nfullscreenContainer\noptions\nparams\nplugin\nplugins\nup".split(/[\n\s]+/),o=[],t=0,e=i.length;t<e;t++)n=i[t],o.push(this[n]=this.publicApi[n]);return o},u.prototype.elem=function(){return null},u.prototype.embed=function(){throw new Error("Define in subclass!")},u.prototype.checkForReady=function(){throw new Error("Define in subclass!")},u.prototype.setupGrid=function(t){return this.grid||(this.grid=l.createGrid(this,t),l.elem.append(this.chrome,this.grid.root)),this.grid},u.prototype.implContainer=function(){return this._opts.subContainer?this._embedContainer:this.grid.center},u.prototype.placeEmbed=function(t){var e;return e=this.implContainer(),this.info("placeEmbed",e,t),this.wrapperElem=l.elem.fromObject({id:l.seqId("wistia_video_wrapper_"),style:l.generate.relativeBlockCss(),class:"wistia_video_wrapper"}),l.elem.style(this.wrapperElem,{overflow:"hidden"}),l.elem.append(e,this.wrapperElem),"string"==typeof t?this.wrapperElem.innerHTML+=t:l.elem.append(this.wrapperElem,t),this.embedded(function(t){return function(){return t.correctForIntegers()}}(this)),this.ieSizeHack()},u.prototype.stopStreaming=function(){},u.prototype.wipeOutstandingAsyncFunctions=function(){var t;if(this.info("wipeOutstandingAsyncFunctions"),null!=(t=l.eventLoop)&&t.remove(this.uuid),l.clearTimeouts(this.uuid),this._remoteMediaKey)return l.clearTimeouts(this._remoteMediaKey)},u.prototype.resetStateVariables=function(){return this.info("resetStateVariables"),this._lastTimePosition=-1,this._lastState="beforeplay",this._streamSet=!1,this._issuedPlay=!1,this._issuedPause=!1,this._beforePlay=!0,this._hasPlayed=!1,this._waiting=0,this._ended=!1,this.playing(!1)},u.prototype.rebuild=function(t){return null==t&&(t={}),this.info("rebuild"),this.embedded(function(t){return function(){return t.ready(!1),t._oldVideoElem=t.elem(),t.stopStreaming(),l.elem.remove(t.wrapperElem),t.wipeOutstandingAsyncFunctions(),t.embed()}}(this)),this},u.prototype.cdnProtocolAndHost=function(){var t,e,n;return e=l.url.parse((this.mp4Asset()||this.hlsAsset()||this.flashAsset()).url),t=e.host||"embed-ssl.wistia.com",(n=e.protocol||l.proto())+"//"+t},u.prototype.cancelFullscreen=function(){return this.info("cancelFullscreen"),this.rebuild()},u.prototype.requestFullscreen=function(){},u.prototype.fit=function(){return this.info("fit"),l.detect.browser.old&&(this._embedContainer.style.width=this._opts.videoWidth+"px",this._embedContainer.style.height=this._opts.videoHeight+"px"),this._opts.dontFit||(this.grid.root.style.height=l.elem.height(this.chrome)+"px",this.grid.root.style.width=l.elem.width(this.chrome)+"px"),l.grid.fitVertical(this),l.grid.fitHorizontal(this),this.correctForIntegers(),this.ieSizeHack()},u.prototype.setupPercentTracking=function(){var t,e,n;if(!this._trackPercent){if("playing"===this.state())for(n=t=0,e=d(this.time());0<=e?t<e:t>e;n=0<=e?++t:--t)this._logSecondWatched(n);return null==this._trackPercent&&(this._trackPercent=function(t){return function(e){var n;if(n=t.percentWatched(),t._logSecondWatched(e),t.percentWatched()!==n)return t.trigger("percentwatchedchanged",t.percentWatched(),n),t._percentWatchedThreshold(t.percentWatched())}}(this)),this.rebind("secondchange",this._trackPercent)}},u.prototype._percentWatchedThreshold=function(t){var e,n,i,o,r,s;for(null==this._thresholds&&(this._thresholds=[.25,.5,.75,1]),s=[],i=h(100*t)/100,o=this._thresholds,e=0,n=o.length;e<n;e++)r=o[e],i>=r?this.trigger("percentWatchedThreshold",r):s.push(r);return this._thresholds=s},u.prototype._logSecondWatched=function(t){var e;if(null==this._secondsWatched&&(this._secondsWatched=function(){var t,n,i;for(i=[],e=t=0,n=d(this.duration());0<=n?t<n:t>n;e=0<=n?++t:--t)i.push(0);return i}.call(this)),null==this._totalWatched&&(this._totalWatched=0),null==this._totalRewatched&&(this._totalRewatched=0),!(t>=this._secondsWatched.length))return this._secondsWatched[t]+=1,1===this._secondsWatched[t]?this._totalWatched+=1:this._totalRewatched+=1},u.prototype.percentWatched=function(){return this.secondsWatched()/d(this.duration())},u.prototype.secondsWatched=function(){return this._totalWatched||0},u.prototype.secondsWatchedVector=function(){return this._secondsWatched},u.prototype._isOnWistia=function(){return this._opts._inIframe?!!document.referrer.match(/wistia\.(dev|st|com)/):!!window.location.href.match(/wistia\.(dev|st|com)/)},u.prototype._isLoggedIn=function(){var t;return null==(t=document.getElementsByTagName("body")[0])?void 0:t.classList.contains("logged_in")},u.prototype._isShared=function(){return this._isOnWistia()&&!this._isLoggedIn()},u.prototype._isExternallyEmbedded=function(){return!this._isOnWistia()},u.prototype._recordFirstEmbedIfEligible=function(){var e,i,o;if(this._mediaData.firstEmbedForAccount||this._mediaData.firstShareForAccount)return e=n(5).appHost,o=l.url.proto()+"//"+e()+"/account/activities",i={account_key:this._mediaData.accountKey,media_hashed_id:this._mediaData.hashedId},this._mediaData.firstEmbedForAccount&&this._isExternallyEmbedded()?(i.first_embed=this._isExternallyEmbedded(),t.remote.post(o,{data:JSON.stringify(i),dataType:"json"})):this._mediaData.firstShareForAccount&&this._isShared()?(i.first_share=this._isShared(),t.remote.post(o,{data:JSON.stringify(i),dataType:"json"})):void 0},u.prototype.setupPipedreamTracking=function(){if(!this._opts.flashShim)return this.whenVideoElementInDom().then(function(t){return function(){if(!t._opts.flashShim)return l.timeout(t.uuid+".track-initembed",function(){var e,n,i,o,s;for(l.Metrics.videoCount(t,"player/initembed"),s=l.Metrics.assetBuckets(t),i=0,o=s.length;i<o;i++)n=s[i],l.Metrics.videoCount(t,"player/initembed."+n);return e=r.usablePlayers(t.publicApi.judyCtx(),t.publicApi._mediaData),l.Metrics.videoCount(t,"player/available-players",1,{available_players:e})},100),t.bind("switched-asset-without-load",function(){return this._determineAssetCacheStatus(function(t){return function(){return l.Metrics.videoCount(t,"player/asset/"+t._cacheStatus)}}(this))})}}(this)),this.bind("play",function(t){return function(){var e,n,i,o;for(l.Metrics.videoCount(t,"player/play"),o=l.Metrics.assetBuckets(t),n=0,i=o.length;n<i;n++)e=o[n],l.Metrics.videoCount(t,"player/play."+e);return t.unbind}}(this)),l.Metrics.countEventOnce(this,"enter-fullscreen"),l.Metrics.countEventOnce(this,"end"),l.Metrics.countShowLoadingOnce(this),l.Metrics.countShowLoadingAll(this),l.Metrics.countShowLoadingLongTimeOnce(this),l.Metrics.countShowLoadingLongTimeAll(this),this.bind("secondchange",function(t){return function(){if(10<=t.secondsWatched())return l.Metrics.videoCount(t,"player/played-10-seconds"),t.unbind}}(this)),this.bind("secondchange",function(t){return function(){if(30<=t.secondsWatched())return l.Metrics.videoCount(t,"player/played-30-seconds"),t.unbind}}(this))},u.prototype.animate=function(t,e){var n;return null==t&&(t={}),null==e&&(e={}),this.info("animate",t,e),n=e.callback,e.callback=function(t){return function(){return l.elem.style(t.grid.root,{position:"relative"}),"function"==typeof n?n():void 0}}(this),l.elem.style(this.grid.root,{position:"absolute"}),l.elem.animate(this.grid.root,t,e),this},u.prototype.slide=function(){var t,e,n;return t=arguments[0],n=arguments[1],e=3<=arguments.length?o.call(arguments,2):[],this.animate.apply(this,[{transform:"translate("+t+"px,"+n+"px)"}].concat(o.call(e)))},u.prototype._shortAnimArgs=function(t){var e;return e="function"==typeof t[0]?{callback:t[0]}:l.obj.merge({},t[0],{callback:t[1]})},u.prototype.slideOutLeft=function(){var t;return t=this._shortAnimArgs(arguments),l.elem.style(this.grid.root,{transform:"translate(0px, 0px)"}),setTimeout(function(e){return function(){return e.slide(-e.videoWidth(),0,t)}}(this),1),this},u.prototype.slideInLeft=function(){var t;return t=this._shortAnimArgs(arguments),l.elem.style(this.grid.root,{transform:"translate("+this.videoWidth()+"px, 0px)"}),setTimeout(function(e){return function(){return e.slide(0,0,t)}}(this),1),this},u.prototype.slideOutRight=function(){var t;return t=this._shortAnimArgs(arguments),l.elem.style(this.grid.root,{transform:"translate(0px, 0px)"}),setTimeout(function(e){return function(){return e.slide(e.videoWidth(),0,t)}}(this),1),this},u.prototype.slideInRight=function(){var t;return t=this._shortAnimArgs(arguments),l.elem.style(this.grid.root,{transform:"translate("+-this.videoWidth()+"px, 0px)"}),setTimeout(function(e){return function(){return e.slide(0,0,t)}}(this),1),this},u.prototype.fade=function(){var t,e,n;return e=arguments[0],t=2<=arguments.length?o.call(arguments,1):[],null==e&&(e=0),(n=l.elem).animate.apply(n,[this.gridChildren(),{opacity:e}].concat(o.call(t)))},u.prototype.fadeIn=function(){var t,e;return e=this._shortAnimArgs(arguments),t=e.callback,e.callback=function(e){return function(){return l.elem.style(e.gridChildren(),{opacity:""}),"function"==typeof t?t():void 0}}(this),l.elem.style(this.gridChildren(),{opacity:0}),setTimeout(function(t){return function(){return t.fade(1,e)}}(this),1)},u.prototype.fadeOut=function(){var t;return t=this._shortAnimArgs(arguments),l.elem.style(this.gridChildren(),{opacity:1}),setTimeout(function(e){return function(){return e.fade(0,t)}}(this),1)},u.prototype.gridChildren=function(){var t,e,n,i,o,r,s,a;for(a in s=[],o=this.grid)for(i=o[a],r=i.childNodes,e=0,n=r.length;e<n;e++)t=r[e],l.isGridElem(this.grid,t)||s.push(t);return s},u.prototype.correctForIntegers=function(){var t,e,n,i,o,r,s,a,u=Math.ceil;if(!l.detect.iphone&&!l.detect.ipad)return null!=(n=this.elem())&&n.style&&/video/i.test(null==n?void 0:n.tagName)?(t=this.videoHeight(),e=this.videoWidth(),o=t*this.originalAspect(),i=2*d(e/this.originalAspect()/2),s=i-t,a=o-e,r=l.detect.firefox&&l.detect.browser.mozilla&&36<=l.detect.browser.version,l.detect.browser.webkit||r?void 0:0<s&&6>=s?(this.info("correctForIntegers heightDiff",s),n.style.height="calc(100% + "+u(s)+"px)",n.style.width="100%",n.style.left="",n.style.top=1<s?-u(s/2)+"px":""):0<a&&6>=a?(this.info("correctForIntegers widthDiff",a),n.style.width="calc(100% + "+u(a)+"px)",n.style.height="100%",n.style.top="",n.style.left=1<a?-u(a/2)+"px":""):(this.info("correctForIntegers perfect"),n.style.height="100%",n.style.width="100%",n.style.top="",n.style.left="")):void 0},u.prototype.remove=function(t){var e,n;return null==t&&(t={}),this.info("remove"),!1!==t.trigger&&this.trigger("beforeremove"),this.hasData(!1),this.ready(!1),this.embedded(!1),null!=(e=this.engine)&&e.destroy(),this.stopStreaming(),!1!==t.trigger&&this.trigger("down"),!1!==t.trigger&&this.trigger("afterremove"),this.wipeOutstandingAsyncFunctions(),this._bindings={},this.cleanupRefs(),(null==(n=this.grid)?void 0:n.root)&&(l.elem.unbindAllInside(this.grid.root),l.elem.remove(this.grid.root)),this.grid=null},u.prototype.isRemoved=function(){return null===this.grid},u.prototype.freezeLastFrame=function(){},u.prototype.cleanupRefs=function(){var t,e,n,i,o;for(t in"function"==typeof this.cleanup&&this.cleanup(),e=this,i=[],e)(o=e[t])!==this&&i.push(null==(n=this[t])?void 0:"function"==typeof n.cleanup?n.cleanup():void 0);return i},u.prototype._baseEventLoopDuration=300,u.prototype._eventLoopDuration=300,u.prototype.play=function(){return this.info("play"),this.ready(function(t){return function(){return t.play()}}(this)),this},u.prototype.canAutoPlay=function(){return!0},u.prototype.suppressPlay=function(t){return null==t?this._suppressPlay:(this.info("suppressPlay",t),this._suppressPlay=!!t)},u.prototype.pause=function(){return this.info("pause"),this.ready(function(t){return function(){return t.pause()}}(this)),this},u.prototype.time=function(t){return null==t?0:(this.info("time",t),this.ready(function(e){return function(){return e.time(t)}}(this)),this)},u.prototype.state=function(){return"beforeplay"},u.prototype.duration=function(){return this._mediaData.duration||null},u.prototype.mute=function(){return this._muted=!0,this.trigger("volumechange",this.volume())},u.prototype.unmute=function(){return this._muted=!1,this._isPlayingSilently=!1,this.trigger("volumechange",this.volume())},u.prototype.isMuted=function(){return!!this._opts.muted},u.prototype.volume=function(t){return null==t?0:(this.info("volume",t),this.ready(function(e){return function(){return e.volume(t)}}(this)))},u.prototype.playerLanguage=function(t){return null==t?l.getLanguage(this._attrs.playerLanguage)||l.getLanguage("en-US"):this.embedded(function(e){return function(){if(!l.getLanguage(t))throw new Error("Language "+t+" isn't defined.");return t===e._attrs.playerLanguage?void 0:(e._attrs.playerLanguage=t,e.trigger("playerlanguagechange",l.getLanguage(t)))}}(this))},u.prototype.name=function(){return this._mediaData.name||null},u.prototype.hashedId=function(){return this._hashedId},u.prototype.bigPlayButtonEnabled=function(){return this},u.prototype.smallPlayButtonEnabled=function(){return this},u.prototype.playbarControlEnabled=function(){return this},u.prototype.volumeControlEnabled=function(){return this},u.prototype.fullscreenButtonEnabled=function(){return this},u.prototype.setPlayerColor=function(t){return this.playerColor(t),this},u.prototype.playerColor=function(t){var e;return null==t?this._attrs.playerColor:(this.info("playerColor",t),e=this._attrs.playerColor,this._attrs.playerColor=l.Player._sanePlayerColor(t),e!==this._attrs.playerColor&&this.trigger("playercolorchange",this._attrs.playerColor,e),this)},u._sanePlayerColor=function(t){var e,n,i,o;if(t){if(t=(""+t).replace(/^#/g,""),6>t.length){for(i="",e=n=0,o=6-t.length;0<=o?n<o:n>o;e=0<=o?++n:--n)i+="0";t=""+i+t}return/^[\da-f]{6}$/i.test(t)||(t="636155"),t}return"636155"},u.prototype.playbackRate=function(t){return null==t?1:this},u.prototype.videoQuality=function(t){return null==t?"auto":this},u.prototype.width=function(t,e){var n,i,o,r,s;return null==e&&(e={}),null==t?(l.detect.browser.old&&null!=(o=this.elem())&&(o.style.position="absolute"),s=l.elem.width(this.grid.left)+l.elem.width(this.grid.center)+l.elem.width(this.grid.right),l.detect.browser.old&&null!=(r=this.elem())&&(r.style.position="static"),s):(this.info("width",t,e),t=parseInt(t,10),n=this.width(),this.grid.wrapper.style.width=this.chrome.style.width=t+"px",e.dontChangeContainer||(this._embedContainer.style.width=t+"px"),this.grid.center.style.width="100%","flash"===this.embedType&&null!=(i=this.elem())&&(i.style.width="100%"),this._opts.dontFit?(this.grid.main.style.width=t-l.elem.width(this.grid.left)-l.elem.width(this.grid.right)+"px",this.grid.main.style.marginLeft=l.elem.width(this.grid.left)+"px"):(l.grid.fitHorizontal(this),l.grid.fitVertical(this)),(t!==n||e.trigger)&&this.trigger("widthchange",t,n),e.constrain&&this.constrainToWidth({trigger:e.trigger}),this._width=t,this.correctForIntegers(),this.ieSizeHack(),this)},u.prototype.height=function(t,e){var n,i,o,r,s;return null==e&&(e={}),null==t?(l.detect.browser.old&&null!=(o=this.elem())&&(o.style.position="absolute"),s=l.elem.height(this.grid.center)+c(l.elem.height(this.grid.above),l.elem.height(this.grid.top))+c(l.elem.height(this.grid.below),l.elem.height(this.grid.bottom)),l.detect.browser.old&&null!=(r=this.elem())&&(r.style.position="static"),s):(this.info("height",t,e),t=parseInt(t,10),n=this.height(),this.grid.wrapper.style.height=this.chrome.style.height=t+"px",e.dontChangeContainer||(this._embedContainer.style.height=t+"px"),this.grid.center.style.height="100%","flash"===this.embedType&&null!=(i=this.elem())&&(i.style.height="100%"),this._opts.dontFit?(this.grid.main.style.height=t-l.elem.height(this.grid.above)-l.elem.height(this.grid.below)+"px",this.grid.main.style.marginTop=l.elem.height(this.grid.top)+"px"):(l.grid.fitHorizontal(this),l.grid.fitVertical(this)),(t!==n||e.trigger)&&this.trigger("heightchange",t,n),e.constrain&&this.constrainToHeight({trigger:e.trigger}),this.correctForIntegers(),this.ieSizeHack(),this)},u.prototype.videoWidth=function(t,e){var n,i,o,r,s;return null==e&&(e={}),null==t?(l.detect.browser.old&&null!=(o=this.elem())&&(o.style.position="absolute"),s=l.elem.width(this.grid.center),l.detect.browser.old&&null!=(r=this.elem())&&(r.style.position="static"),s):(this.info("videoWidth",t,e),t=parseInt(t,10),i=this.width(),this.grid.center.style.width="100%",this.grid.main.style.width=t+"px",n=l.elem.width(this.grid.left)+l.elem.width(this.grid.right),this.grid.wrapper.style.width=this.chrome.style.width=t+n+"px",e.dontChangeContainer||(this._embedContainer.style.width=t+n+"px"),l.grid.fitHorizontal(this),l.grid.fitVertical(this),(t!==i||e.trigger)&&this.trigger("widthchange",t,i),e.constrain&&this.constrainToWidth({trigger:e.trigger}),this.correctForIntegers(),this.ieSizeHack(),this)},u.prototype.videoHeight=function(t,e){var n,i,o,r,s,a,u;return null==e&&(e={}),null==t?(l.detect.browser.old&&this.elem&&null!=(r=this.elem())&&(r.style.position="absolute"),a=l.elem.height(this.grid.center),l.detect.browser.old&&this.elem&&null!=(s=this.elem())&&(s.style.position="static"),a):(this.info("videoHeight",t,e),t=parseInt(t,10),o=this.height(),this.grid.main.style.height=t+"px",this.grid.center.style.height="100%",this.grid.main.style.height=t+"px",l.detect.browser.ltie8&&l.grid.zeroEmptySections(this),u=c(l.elem.height(this.grid.above),l.elem.height(this.grid.top)),n=c(l.elem.height(this.grid.below),l.elem.height(this.grid.bottom)),i=u+n,this.grid.wrapper.style.height=this.chrome.style.height=t+i+"px",e.dontChangeContainer||(this._embedContainer.style.height=t+i+"px"),l.grid.fitHorizontal(this),l.grid.fitVertical(this),(t!==o||e.trigger)&&this.trigger("heightchange",t,o),e.constrain&&this.constrainToHeight({trigger:e.trigger}),this.correctForIntegers(),this.ieSizeHack(),this)},u.prototype.constrainToHeight=function(t){return this.videoWidth(this.widthForHeight(this.videoHeight()),t)},u.prototype.constrainToWidth=function(t){return this.videoHeight(this.heightForWidth(this.videoWidth()),t)},u.prototype.extraHeight=function(){var t,e;return e=c(l.elem.height(this.grid.above),l.elem.height(this.grid.top)),t=c(l.elem.height(this.grid.below),l.elem.height(this.grid.bottom)),e+t},u.prototype.extraWidth=function(){return l.elem.width(this.grid.left)+l.elem.width(this.grid.right)},u.prototype.heightForWidth=function(t){return h(t/this.aspect())},u.prototype.widthForHeight=function(t){return h(t*this.aspect())},u.prototype.aspect=function(){var t;return this._opts.aspect?this._opts.aspect:this._currentAsset?"variable"===this._currentAsset.width?this.mp4Aspect()||this.originalAspect():this._currentAsset.width/this._currentAsset.height:(t=this.asset({container:/mp4|flv/
}))?t.width/t.height:640/360},u.prototype.mp4Aspect=function(){var t;return(t=this.mp4Asset({width:640})||this.mp4Asset({width:960})||this.mp4Asset())?t.width/t.height:null},u.prototype.originalAspect=function(){return this.originalAsset()?this.originalAsset().width/this.originalAsset().height:this.bestAsset().width/this.bestAsset().height},u.prototype.ieSizeHack=function(){l.detect.browser.msie&&("function"==typeof this.elem?this.elem():void 0)&&(this.info("ieSizeHack"),this.elem().style.width=0==this.elem().offsetLeft%2?this.videoWidth()+1+"px":"100%")},u.prototype.inFullscreen=function(){return!1},u.prototype.savePlatformPreference=function(t){return this.info("savePlatformPreference",t),l.localStorage("platformPreference",t)},u.prototype.visitorKey=function(){return this._tracker.visitorKey()},u.prototype.eventKey=function(){return this._tracker.eventKey()},u.prototype.getVisitorKey=function(){return this.visitorKey()},u.prototype.getEventKey=function(){return this.eventKey()},u.prototype.disableTextTracks=function(){return this.info("disableTextTracks"),null==this._disableTextTracks&&(this._disableTextTracks=function(t){return function(){var e,n,i,o,r,s;if(null!=(i=t.elem())&&i.textTracks){for(o=t.elem().textTracks,r=[],e=0,n=o.length;e<n;e++)s=o[e],r.push(s.mode="disabled");return r}}}(this)),this.rebind("play",this._disableTextTracks)},u.prototype.sdAsset=function(){throw new Error("Implement in subclass!")},u.prototype.mdAsset=function(){throw new Error("Implement in subclass!")},u.prototype.hdAsset=function(){throw new Error("Implement in subclass!")},u.assets=e.filter,u.asset=e.one,u.assetsWithinQualityRange=e.withinQualityRange,u.stillUrl=e.stillUrl,u.bakeryHosts=function(){return e.BAKERY_HOSTS},u.isBakeryUrl=e.isBakeryUrl,u.stillAsset=e.still,u.prototype.stillUrl=function(t){var n,i;return t=l.obj.merge({videoWidth:this.grid?this.videoWidth():null,videoHeight:this.grid?this.videoHeight():null},this._opts,t),t.playerColor||(t.playerColor=null==(n=this._mediaData)||null==(i=n.embed_options)?void 0:i.playerColor),e.stillUrl(this._mediaData.assets,t)},u.prototype.stillAsset=function(){return e.still(this._mediaData.assets)},u.prototype.thumbnailAssets=function(){var t,e,n,i,o,r,s,a,l;if(this._opts.stillUrl)return[{height:null,url:this._opts.stillUrl,width:null}];for(r=this.stillAsset(),s=r.width/r.height,i=[320,640,960,1280,1920,3840],o=[],e=0,n=i.length;e<n;e++)l=i[e],t=h(l/s),a=this.stillUrl({videoWidth:l,videoHeight:t,playButton:!1}),o.push({height:t,url:a,width:l});return o},u.prototype.changeStill=function(t,e){var n;return null==e&&(e={}),n=new Image,n.src=t,n.style.visibility="hidden",n.style.position="absolute",l.elem.append(document.body,n),n.onload=function(e){return function(){var i,o;return o=l.elem.width(n),i=l.elem.height(n),l.elem.remove(n),e._newStill={type:"still_image",url:t,width:o,height:i,bitrate:0,status:l.Player.READY,created_at:(new Date).getTime()},e._replaceStillAsset(e._newStill),e.rebuild()}}(this)},u.prototype._replaceStillAsset=function(t){var e,n;return n=function(){var t,n,i,o;for(i=this.assets(),o=[],t=0,n=i.length;t<n;t++)e=i[t],"still_image"!==e.type&&o.push(e);return o}.call(this),this._mediaData.assets=n,this._mediaData.assets.push(t)},u.prototype._refreshDataFromServer=function(t,e){return l.remote.ajax("//"+l.remote.embedHost()+"/embed/medias/"+this.hashedId()+".json",{dataType:"json",fallbackToJsonp:!0,jsonpCallback:"wistia_jsonp_refresh_"+this.hashedId(),success:function(e){return function(n){return e._originalMediaData=n.media,e._mediaData=e.publicApi._transformMediaData(n.media),e._newStill&&e._replaceStillAsset(e._newStill),e.publicApi._mediaData=e._mediaData,l.cacheMedia(e.hashedId(),e._mediaData),"function"==typeof t&&t(),e.trigger("refreshed-from-server")}}(this),error:e})},u.prototype.assets=function(t){return e.filter(this._mediaData.assets,t)},u.prototype.asset=function(t){var e;return"string"==typeof arguments[0]?(e=arguments[0]+"Asset",t=arguments[1],this[e](t)):(t=arguments[0],this.assets(t)[0]||null)},u.prototype.mp4Asset=function(t){return e.mp4(this._mediaData.assets,t)},u.prototype.qualityOptions=function(){return{qualityMin:this._attrs.qualityMin,qualityMax:this._attrs.qualityMax}},u.prototype.mp4AssetInRange=function(t){return null==t&&(t={}),e.mp4(this._mediaData.assets,l.obj.merge(this.qualityOptions(),t))},u.prototype.webmAsset=function(t){return e.webm(this._mediaData.assets,t)},u.prototype.webmAssetInRange=function(t){return null==t&&(t={}),e.webm(this._mediaData.assets,l.obj.merge(this.qualityOptions(),t))},u.prototype.playableAsset=function(t){return e.playable(this._mediaData.assets,t)},u.prototype.playableAssetInRange=function(t){return null==t&&(t={}),e.playable(this._mediaData.assets,l.obj.merge(this.qualityOptions(),t))},u.prototype.flashAsset=function(t){return e.flv(this._mediaData.assets,t)},u.prototype.flashAssetInRange=function(t){return null==t&&(t={}),e.flv(this._mediaData.assets,l.obj.merge(this.qualityOptions(),t))},u.prototype.hlsAsset=function(t){return e.m3u8(this._mediaData.assets,t)},u.prototype.hlsAssetInRange=function(t){return null==t&&(t={}),e.m3u8(this._mediaData.assets,l.obj.merge(this.qualityOptions(),t))},u.prototype.isScreencast=function(){return e.isScreencast(this._mediaData.assets)},u.prototype.originalAsset=function(){return this._original||(this._original=e.original(this._mediaData.assets))},u.prototype.iphoneAsset=function(t){return null==t&&(t={}),this._iphoneAsset||(this._iphoneAsset=e.iphone(this._mediaData.assets,t))},u.prototype.iphoneAssetInRange=function(t){return null==t&&(t={}),e.iphone(this._mediaData.assets,l.obj.merge(this.qualityOptions(),t))},u.prototype.masterM3u8Asset=function(){var t;return null==(null==(t=this.hlsAssetsBySegmentDuration())?void 0:t[3])?null:{bitrate:"variable",ext:"m3u8",height:"variable",public:!0,size:"variable",type:"hls_video",url:l.detect.browser.msie?this.masterM3u8Url():this.masterM3u8DataURI(),width:"variable",slug:"hls_master_m3u8_seg3s"}},u.prototype.orderedM3u8Assets=function(){var t;return t=this.assets({container:"m3u8",segment_duration:3,type:"hls_video",status:l.Player.READY,metadata:function(t){return t.max_bitrate}}).sort(function(t,e){return(t.metadata.max_bitrate||0)-(e.metadata.max_bitrate||0)}),0!==this._opts.qualityMin&&(t=s.filter(t,function(){return function(t){return"Audio"!==t.display_name}}(this))),t},u.prototype.masterM3u8ContentFromAssets=function(){var t,e,n,i,o,r,s;for(s=this.orderedM3u8Assets(),n="#EXTM3U",i=[],o=0,r=s.length;o<r;o++)t=s[o],e=8*t.metadata.max_bitrate,i.push("#EXT-X-STREAM-INF:PROGRAM-ID=1,CLOSED-CAPTIONS=NONE,BANDWIDTH="+e+",NAME="+t.display_name+"\n"+t.url);return n+"\n"+i.join("\n")},u.prototype.masterM3u8DataURI=function(){return"data:application/x-mpegURL;base64,"+l.base64.encode(this.masterM3u8ContentFromAssets())},u.prototype.masterM3u8Url=function(){var t;return t=0===this._opts.qualityMin,l.proto()+"//"+l.remote.embedHost()+"/embed/medias/"+this.hashedId()+".m3u8?segment_duration=3&exclude_audio="+!t},u.prototype.chooseHlsAsset=function(){var t,e,n,i,o;return n=this.hlsAssetsBySegmentDuration(),e=function(){var e,r,s,a;for(s=function(){var t;for(i in t=[],n)o=n[i],t.push(parseInt(i,10));return t}(),a=[],e=0,r=s.length;e<r;e++)t=s[e],isNaN(t)||a.push(t);return a}().sort(function(t,e){return t-e}),0===e.length?{useHls:!1}:{useHls:!0,segmentDuration:e[0]}},u.prototype.hlsAssetsBySegmentDuration=function(){var t,e,n,i,o,r,s,a;for(i={},n=this.assets({container:"m3u8",qualityMin:this._attrs.qualityMin,qualityMax:this._attrs.qualityMax,status:l.Player.READY}),0!==this._attrs.qualityMin&&(n=function(){var e,i,o;for(o=[],e=0,i=n.length;e<i;e++)t=n[e],"Audio"!==t.display_name&&o.push(t);return o}()),0===n.length&&(n=this.assets({container:"m3u8",status:l.Player.READY}),0!==this._attrs.qualityMin&&(n=function(){var e,i,o;for(o=[],e=0,i=n.length;e<i;e++)t=n[e],"Audio"!==t.display_name&&o.push(t);return o}()),n=this.nearestAssetsOutsideRange(n,this._attrs.qualityMin,this._attrs.qualityMax)),o=0,r=n.length;o<r;o++)e=n[o],null!=(null==(a=e.metadata)?void 0:a.max_bitrate)&&null!=e.segment_duration&&(null==i[s=e.segment_duration]?i[s]=[]:i[s]).push(e);return i},u.prototype.nearestAssetsOutsideRange=function(t,e,n){var i,o,r,s,a,u,c,h,d,p;if(0===t.length)return[];for(d=function(){var e,n,o;for(o=[],e=0,n=t.length;e<n;e++)i=t[e],o.push(i);return o}().sort(function(t,e){return l.util.numericAssetSizeSnapped(t.width,t.height)-l.util.numericAssetSizeSnapped(e.width,e.height)}),r=d[0],a=d[d.length-1],s=0,u=d.length;s<u;s++)if(i=d[s],o=l.util.numericAssetSizeSnapped(i.width,i.height),o>=e||(c=i),o>=n){p=i;break}return h=function(){var t,e,n,o;for(n=[c,p],o=[],e=0,t=n.length;e<t;e++)(i=n[e])&&o.push(i);return o}(),0===h.length&&(this.error("nearestAssetsOutsideRange: no nearby assets found, using first in list",d[0]),h=[d[0]]),h},u.prototype.smallestNormalMp4Asset=function(t){return t=l.obj.merge({sortBy:"width asc",width:[640,1920]},t),this._smallestNormalMp4||(this._smallestNormalMp4=this.mp4Asset(t))},u.prototype.properAssetUrl=function(t,e){return null==e&&(e="mp4"),/\.bin$/.test(t)?t.replace(/\.bin$/,"")+"/file."+e:t},u.prototype._determineAssetCacheStatus=function(t){var e;return void this.info("_determineAssetCacheStatus")},u.prototype.trim=function(t){return null==t?this._trimSettings||{start:0,end:-1}:this._trimSettings=t},u.prototype.setupWaitingDetection=function(){var t,e;if(null==this._waiting&&(this._waiting=-1),e=this.elem(),"html5"!==this.playerType||e._wistiaSetupWaitingDetection||(t=!1,e._wistiaSetupWaitingDetection=!0,l.elem.bind(e,"waiting",function(e){return function(){return!0!==e._hailMaryPlay&&(t=!0),l.elem.unbind}}(this))),"vulcan"!==this.playerType)return l.eventLoop.add(this.uuid+".detect_waiting",this._eventLoopDuration,function(e){return function(){var n,i,o;return i=t&&"beforeplay"===e.state()||"playing"===e.state(),n="playing"===e._lastState||"beforeplay"===e._lastState,i&&n&&(-1===e._lastTimePosition||e.time()===e._lastTimePosition)?(o=e._waiting,e._startedWaitingAt?(e._waiting=((new Date).getTime()-e._startedWaitingAt)/1e3,e.trigger("waiting",e._waiting)):(e._startedWaitingAt=(new Date).getTime(),e._waiting=0,e.trigger("waiting",e._waiting),e.rebind("timechange",e.finishWaitingLoop))):e.finishWaitingLoop()}}(this))},u.prototype.finishWaitingLoop=function(){var t;return t=this._waiting,this._waiting=-1,this._startedWaitingAt=null,null!=t&&0<=t&&this.trigger("done-waiting",t),this.unbind},u.prototype.getVideoElement=function(){return null},u.prototype.whenVideoElementInDom=function(){return new a(function(){})},u.prototype.embedOptions=function(){return this._embedOptions?this._embedOptions:this._embedOptions=l.obj.clone(this._opts)},u.prototype.inSilentPlaybackMode=function(){return!1},u}(),l.mixin(l.Player.prototype,l.bindable),l.mixin(l.Player.prototype,l.logHelpers),l.Player.prototype._logPrefix=function(){var t;return[this.constructor.name,this.hashedId()||"no hashedId",null==(t=this._embedContainer)?void 0:t.id,this.uuid]},h=l.Player.prototype.trigger,l.Player.prototype.trigger=function(){var t,e;return t=1<=arguments.length?o.call(arguments,0):[],h.apply(this,t),(e=this.publicApi)._triggerNoImpl.apply(e,t)},f=Object.getOwnPropertyNames(l.PublicApi.prototype),u=0,c=f.length;u<c;u++)d=f[u],"function"!=typeof(p=l.PublicApi.prototype[d])||l.Player.prototype.hasOwnProperty(d)||function(t,e){l.Player.prototype[t]=function(){var e,n;return e=1<=arguments.length?o.call(arguments,0):[],(n=this.publicApi)[t].apply(n,e)},l.Player.prototype[t]._originalMethod=e}(d,p);l.Video=l.Player}}(Wistia)},function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};!function(e){e.BigPlayButton||(e.BigPlayButton=function(){function n(n,i){this.container=n,null==i&&(i={}),this.touchend=t(this.touchend,this),this.touchmove=t(this.touchmove,this),this.touchstart=t(this.touchstart,this),this.click=t(this.click,this),this.mouseup=t(this.mouseup,this),this.mousedown=t(this.mousedown,this),this.mouseout=t(this.mouseout,this),this.mouseover=t(this.mouseover,this),this.blur=t(this.blur,this),this.keyup=t(this.keyup,this),this.focus=t(this.focus,this),this.getBottomTextElemProps=t(this.getBottomTextElemProps,this),this.options=this.getDefaultOptions(i),this.uuid=this.options.uuid+".big_play_button",this.color(this.options.color),this.backgroundElem=this.createBackgroundElem(),this.resetBackground(),this.elem=this.playElem=this.createPlayElem(),this.addTopText(),this.addBottomText(),e.elem.append(this.container,this.backgroundElem),e.elem.append(this.container,this.playElem),this.setupBindings()}var i=Math.round;return n.prototype.destroy=function(){return this.destroyBindings(),e.elem.remove(this.playElem),e.elem.remove(this.backgroundElem),this._bottomTextElem&&e.elem.remove(this._bottomTextElem),this._topTextElem&&e.elem.remove(this._topTextElem),this.elem=null,this.backgroundElem=null,this.playElem=null,this._bottomTextElem=null,this._topTextElem=null},n.prototype.getDefaultOptions=function(t){var n;return n={tabbable:!0,uuid:e.seqId(),color:"636155",bottomTextColor:"#fff",bottomTextFontFamily:"Courier New, Courier, Sans-Serif",bottomTextBackground:"none",bottomTextInsideButton:!1,topTextColor:"#fff",topTextFontFamily:"Courier New, Courier, Sans-Serif",topTextBackground:"none",widthCorrection:0,heightCorrection:0},e.obj.merge(n,t)},n.prototype.createBackgroundElem=function(){return e.elem.fromObject({id:this.uuid+"_background",style:{height:this.height()+"px",position:"absolute",width:this.width()+"px",zIndex:1}})},n.prototype.createPlayElem=function(){return e.elem.fromObject({id:this.uuid+"_graphic",tabindex:this.options.tabbable?"0":"-1","aria-role":"Button","aria-label":"Play",style:{background:"transparent url("+this.iconBase64()+") no-repeat 0 0",cursor:"pointer",display:"block",height:this.graphicHeight()+"px",outline:"none",position:"absolute",width:this.graphicWidth()+"px",zIndex:1}})},n.prototype.createBottomTextElem=function(){return e.elem.fromObject({id:this.uuid+"_bottom_text",style:this.getBottomTextElemProps(),childNodes:this.options.bottomText})},n.prototype.getBottomTextElemProps=function(){var t,e;return e={color:this.options.bottomTextColor,fontFamily:this.options.bottomTextFontFamily,fontSize:this.textFontSize(),background:this.options.bottomTextBackground,left:0,position:"absolute",textAlign:"center",width:"100%",zIndex:1},this.options.bottomTextInsideButton&&(t="30px",e.lineHeight=t,e.bottom="-"+t),e},n.prototype.createTopTextElem=function(){return e.elem.fromObject({id:this.uuid+"_top_text",style:{color:this.options.topTextColor,fontFamily:this.options.topTextFontFamily,background:this.options.topTextBackground,fontSize:this.textFontSize(),left:0,position:"absolute",textAlign:"center",width:"100%",zIndex:1},childNodes:this.options.topText})},n.prototype.textFontSize=function(){return this.options.bottomTextInsideButton?"18px":100>this.height()?"11px":this.shouldShrink()?"16px":"22px"},n.prototype.oldIe=function(){return e.detect.browser.msie&&9>e.detect.browser.version},n.prototype.setupBindings=function(){return e.elem.bind(this.playElem,"mouseover",this.mouseover),e.elem.bind(this.playElem,"mouseout",this.mouseout),e.elem.bind(this.playElem,"focus",this.focus),e.elem.bind(this.playElem,"blur",this.blur),e.elem.bind(this.playElem,"mousedown",this.mousedown),e.elem.bind(this.playElem,"mouseup",this.mouseup),e.elem.bind(this.playElem,"click",this.click),e.elem.bind(this.playElem,"touchstart",this.touchstart)},n.prototype.destroyBindings=function(){return e.elem.unbind(this.playElem,"mouseover",this.mouseover),e.elem.unbind(this.playElem,"mouseout",this.mouseout),e.elem.unbind(this.playElem,"focus",this.focus),e.elem.unbind(this.playElem,"blur",this.blur),e.elem.unbind(this.playElem,"mousedown",this.mousedown),e.elem.unbind(this.playElem,"mouseup",this.mouseup),e.elem.unbind(this.playElem,"click",this.click),e.elem.unbind(this.playElem,"touchstart",this.touchstart),e.elem.unbind(document,"touchmove",this.touchmove),e.elem.unbind(document,"touchend",this.touchend),e.elem.unbind(document,"keyup",this.keyup)},n.prototype.focus=function(){var t;return e.elem.addClass(this.playElem,"wistia_focus"),this.onMobile()||!1===this.options.autoHighlight||this.highlightBackground(),e.elem.rebind(document,"keyup",this.keyup),this._focus=!0,"function"==typeof(t=this.options).onFocus&&t.onFocus.apply(t,arguments),!0},n.prototype.keyup=function(t){var e,n;return"function"==typeof(e=this.options).onKeyup&&e.onKeyup.apply(e,arguments),(32===t.keyCode||13===t.keyCode)&&"function"==typeof(n=this.options).onActivate&&n.onActivate.apply(n,arguments),!0},n.prototype.blur=function(){var t;return e.elem.unbind(this.playElem,"keyup",this.keyup),e.elem.removeClass(this.playElem,"wistia_focus"),this.onMobile()||!1===this.options.autoHighlight||this.resetBackground(),this._focus=!1,"function"==typeof(t=this.options).onBlur&&t.onBlur.apply(t,arguments),!0},n.prototype.mouseover=function(){var t;return e.elem.addClass(this.playElem,"wistia_mouseover"),this.onMobile()||!1===this.options.autoHighlight||this.highlightBackground(),"function"==typeof(t=this.options).onMouseover&&t.onMouseover.apply(t,arguments),!0},n.prototype.mouseout=function(){var t;return e.elem.removeClass(this.playElem,"wistia_mouseover"),this.onMobile()||!1===this.options.autoHighlight||this.resetBackground(),"function"==typeof(t=this.options).onMouseout&&t.onMouseout.apply(t,arguments),!0},n.prototype.mousedown=function(){var t;return e.elem.addClass(this.playElem,"wistia_mousedown"),"function"==typeof(t=this.options).onMousedown&&t.onMousedown.apply(t,arguments),!0},n.prototype.mouseup=function(){var t;return e.elem.removeClass(this.playElem,"wistia_mousedown"),"function"==typeof(t=this.options).onMouseup&&t.onMouseup.apply(t,arguments),!0},n.prototype.click=function(){var t,e;return"function"==typeof(t=this.options).onClick&&t.onClick.apply(t,arguments),this._blockClickActivate||"function"!=typeof(e=this.options).onActivate||e.onActivate.apply(e,arguments),!0},n.prototype.touchstart=function(){var t;return(this.onMobile()||!1===this.options.autoHighlight)&&this.highlightBackground(),"function"==typeof(t=this.options).onTouchstart&&t.onTouchstart.apply(t,arguments),this._swiped=!1,e.elem.bind(document,"touchmove",this.touchmove),e.elem.bind(document,"touchend",this.touchend),!0},n.prototype.touchmove=function(){var t;return this._highlighted&&this.onMobile()&&!1!==this.options.autoHighlight&&this.resetBackground(),this._swiped=!0,"function"==typeof(t=this.options).onTouchmove&&t.onTouchmove.apply(t,arguments),!0},n.prototype.touchend=function(){var t,n;return e.elem.unbind(document,"touchmove",this.touchmove),e.elem.unbind(document,"touchend",this.touchend),this.onMobile()&&!1!==this.options.autoHighlight&&this.resetBackground(),"function"==typeof(t=this.options).onTouchend&&t.onTouchend.apply(t,arguments),this._swiped||("function"==typeof(n=this.options).onActivate&&n.onActivate.apply(n,arguments),this.blockClickActivateTemporarily()),this._swiped=!1,!0},n.prototype.onMobile=function(){return e.detect.iphone||e.detect.ipad||e.detect.android},n.prototype.blockClickActivateTemporarily=function(){return this._blockClickActivate=!0,e.timeout(this.uuid+".block_click_activate",function(t){return function(){return t._blockClickActivate=!1}}(this),350)},n.prototype.highlightBackground=function(){return this._highlighted=!0,this.oldIe()?this.backgroundElem.style.filter=this.highlightColor().alpha(.8).toIeGradient():this.backgroundElem.style.backgroundColor=this.highlightColor().alpha(.8).toRgbaOrHex()},n.prototype.resetBackground=function(){return this._highlighted=!1,this.oldIe()?this.backgroundElem.style.filter=this.color().alpha(.8).toIeGradient():this.backgroundElem.style.backgroundColor=this.color().alpha(.8).toRgbaOrHex()},n.prototype.fit=function(){return e.elem.style(this.backgroundElem,{height:this.height()+"px",width:this.width()+"px"}),e.elem.style(this.playElem,{backgroundImage:"url("+this.iconBase64()+")",backgroundSize:this.graphicWidth()+"px "+this.graphicHeight()+"px",height:this.graphicHeight()+"px",width:this.graphicWidth()+"px"}),this._bottomTextElem&&e.elem.style(this._bottomTextElem,{fontSize:this.textFontSize()}),this._topTextElem&&e.elem.style(this._topTextElem,{fontSize:this.textFontSize()}),this.center()},n.prototype.show=function(){return this.fit(),e.elem.style([this.backgroundElem,this.playElem],{display:"block"})},n.prototype.hide=function(){return e.elem.style([this.backgroundElem,this.playElem],{display:"none"})},n.prototype.correctedWidth=function(){var t;return t=this.containerWidth(),t+=this.options.widthCorrection},n.prototype.correctedHeight=function(){var t;return t=this.containerHeight(),t+=this.options.heightCorrection},n.prototype.mouseEventTargetIsInside=function(t){return e.elem.isInside(t.target,this.playElem)||this._bottomTextElem&&e.elem.isInside(t.target,this._bottomTextElem)||this._topTextElem&&e.elem.isInside(t.target,this._topTextElem)},n.prototype.center=function(){if(e.elem.style(this.backgroundElem,{left:this.leftBackgroundOffset()+"px",top:this.topBackgroundOffset()+"px"}),e.elem.style(this.playElem,{left:this.leftGraphicOffset()+"px",top:this.topGraphicOffset()+"px"}),this._bottomTextElem&&!this.options.bottomTextInsideButton&&e.elem.style(this._bottomTextElem,{left:0,top:this.bottomGraphicOffset()+3+"px"}),this._topTextElem)return e.elem.style(this._topTextElem,{bottom:this.bottomGraphicOffset()+3+"px",left:0})},n.prototype.leftBackgroundOffset=function(){return i((this.correctedWidth()-this.width())/2)},n.prototype.topBackgroundOffset=function(){return i((this.correctedHeight()-this.height())/2)},n.prototype.topGraphicOffset=function(){return i((this.correctedHeight()-this.graphicHeight())/2)},n.prototype.leftGraphicOffset=function(){return i((this.correctedWidth()-this.graphicWidth())/2)},n.prototype.rightGraphicOffset=function(){return this.leftGraphicOffset()+this.graphicWidth()},n.prototype.bottomGraphicOffset=function(){return this.topGraphicOffset()+this.graphicHeight()},n.prototype.containerWidth=function(){return e.elem.width(this.container)},n.prototype.containerHeight=function(){return e.elem.height(this.container)},n.prototype.shouldShrink=function(){return 320>=this.containerWidth()||200>=this.containerHeight()},n.prototype.graphicWidth=function(){return this.shouldShrink()?60:127},n.prototype.graphicHeight=function(){return this.shouldShrink()?38:81},n.prototype.width=function(){return this._cover?this.containerWidth():this.graphicWidth()},n.prototype.height=function(){return this._cover?this.containerHeight():this.graphicHeight()},n.prototype.cover=function(){return this._cover=!0,this.supportsMultiply()?(e.elem.style(this.backgroundElem,{mixBlendMode:"multiply"}),this.color(this.color(),.5)):this.color(this.color(),.3),this.addBottomText(),this.addTopText(),this.fit()},n.prototype.uncover=function(){return this._cover=!1,this.supportsMultiply()&&e.elem.style(this.backgroundElem,{mixBlendMode:"normal"}),this.color(this.color(),.76),this.removeBottomText(),this.removeTopText(),this.fit()},n.prototype.addBottomText=function(){var t;if(this.options.bottomText)return this._bottomTextElem?void 0:(t=this.options.bottomTextInsideButton?this.playElem:this.container,this.removeBottomText(),this._bottomTextElem=this.createBottomTextElem(),e.elem.append(t,this._bottomTextElem))},n.prototype.addBottomTextFromNewOptions=function(t){return this.options=e.obj.merge(this.options,t),this.removeBottomText(),this.addBottomText()},n.prototype.removeBottomText=function(){if(this._bottomTextElem)return e.elem.remove(this._bottomTextElem),this._bottomTextElem=null},n.prototype.addTopText=function(){if(this.options.topText)return this._topTextElem?void 0:(this.removeTopText(),this._topTextElem=this.createTopTextElem(),e.elem.append(this.container,this._topTextElem))},n.prototype.removeTopText=function(){if(this._topTextElem)return e.elem.remove(this._topTextElem),this._topTextElem=null},n.prototype.uncoverImmediately=function(){return e.elem.style(this.backgroundElem,{transition:"none"}),e.util.requestAnimationFrame(function(t){return function(){return t.uncover(),e.util.requestAnimationFrame(function(){return e.elem.style(t.backgroundElem,{transition:"all 80ms ease-out"})})}}(this))},n.prototype.supportsMultiply=function(){return e.detect.chrome||e.detect.safari},n.prototype.color=function(t,n){var i,o;return null==n&&(n=.8),null==t?this._color.clone():(this._color=new e.Color(t).alpha(n),e.detect.browser.msie&&9>e.detect.browser.version?null!=(i=this.backgroundElem)&&(i.style.filter=this._color.toIeGradient()):null!=(o=this.backgroundElem)&&(o.style.backgroundColor=this._color.toRgbaOrHex()),this._color)},n.prototype.highlightColor=function(){return this.color().clone().lighten(40)},n.prototype.iconBase64=function(){return 1<window.devicePixelRatio?this.retinaBase64():this.shouldShrink()?this.smallNonRetinaBase64():this.bigNonRetinaBase64()},n.prototype.retinaBase64=function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAP4AAACiCAYAAABh2nDdAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAulJREFUeNrs3d1tGlEQBtAlSgEpgXSAO8AdxB2QDuwONhWQDpxUAB14OyAdmA5IB+SOvDdCSHnLn/WdI91XP4z1aYY77DIMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAvnc/nQzsrlYCs4JdTOxvVgKzgd7t23qkKZAW/PLezVhnICn43qg7kBb88tbNUJcgKfr/4+6BSkBX8buviD/KCf7bzh8zgd/cqB3nBt/OH0OD3i7+1KkJW8O38ITj4/eJvqaKQFXw7fwgNfvfo4i/PQgleV/D/0J8+tnO3WCy+qXKGN0pAU5/3D3b+Oj5ZHf/SNHf/7yqu45Nj3Y7n/AWfQHXZV4/5bpXCqE/GqH+tLvw+uvjT8cmymrv/Ril0fHI6/qX93P1d/Ak+QcEvx8HO36hPnOXwsvMflULHJ6fjX5oGO38dnzjr4WXn72EfwSdM7fx3XvBp1Cdn1L9m56/jE6jv/D3so+MT1PEv2fnr+ASqC7+Dh30EnzzLefQflcKoT8aof60u/Grnf/Sf1PHJsZpHfzt/wSfMz52/Ugg+WWrk/6oMgk+OL+3c+oLPv/dWCfgLapdfO/29Uuj4ZJjauRF6wSfHpxb4Wys8oz4ZjvNoPymFjk+G/TzaC73gE6Au8B5a4L2Rx6hPCM/h6/iE+dwCfyP0Oj45o73dvOATZBq8XdeoT5S+mxd6HZ8Ax8Ev6Oj4ROm7eaEXfAL0Czyf5436hPCqLB2fMH03L/Q6PiGj/Z3v2ev45Kiwvxd6wSfHg908/KfOv1+97nqlspAT/Ec/aw05wT/5UQvICn6N9kuVhJzgjyoIOcE/+alqyAr+zgUe5AS/uvy9ikFO8O3mISz4W6M95ATfbh7Cgv9kNw9ZwR9VBXKC/+wCD7KCbzcPYcHfqAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAvE4/BBgAB9Vp0xXzB8AAAAAASUVORK5CYII="},n.prototype.bigNonRetinaBase64=function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH8AAABRCAYAAAD7G3lVAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAATFJREFUeNrs22FtwkAYx+F2QcAkMAfgYBKQwBxMQh1MwiRQB+CgEoaDzkG5S1a+E5IF+n+e5D4ve3+7N0s4mgYAAAAAAAAAAAAA7jFN06cp5MavjuWsTSMzfjWWszORzPizQzmvJpMZ3xYIj28LiG8LpMeffdsCufGrn3LeTS0z/uzLFsiNbwuEx7cFxL9ugY1pZsafdSaaG78abIHc+LaA+MvbAi/+XG5Sww9L2QLtEm/+P/2oUzkfbduexc+LX51L/DdrP09fzvaZf4GVhjf7/Vv3vVFk/bfvMUhg/PoAZG+6efE9Aw+MP/oCSGZ8tz0wvtseGn9w2zPjdyaXF99n9aHx3fbA+G57aHy3PTC+N/mh8b3DD4zvtofGd9tD47vtAAAAAAAAAAAAADymiwADAOSj1JBfF8xMAAAAAElFTkSuQmCC"},n.prototype.smallNonRetinaBase64=function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAmCAYAAACYsfiPAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJNJREFUeNrs1ksNhEAURNGWgAQkjAQkIAUJ7QApIwEJSEACEh6PBatJhmZJ1T1JCahU+lMKAACAioj4Zjqnwqc9MzoVvszya8evLTM4FdZeO/7TWzva6Kwd7dbMx6nwpboV3l99rh+WXV5/lh+sOrlcWueqvcOzpLNqQ2GtVW8KT0WZ3MeisXAtLixWBQAAQDoEGACTzSwy3SX7YgAAAABJRU5ErkJggg=="},n}())}(Wistia)},function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};!function(e){e.Thumbnail||(e.Thumbnail=function(){function n(n,i){var o,r,s,a;this.container=n,this.options=i,this.hideOverlay=t(this.hideOverlay,this),this.showOverlay=t(this.showOverlay,this),this.touchend=t(this.touchend,this),this.touchmove=t(this.touchmove,this),this.touchstart=t(this.touchstart,this),this.click=t(this.click,this),this.mouseup=t(this.mouseup,this),this.mousedown=t(this.mousedown,this),this.mouseout=t(this.mouseout,this),this.mouseover=t(this.mouseover,this),this.blur=t(this.blur,this),this.keyup=t(this.keyup,this),this.focus=t(this.focus,this),this.loaded=new e.StopGo,this.uuid=(this.options.uuid||e.seqId())+".thumbnail",null==this.options.tabbable&&(this.options.tabbable=!0),0<(null==(s=this.options.images)?void 0:s.length)||(a="http:"===e.proto()?"http://embed.wistia.com/deliveries/c0612aa8586d19f8471478c66c73ef7ab3f8e334/default-thumb.jpg":"https://embed-ssl.wistia.com/deliveries/c0612aa8586d19f8471478c66c73ef7ab3f8e334/default-thumb.jpg",this.options.images=[{url:a,height:360,width:640}]),this.elem=this.createElem(),this.options.prepend?e.elem.prepend(this.container,this.elem):e.elem.append(this.container,this.elem),this.img=this.createImg(),this.overlay=this.createOverlay(),this.fit(),this.setupBindings(),this.options.delayInit?(o=this.bestImage(),this.quickPreload(o.url)):this.initialize(),null!=this.options.bigPlayButton&&!1!==this.options.bigPlayButton&&(r=e.obj.isObject(this.options.bigPlayButton)?e.obj.clone(this.options.bigPlayButton):{},this.bigPlayButton=new e.BigPlayButton(this.elem,r))}var i=Math.round,o=Math.max;return n.prototype.initialize=function(){return this.isBakeryThumbnail()?this.loadImageFirstTime():this.loadImageFirstTimeAndGetDimensions()},n.prototype.destroy=function(){var t;return null!=(t=this.bigPlayButton)&&t.destroy(),this.destroyBindings(),e.elem.remove(this.elem),this.elem=this.img=this.overlay=null},n.prototype.preventDefault=function(t){return t.preventDefault()},n.prototype.setupBindings=function(){return e.elem.bind(this.elem,"mouseover",this.mouseover),e.elem.bind(this.elem,"mouseout",this.mouseout),e.elem.bind(this.elem,"focus",this.focus),e.elem.bind(this.elem,"blur",this.blur),e.elem.bind(this.elem,"mousedown",this.mousedown),e.elem.bind(this.elem,"mouseup",this.mouseup),e.elem.bind(this.elem,"click",this.click),e.elem.bind(this.elem,"touchstart",this.touchstart),e.elem.bind(this.img,"mousedown",this.preventDefault)},n.prototype.destroyBindings=function(){return e.elem.unbind(this.elem,"mouseover",this.mouseover),e.elem.unbind(this.elem,"mouseout",this.mouseout),e.elem.unbind(this.elem,"focus",this.focus),e.elem.unbind(this.elem,"blur",this.blur),e.elem.unbind(this.elem,"mousedown",this.mousedown),e.elem.unbind(this.elem,"mouseup",this.mouseup),e.elem.unbind(this.elem,"click",this.click),e.elem.unbind(this.elem,"touchstart",this.touchstart),e.elem.unbind(this.img,"mousedown",this.preventDefault),e.elem.unbind(document,"touchmove",this.touchmove),e.elem.unbind(document,"touchend",this.touchend),e.elem.unbind(document,"keyup",this.keyup)},n.prototype.focus=function(){var t;return e.elem.addClass(this.elem,"wistia_focus"),e.elem.rebind(document,"keyup",this.keyup),this._focus=!0,"function"==typeof(t=this.options).onFocus&&t.onFocus.apply(t,arguments),!0},n.prototype.keyup=function(t){var e,n;return"function"==typeof(e=this.options).onKeyup&&e.onKeyup.apply(e,arguments),(32===t.keyCode||13===t.keyCode)&&"function"==typeof(n=this.options).onActivate&&n.onActivate.apply(n,arguments),!0},n.prototype.blur=function(){var t;return e.elem.unbind(document,"keyup",this.keyup),e.elem.removeClass(this.elem,"wistia_focus"),this._focus=!1,"function"==typeof(t=this.options).onBlur&&t.onBlur.apply(t,arguments),!0},n.prototype.mouseover=function(){var t;return e.elem.addClass(this.elem,"wistia_mouseover"),"function"==typeof(t=this.options).onMouseover&&t.onMouseover.apply(t,arguments),!0},n.prototype.mouseout=function(){var t;return e.elem.removeClass(this.elem,"wistia_mouseover"),"function"==typeof(t=this.options).onMouseout?t.onMouseout.apply(t,arguments):void 0},n.prototype.mousedown=function(){var t;return e.elem.addClass(this.elem,"wistia_mousedown"),"function"==typeof(t=this.options).onMousedown&&t.onMousedown.apply(t,arguments),!0},n.prototype.mouseup=function(){var t;return e.elem.removeClass(this.elem,"wistia_mousedown"),"function"==typeof(t=this.options).onMouseup&&t.onMouseup.apply(t,arguments),!0},n.prototype.click=function(){var t,e;return"function"==typeof(t=this.options).onClick&&t.onClick.apply(t,arguments),this._blockClickActivate||this._swiped||"function"!=typeof(e=this.options).onActivate||e.onActivate.apply(e,arguments),!0},
n.prototype.touchstart=function(){var t;return"function"==typeof(t=this.options).onTouchstart&&t.onTouchstart.apply(t,arguments),this._swiped=!1,e.elem.bind(document,"touchmove",this.touchmove),e.elem.bind(document,"touchend",this.touchend),!0},n.prototype.touchmove=function(){var t;return e.timeout(this.uuid+".hide_overlay_later",this.hideOverlay,300),this._swiped=!0,"function"==typeof(t=this.options).onTouchmove&&t.onTouchmove.apply(t,arguments),!0},n.prototype.touchend=function(){var t,n;return e.elem.unbind(document,"touchmove",this.touchmove),e.elem.unbind(document,"touchend",this.touchend),"function"==typeof(t=this.options).onTouchend&&t.onTouchend.apply(t,arguments),this._swiped||("function"==typeof(n=this.options).onActivate&&n.onActivate.apply(n,arguments),this.blockClickActivateTemporarily()),this._swiped=!1,!0},n.prototype.blockClickActivateTemporarily=function(){return this._blockClickActivate=!0,e.timeout(this.uuid+".block_click_activate",function(t){return function(){return t._blockClickActivate=!1}}(this),350)},n.prototype.hide=function(){return this.elem.style.display="none"},n.prototype.show=function(){return this.elem.style.display="block"},n.prototype.isBakeryThumbnail=function(){return!this.isNonBakeryThumbnail()},n.prototype.isNonBakeryThumbnail=function(){return 1===this.options.images.length&&!e.Player.isBakeryUrl(this.options.images[0].url)},n.prototype.bestImage=function(t){var n,i,r,s,a,l;if(null==t&&(t=!1),l=this.sortedImages(),n=o(e.elem.width(this.img),e.elem.width(this.container)),i=(window.devicePixelRatio||1)*n,!t){if(i<=l[0].width)return l[0];for(r=0,a=l.length;r<a;r++)if(s=l[r],s.width>=i)return s}return l[l.length-1]},n.prototype.sortedImages=function(){var t,n;return null==this._sortedImages?this._sortedImages=function(){var i,o,r,s;for(r=this.options.images.sort(function(t,e){return t.width-e.width}),s=[],i=0,o=r.length;i<o;i++)n=r[i],t=e.obj.clone(n),t.aspect=t.width/t.height,s.push(t);return s}.call(this):this._sortedImages},n.prototype.quickPreload=function(t){var n,i,o;return null==this._quickPreloads&&(this._quickPreloads={}),this._quickPreloads[t]?this._quickPreloads[t]:(this._quickPreloads[t]=o=new e.StopGo,i=new Image,n=function(t){return function(){if(e.elem.unbind(i,"load",n),e.elem.unbind(i,"error",n),!!e.elem.inDom(t.container))return e.clearTimeouts(t.uuid+".long_still_load"),o.go(i)}}(this),e.elem.bind(i,"load",n),e.elem.bind(i,"error",n),e.timeout(this.uuid+".long_still_load",n,1e3),i.src=t,o)},n.prototype.surePreload=function(t,n){var i,o;return o=new Image,i=function(t){return function(){return e.elem.unbind(o,"load",i),e.clearTimeouts(t.uuid+".long_still_load"),e.elem.inDom(t.container)&&"function"==typeof n?n(o):void 0}}(this),e.elem.bind(o,"load",i),o.src=t},n.prototype.loadImageFirstTimeAndGetDimensions=function(){var t;return t=this.bestImage(),this.quickPreload(t.url).then(function(n){return function(i){if(e.elem.style(i,{visibility:"hidden",position:"absolute"}),e.elem.append(document.body,i),n._customHeight=e.elem.height(i),n._customWidth=e.elem.width(i),n._customAspect=n._customWidth/n._customHeight,e.elem.remove(i),n._sortedImages=null,!(!n.elem||!n.img))return e.elem.append(n.elem,n.img),n.img.src=t.url,n.fitWithoutReload(),n.loaded(!0)}}(this))},n.prototype.loadImageFirstTime=function(){var t;return t=this.bestImage(),this.quickPreload(t.url).then(function(n){return function(){if(n.elem&&n.img)return e.elem.append(n.elem,n.img),n.img.src=t.url,n.fitWithoutReload(),n.loaded(!0)}}(this))},n.prototype.loadImageAtProperSize=function(){var t;return t=this.bestImage(),this.surePreload(t.url,function(e){return function(){if(e.elem&&e.img)return e.img.src=t.url,e.fitWithoutReload()}}(this))},n.prototype.createElem=function(){return e.elem.fromObject({id:this.uuid,tabindex:this.options.tabbable?"0":"-1",style:{cursor:"default",display:"block",height:"100%",overflow:"hidden",outline:"none",position:"relative",width:"100%"}})},n.prototype.createImg=function(){return e.elem.fromObject({tagName:"img",id:this.uuid+"_img",alt:this.getAltTextValue(),style:{border:0,display:"block",float:"none",height:"100%",margin:0,maxHeight:"none",maxWidth:"none",padding:0,position:"absolute",width:"100%"}})},n.prototype.getAltTextValue=function(){var t,e;return t="Wistia video thumbnail",e=null==this.options.name?"":" - "+this.options.name,t+e},n.prototype.createOverlay=function(){var t,n;return t=e.elem.fromObject({id:this.uuid+"_overlay",style:{border:0,display:"block",float:"none",height:"100%",margin:0,maxWidth:"none",padding:0,pointerEvents:"none",position:"absolute",width:"100%"}}),e.detect.browser.msie&&(9>e.detect.browser.version||e.detect.browser.quirks)?(n=new e.Color(0,0,0).alpha(.5).toIeGradient(),e.elem.style(t,{filter:n})):e.elem.style(t,{backgroundColor:"rgba(0,0,0,.5)"}),t},n.prototype.showOverlay=function(){return e.elem.append(this.elem,this.overlay)},n.prototype.hideOverlay=function(){return e.elem.remove(this.overlay)},n.prototype.containerWidth=function(){return e.elem.width(this.container)},n.prototype.containerHeight=function(){return e.elem.height(this.container)},n.prototype.containerAspect=function(){return this.containerWidth()/this.containerHeight()},n.prototype.fitStrategy=function(t){return null==t?/^cropfill|letterbox$/.test(this.options.fitStrategy)?this.options.fitStrategy:"letterbox":(this.options.fitStrategy=t,this.fit())},n.prototype.fit=function(){return this.fitWithoutReload(),this.loadImageAtProperSize()},n.prototype.fitWithoutReload=function(){var t;return e.elem.style(this.elem,{height:this.containerHeight()+"px",width:this.containerWidth()+"px"}),"cropfill"===this.fitStrategy()?this.cropFillFit():this.letterboxFit(),null==(t=this.bigPlayButton)?void 0:t.fit()},n.prototype.stretchLimit=function(){return null==this.options.stretchLimit?10:this.options.stretchLimit},n.prototype.cropFillFit=function(){var t,n,o,r,s,a,l,u,c,h,d=Math.abs;return t=this._customAspect||this.bestImage().aspect,r=this.containerWidth(),o=this.containerHeight(),n=this.containerAspect(),!1===this.options.stillSnap?(a=r,s=o):n>t?(a=r,s=i(a/t)):n<=t&&(s=o,a=i(s*t)),h=o-s,u=r-a,c=i(h/2),l=i(u/2),d(2*c)<=this.stretchLimit()&&(c=0,s=o),d(2*l)<=this.stretchLimit()&&(l=0,a=r),e.elem.isHidden(this.elem)||!e.elem.inDom(this.elem)?(e.elem.style(this.img,{height:"100%",width:"100%"}),l=c=0):e.elem.style(this.img,{height:s+"px",width:a+"px"}),e.elem.style(this.img,{border:0,left:l+"px",top:c+"px"})},n.prototype.letterboxFit=function(){var t,n,r,s,a,l,u,c,h,d,p,f,m,y,g,v;return t=this._customAspect||this.bestImage().aspect,l=this.containerWidth(),a=this.containerHeight(),s=this.containerAspect(),!1===this.options.stillSnap?(d=l,h=a):s>t?(h=a,d=i(h*t)):s<=t&&(d=l,h=i(d/t)),v=o(0,a-h),y=o(0,l-d),g=i(v/2),m=i(y/2),f=r=g,c=p=m,2*r<=this.stretchLimit()&&(r=0,f=0,h=a),2*c<=this.stretchLimit()&&(c=0,p=0,d=l),n=this.options.backgroundColor||"#000","transparent"===n||new e.Color(n).alpha(.8).toRgbaOrHex(),e.elem.isHidden(this.elem)||!e.elem.inDom(this.elem)?(e.elem.style(this.img,{height:"100%",width:"100%"}),f=r=u=p=0):e.elem.style(this.img,{height:h+"px",width:d+"px"}),e.elem.style(this.img,{borderTop:f+"px solid "+n,borderBottom:r+"px solid "+n,borderLeft:c+"px solid "+n,borderRight:p+"px solid "+n,left:0,top:0})},n}())}(Wistia)},function(){!function(t){null==t._onFullscreenChange&&(t._onFullscreenChange=function(){return t.elem.fullscreenElement()?t.trigger("enter-fullscreen",t.elem.fullscreenElement()):t.trigger("cancel-fullscreen")}),t._initializers.initFullscreenTriggers=function(){return t.elem.rebind(document,"mozfullscreenchange",t._onFullscreenChange),t.elem.rebind(document,"webkitfullscreenchange",t._onFullscreenChange),t.elem.rebind(document,"MSFullscreenChange",t._onFullscreenChange),t.elem.rebind(document,"fullscreenchange",t._onFullscreenChange)},t._destructors.destroyFullscreenTriggers=function(){return t.elem.unbind(document,"mozfullscreenchange",t._onFullscreenChange),t.elem.unbind(document,"webkitfullscreenchange",t._onFullscreenChange),t.elem.unbind(document,"MSFullscreenChange",t._onFullscreenChange),t.elem.unbind(document,"fullscreenchange",t._onFullscreenChange)}}(Wistia)},function(){!function(t){t.BandwidthTest=function(){function e(e){this.opt=e,this.opt=t.obj.merge({minKbps:2500,timeoutLength:4e3,freshFor:36e5},this.opt),this.opt.uuid||(this.opt.uuid=t.seqId("bandwidth_test_"))}return e.prototype.start=function(){var e,n,i,o;return null!=(i=this._testXhr)&&i.abort(),this._testStart=(new Date).getTime(),this._testXhr=new XMLHttpRequest,this._testXhr.open("GET",this.testFileUrl(),!0),n=Math.floor(100*Math.random()),o=1e6*n,e=o+999999,this._testXhr.setRequestHeader("Range","bytes="+o+"-"+e),t.timeout(this.uuid+".cancel_bandwidth_test",function(t){return function(){return t.trigger("timeout"),t.fail()}}(this),this.opt.timeoutLength),this._testDataLoaded=0,this._onTestXhrProgress=function(t){return function(e){return t._testDataLoaded=e.loaded,t.trigger("progress",e)}}(this),this._testXhr.addEventListener("progress",this._onTestXhrProgress),this._onTestXhrLoaded=function(t){return function(){return t.succeed()}}(this),this._testXhr.addEventListener("load",this._onTestXhrLoaded),this._testXhr.send(null),this.trigger("started")},e.prototype.fail=function(){return this._sampleKbps(),this._supportsHd=!1,this.saveResult(),this.trigger("failed"),this.end()},e.prototype.succeed=function(){if(this._sampleKbps(),this._supportsHd=!0,this.saveResult(),this.trigger("succeeded"),this.end(),this._suspiciouslyFast())return this._reportSuspiciousBandwidthTest()},e.prototype._reportSuspiciousBandwidthTest=function(){var e,n,i;try{if(this._suspiciouslyFast())return t.Metrics.count("player/suspicious-bandwidth-test",1,{bw_test_time:this._testTime,visitor_key:t.visitorKey.value(),location:("undefined"!=typeof location&&null!==location?null==(n=location.protocol)?void 0:n.length:void 0)&&("undefined"!=typeof location&&null!==location?null==(i=location.hostname)?void 0:i.length:void 0)?location.protocol+"//"+location.hostname:null,connection_type:t.Metrics.connectionType(),agent:navigator.userAgent})}catch(n){return e=n,t.error(e)}},e.prototype._suspiciouslyFast=function(){return.05>this._testTime},e.prototype._sampleKbps=function(){return this._testEnd=(new Date).getTime(),this._testTime=(this._testEnd-this._testStart)/1e3,this._kbps=8*this._testDataLoaded/1e3/this._testTime},e.prototype.endEarly=function(){return null==this._supportsHd&&null!=this._testDataLoaded?(this._sampleKbps(),this._supportsHd=!(1<this._testTime)||this._kbps>=this.opt.minKbps,this.trigger("ended-early"),this.end()):(this.end(),this.trigger("ended-early"))},e.prototype.end=function(){var e,n,i;return this._onTestXhrLoaded&&null!=(e=this._testXhr)&&e.removeEventListener("load",this._onTestXhrLoaded),this._onTestXhrProgress&&null!=(n=this._testXhr)&&n.removeEventListener("progress",this._onTestXhrProgress),null!=(i=this._testXhr)&&i.abort(),this._testXhr=null,t.clearTimeouts(this.uuid+".cancel_bandwidth_test"),this.trigger("ended")},e.prototype.testFileUrl=function(){return this.opt.testFileUrl||("https:"===t.proto()?"https://embed-ssl.wistia.com/deliveries/6992339c876a95a37250fbe5b0a0eaecca3018a5/file.jpg?bust=2015-12-29a":"http://embed-e.wistia.com/deliveries/6992339c876a95a37250fbe5b0a0eaecca3018a5/file.jpg?bust=2015-12-29a")},e.prototype.saveKey=function(){return this.opt.saveKey||"bandwidth_test"},e.prototype.saveResult=function(){return t.localStorage(this.saveKey(),{updatedAt:(new Date).getTime(),supportsHd:this._supportsHd,clientKbps:this._kbps})},e.prototype.savedResult=function(){return t.localStorage(this.saveKey())},e.prototype.isFresh=function(){var t,e;return(t=(new Date).getTime()-((null==(e=this.savedResult())?void 0:e.updatedAt)||0))<this.opt.freshFor},e.prototype.supportsHd=function(){return this._supportsHd||!1},e}(),t.mixin(t.BandwidthTest.prototype,t.bindable)}(Wistia)},function(){var t=function(t,n){function i(){this.constructor=t}for(var o in n)e.call(n,o)&&(t[o]=n[o]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;!function(e){e.ExternalPlayer||(e.ExternalPlayer=function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,n),i.prototype.playerType="external",i.prototype.elem=function(){return document.getElementById(this.uuid)},i.prototype.chromeElem=function(){return document.getElementById(this.uuid+"_external_player")},i.prototype.createEmbedElem=function(){var t,n;return n={id:this.uuid+"_external_player",style:{background:"transparent",display:"block",height:"100%",position:"relative",width:"100%"}},t={tagName:"a",href:this.sdAsset().url,id:this.uuid,target:"_parent",style:e.generate.relativeBlockCss(),alt:"Click to play video"},n.childNodes=[t],e.elem.fromObject(n)},i.prototype.stillUrl=function(t){return t=e.obj.merge({playButton:!1},t),i.__super__.stillUrl.call(this,t)},i.prototype.embed=function(){var t,n;return this._currentAsset=this.sdAsset(),this.data.asset=this._currentAsset,this.placeEmbed(this.createEmbedElem()),this.elem().wistiaApi=this,this.bigPlayButton=new e.Html5BigPlayButton(this).initialize(),this.bigPlayButton.bpb.elem.style.pointerEvents="none",this.bigPlayButton.bpb.backgroundElem.style.pointerEvents="none",this.still=new e.Html5Still(this).initialize(),this._opts.stillUrl=null==(t=this.still.thumbnail)||null==(n=t.img)?void 0:n.getAttribute("src"),"transparent"!==this._opts.wmode&&this.still.loaded(function(t){return function(){var n;return t.elem()&&e.elem.prepend(t.elem(),t.still.elem),null==(n=t.chromeElem())?void 0:n.style.backgroundColor="#000"}}(this)),e.elem.bind(this.elem(),"click",function(t){return function(){return t.trigger("play"),e.timeout(t.uuid+".fake_video_end",function(){return t.trigger("end"),t.trigger("afterend")},500),!0}}(this)),this.embedded(!0),this.checkForReady()},i.prototype.checkForReady=function(){var t;return this._checkDownState(),t=function(t){return function(){return e.timeout(t.uuid+".async_ready",function(){return t._hasBeenReady=!0,t.ready(!0)})}}(this),this._hasBeenReady?t():this.publicApi.up(t)},i.prototype.fit=function(){return i.__super__.fit.apply(this,arguments),this.embedded(function(t){return function(){var e,n;return null!=(e=t.still)&&e.fitStill(),null==(n=t.bigPlayButton)?void 0:n.reorient()}}(this))},i.prototype.play=function(){return this},i.prototype.time=function(t){return null==t?0:this},i.prototype.pause=function(){return this},i.prototype.volume=function(t){return null==t?1:this},i.prototype.bestAsset=function(){return this.sdAsset()},i.prototype.sdAsset=function(){return this.iphoneAsset()||this.mp4Asset()},i.prototype.mdAsset=function(){return this.iphoneAsset()||this.mp4Asset()},i.prototype.hdAsset=function(){return this.iphoneAsset()||this.mp4Asset()},i.prototype.initFrom=function(t){return e.elem.remove(t.wrapperElem),this.embed()},i}(e.Player))}(Wistia)},function(t,e,n){var i=function(t,e){return function(){return t.apply(e,arguments)}};!function(t){var e;if(!t.Popover)e=n(5).cdnFastWistiaComHost,t.Popover=function(){function n(e){var n;this.video=e,this.fitVideo=i(this.fitVideo,this),this.show=i(this.show,this),this.showAndPlay=i(this.showAndPlay,this),this.hide=i(this.hide,this),this.fitCloseButton=i(this.fitCloseButton,this),this.fitOverlay=i(this.fitOverlay,this),this.fit=i(this.fit,this),this._onLeaveVideoOrCloseButton=i(this._onLeaveVideoOrCloseButton,this),this._onEnterVideoOrCloseButton=i(this._onEnterVideoOrCloseButton,this),this.unexpandPlayButtonOnMouseOut=i(this.unexpandPlayButtonOnMouseOut,this),this.unexpandPlayButtonImmediately=i(this.unexpandPlayButtonImmediately,this),this.unexpandPlayButton=i(this.unexpandPlayButton,this),this.expandPlayButton=i(this.expandPlayButton,this),this.setupThumbnailAfterMediaData=i(this.setupThumbnailAfterMediaData,this),this.click=i(this.click,this),this.info("init"),this.uuid=t.seqId(),this._embedContainer=this.video._embedContainer,t.elem.addClass(this._embedContainer,"wistia_popover_embed"),this._thumbContainer=t.elem.fromObject({id:t.seqId()+".thumb_container",class:"wistia_click_to_play",style:{position:"relative"}}),"inline"===this.video.container.style.display&&t.elem.style(this._thumbContainer,{display:"inline"}),t.elem.append(this.video.container,this._thumbContainer),n=this.video._gatherOptions(),this.info("opts",n),"thumbnail"===n.popoverContent||null==n.popoverContent?this.video.hasData(this.setupThumbnailAfterMediaData):(this.info("init with bare html",this.video._startingHtml),this._thumbContainer.innerHTML=this.video._startingHtml,t.elem.bind(this._thumbContainer,"click",this.click)),this.resizeToContainer(),this.createCloseButton(),this.hide(!0),this.setupBindings(),this.video.embedded(function(t){return function(){if(t.video._opts.popoverShowOnLoad)return!1===t.video._opts.autoPlay?t.show():t.showAndPlay()}}(this))}var o=Math.round,r=Math.max;return n.prototype.click=function(t){return t.preventDefault(),this.showAndPlay()},n.prototype.isMobile=function(){return t.detect.ipad||t.detect.iphone||t.detect.android},n.prototype.setupThumbnailAfterMediaData=function(){return this.info("setupThumbnailAfterMediaData"),t.asyncChain(this.video.uuid+".popover.setup_thumbnail",[function(e){return function(){return e.initThumbnail(),t.elem.style(e.thumbnail.elem,{cursor:"pointer"})}}(this),function(t){return function(){return t.resizeToContainer()}}(this),function(t){return function(){return t.monitor()}}(this)])},n.prototype.initThumbnail=function(){var e,n;return this.thumbnail=new t.Thumbnail(this._thumbContainer,{tabbable:!0,fitStrategy:"cropfill",onActivate:this.showAndPlay,images:this.video._impl.thumbnailAssets(),bigPlayButton:!!t.util.notSetOrTrue(this.video._opts.playButton)&&(e={color:this.video.playerColor(),tabbable:!0},this.shouldAnimate()&&(e.autoHighlight=!1,t.util.notSetOrTrue(this.video._opts.popoverHoverDuration)&&(e.bottomText=this.shortHumanDuration(this.video.duration())),this.video._opts.popoverHoverName&&(e.topText=this.video.name())),e),onMouseover:this.shouldAnimate()?this.expandPlayButton:null,onMouseout:this.shouldAnimate()?this.unexpandPlayButtonOnMouseOut:null}),null!=(n=this.thumbnail.bigPlayButton)&&"function"==typeof n.removeBottomText&&n.removeBottomText(),this.thumbnail},n.prototype.shortHumanDuration=function(e){var n,i,o,r,s;return r=t.TimeHelper.secondsToIso8601(e),o=r.split(":"),n=o[0],i=o[1],s=o[2],0===parseInt(n)&&0===parseInt(i)?"0:"+s:0===parseInt(n)?parseInt(i)+":"+s:parseInt(n)+":"+i+":"+s},n.prototype.shouldAnimate=function(){return!0===this.video._opts.popoverAnimateThumbnail},n.prototype.expandPlayButton=function(){var t,e;return null==(t=this.thumbnail)||null==(e=t.bigPlayButton)?void 0:e.cover()},n.prototype.unexpandPlayButton=function(){var t,e;return null==(t=this.thumbnail)||null==(e=t.bigPlayButton)?void 0:e.uncover()},n.prototype.unexpandPlayButtonImmediately=function(){var t,e;return null==(t=this.thumbnail)||null==(e=t.bigPlayButton)?void 0:e.uncoverImmediately()},n.prototype.unexpandPlayButtonOnMouseOut=function(e){var n;if(!(n=t.elem.containsOffset(this.thumbnail.elem,e.pageX,e.pageY)))return this.unexpandPlayButton()},n.prototype.fixedSizeTooBigForWindow=function(){return this.video._popoverSize().width+160>t.elem.width(window)||this.video._popoverSize().height+160>t.elem.height(window)},n.prototype.isResponsive=function(){return!this.isFixedSize()},n.prototype.isFixedSize=function(){return!!this.video._opts.popoverSize},n.prototype.monitor=function(){return this.info("monitor container size"),this._lastWidth=this.containerWidth(),this._lastHeight=this.containerHeight(),t.eventLoop.add(this.video.uuid+"_popover.watch_popover_thumb_elem",300,function(t){return function(){if(t._lastWidth!==t.containerWidth()||t._lastHeight!==t.containerHeight())return t.preventAnimation(),t.resizeToContainer(),t.allowAnimation(),t._lastWidth=t.containerWidth(),t._lastHeight=t.containerHeight()}}(this))},n.prototype.resizeToContainer=function(){var e;return t.elem.style(this._thumbContainer,{height:this.containerHeight()+"px",width:this.containerWidth()+"px"}),null==(e=this.thumbnail)?void 0:e.fit()},n.prototype.containerWidth=function(){return t.elem.width(this.video.container)},n.prototype.containerHeight=function(){return t.elem.height(this.video.container)},n.prototype.setupBindings=function(){return this.video.videoFoam()||t.elem.bind(window,"resize",this.fit),this.video.bind("widthchange",this.fit),this.video.bind("heightchange",this.fit),null==this._showIfHidden&&(this._showIfHidden=function(t){return function(){if(!t._visible)return t.show()}}(this)),this.video.bind("play",this._showIfHidden),t.elem.bind(this._embedContainer,"mouseover",this._onEnterVideoOrCloseButton),t.elem.bind(this._embedContainer,"mouseout",this._onLeaveVideoOrCloseButton),t.elem.bind(this._closeButton,"mouseover",this._onEnterVideoOrCloseButton),t.elem.bind(this._closeButton,"mouseout",this._onLeaveVideoOrCloseButton)},n.prototype._onEnterVideoOrCloseButton=function(e){var n;if(this._visible&&(n=e.target||e.srcElement)&&(t.elem.isInside(n,this._embedContainer)||t.elem.isInside(n,this._closeButton)))return t.elem.style(this._closeButton,{opacity:.8})},n.prototype._onLeaveVideoOrCloseButton=function(e){var n;if((n=e.relatedTarget||e.toElement)&&t.elem.isInside(n,this._overlay))return t.elem.style(this._closeButton,{opacity:0})},n.prototype.unbindAll=function(){return t.elem.unbind(window,"resize",this.fit),this._overlay&&this._hideOnClick&&t.elem.unbind(this._overlay,"click",this._hideOnClick),this._hideOnEscape&&t.elem.unbind(document,"keyup",this._hideOnEscape),this.video.unbind("widthchange",this.fit),this.video.unbind("heightchange",this.fit),this._showIfHidden&&this.video.unbind("play",this._showIfHidden),t.elem.unbindAllInside(this._thumbContainer),t.elem.unbind(this._thumbContainer,"click",this.showAndPlay)},n.prototype.remove=function(){var e;return null!=(e=this.thumbnail)&&e.destroy(),this.unbindAll(),t.eventLoop.remove(this.video.uuid+"_popover"),t.clearTimeouts(this.video.uuid+"_popover"),t.elem.remove(this._thumbContainer),t.elem.remove(this._overlay),t.elem.remove(this._closeButton),t.elem.remove(this._captionElem),this._thumbContainer=this._overlay=this._captionElem=this.thumbnail=null},n.prototype.fit=function(){return this.fitOverlay(),this.fitCloseButton(),this.fitVideo()},n.prototype.bestOverlayHeight=function(){return r(t.elem.height(document),t.elem.height(window))},n.prototype.bestOverlayWidth=function(){return r(t.elem.width(document),t.elem.width(window))},n.prototype.createCloseButton=function(){return this._closeButton=t.elem.fromObject({id:this._embedContainer.id+"_popover_close_button",class:"wistia_placebo_close_button",alt:"Close",role:"button",tabindex:-1,"aria-label":"Close",style:{cursor:"pointer",height:"34px",left:0,opacity:0,position:"absolute",top:0,width:"34px",zIndex:10002},childNodes:[{tagName:"img",style:{height:"34px",verticalAlign:"top",width:"34px"}}]}),null==this._hideOnClickClose&&(this._hideOnClickClose=function(t){return function(){return t.hide()}}(this)),t.elem.rebind(this._closeButton,"click",this._hideOnClickClose),t.elem.append(document.body,this._closeButton)},n.prototype._closeButtonBase64=function(){return"data:image/gif;base64,R0lGODlhRABEAIABAP///////yH5BAEAAAEALAAAAABEAEQAAAKVjI+py+0Po5y02oszBPxyoGFfR41gWJlnpKJWu5muJzvw/NbLjefjruvRfgiecPg5GI/IzpLZfEKjyelMtbKisFoXltQVfcHhkkxaZtzQ6WIwwG4/42E03Rq/M+/6Xr9/RTTxVkc2aNiWqLjI2Oj4CBkpOUlZaXmJmam5ydnp+QkaKjpKWmp6ipqqusra6voKGyvbUwAAOw=="},n.prototype.createOverlay=function(){return this.destroyOverlay(),this.info("createOverlay"),this._overlay=t.elem.fromObject({id:this._embedContainer.id+"_overlay",class:"wistia_popover_overlay",style:{backgroundImage:"url("+t.proto()+"//"+e()+"/assets/images/blank.gif)",height:this.bestOverlayHeight()+"px",left:0,opacity:0,position:"absolute",top:0,width:this.bestOverlayWidth()+"px",zIndex:1e4}}),t.detect.browser.msie&&9>t.detect.browser.version?t.elem.style(this._overlay,{filter:this._overlayColor().toIeGradient()}):t.elem.style(this._overlay,{backgroundColor:this._overlayColor().toRgba()}),t.elem.append(document.body,this._overlay),this._blockClick=!0,null==this._hideOnClick&&(this._hideOnClick=function(t){return function(){if(t.info("hideOnClick",t._blockClick),!t._blockClick)return t.hide()}}(this)),t.elem.rebind(this._overlay,"click",this._hideOnClick),t.timeout(this.video.uuid+".popover.allow_click",function(t){return function(){return t._blockClick=!1}}(this),600)},n.prototype._overlayColor=function(){var e,n;return e=t.Player._sanePlayerColor(this.video._opts.popoverOverlayColor||"000000"),n=null==this.video._opts.popoverOverlayOpacity?.5:this.video._opts.popoverOverlayOpacity,new t.Color(e).alpha(n)},n.prototype._playerColor=function(){return new t.Color(this.video.playerColor()).alpha(.9)},n.prototype.destroyOverlay=function(){return this.info("destroyOverlay"),t.elem.remove(this._overlay),this._overlay=null},n.prototype.fitOverlay=function(){return this._visible&&this._overlay?t.elem.style(this._overlay,{height:this.bestOverlayHeight()+"px",width:this.bestOverlayWidth()+"px"}):void 0},n.prototype.fitCloseButton=function(){var e,n;return e=Math.min(34,this.bestVideoBoundingBox().left),n=e+"px",t.elem.style(this._closeButton,{width:n,height:n}),t.elem.style(this._closeButton.childNodes[0],{width:n,height:n})},n.prototype.hide=function(e){var n,i,o,r;return null==e&&(e=!1),this.info("hide"),r=this._visible,this._visible=!1,t.elem.removeClass(document.body,"wistia_popover_mode"),t.detect.browser.msie&&(9>t.detect.browser.version||t.detect.browser.quirks)&&(e=!0),(null==(o=this.video._opts)?void 0:o.popoverResume)&&0<this.video.time()&&this.video._saveState(),i=function(e){return function(){var n,i,o;return t.elem.style([e._embedContainer,e._closeButton],{boxShadow:"",position:"absolute",top:0}),e._closeButton.setAttribute("tabindex",-1),n=(null==(i=document.getElementsByTagName("html"))||null==(o=i[0])?void 0:o.dir)||"","rtl"===n?t.elem.style([e._embedContainer,e._closeButton],{right:"-99999px"}):t.elem.style([e._embedContainer,e._closeButton],{left:"-99999px"}),e.destroyOverlay(),e.destroyCaption(),!e.video._opts||e.video._opts.popoverPreventScroll?e.allowScroll():e.allowHorizontalScroll()}}(this),this.video.pause(),r&&t.timeout(this.uuid+".delayed_rebuild",function(t){return function(){return t.video.rebuild()}}(this),600),this.video.embedded(function(t){return function(){if(t.video._pauseEventLoop(),t.shouldAnimate())return t.unexpandPlayButtonImmediately()}}(this)),this.video.trigger("popoverhide"),!0===e?i():(n=this.animateArgs(),n.push(i),this.animateClose.apply(this,n))},n.prototype.animateClose=function(e,n,i){if(null==e&&(e=!0),this.info("animateClose",e,n),this._overlay&&(!e&&t.elem.style(this._overlay,{opacity:0}),setTimeout(function(e){return function(){return t.elem.animate(e._overlay,{opacity:0})}}(this),1)),e||t.elem.style([this._embedContainer,this._closeButton],{opacity:0}),setTimeout(function(e){return function(){return t.elem.animate([e._embedContainer,e._closeButton],{opacity:0,transform:e.transformProp(n)},{callback:i})}}(this),1),this._captionElem)return e||t.elem.style(this._captionElem,{opacity:0}),setTimeout(function(e){return function(){return t.elem.animate(e._captionElem,{opacity:0,transform:e.transformProp(n)})}}(this),1)},n.prototype.showAndPlay=function(){return this.info("showAndPlay"),this.show(),this.video.play()},n.prototype.transformProp=function(t){return"up"===t?"translate(0, "+o(this.fullHeight()/6)+"px)":"down"===t?"translate(0, "+-o(this.fullHeight()/6)+"px)":"left"===t?"translate("+o(this.fullWidth()/6)+"px, 0)":"right"===t?"translate("+-o(this.fullWidth()/6)+"px, 0)":""},n.prototype.animateOpen=function(e,n){if(null==e&&(e=!0),this.info("animateOpen",e,n),e||t.elem.style(this._overlay,{opacity:1}),e||t.elem.style([this._embedContainer],{opacity:1}),t.elem.style([this._embedContainer],{transform:this.transformProp(n)}),setTimeout(function(e){return function(){return t.elem.animate([e._embedContainer],{opacity:1,transform:"translate(0px, 0px)"}),t.elem.animate(e._overlay,{opacity:1})}}(this),1),this._captionElem)return e||t.elem.style(this._captionElem,{opacity:1}),t.elem.style(this._captionElem,{transform:this.transformProp(n)}),setTimeout(function(e){return function(){return t.elem.animate(e._captionElem,{opacity:1,transform:"translate(0px, 0px)"})}}(this),1)},n.prototype.animateArgs=function(){return t.detect.browser.msie&&(9>t.detect.browser.version||t.detect.browser.quirks)?[!1,"none"]:"fade"===this.video._opts.popoverAnimation?[!0,"none"]:"slide"===this.video._opts.popoverAnimation?this.slideOrFadeBasedOnPlayerType():"none"===this.video._opts.popoverAnimation?[!1,"none"]:this.slideOrFadeBasedOnPlayerType()},n.prototype.slideOrFadeBasedOnPlayerType=function(){return this.video.playerType,[!0,"none"]},n.prototype.show=function(){var e;return this.info("show"),this._visible=!0,t.elem.addClass(document.body,"wistia_popover_mode"),t.clearTimeouts(this.uuid+".delayed_rebuild"),this.video._opts.popoverPreventScroll?this.preventScroll():this.preventHorizontalScroll(),this._closeButton.childNodes[0].setAttribute("src",this._closeButtonBase64()),this._closeButton.setAttribute("tabindex",0),this.createOverlay(),this.applyVisibleStyles(),this.addCaption(),this.fitVideo(),this.animateOpen.apply(this,this.animateArgs()),this.setupVisibleBindings(),(null==(e=this.video._opts)?void 0:e.popoverResume)&&this.video.resume(),this.video.embedded(function(t){return function(){return t.video._unpauseEventLoop()}}(this)),this.video.trigger("popovershow")},n.prototype.preventScroll=function(){if(!this._savedCss)return this._savedCss={height:document.body.style.height||"",overflow:document.body.style.overflow||""},t.elem.style(document.body,{height:"100%",overflow:"hidden"})},n.prototype.allowScroll=function(){if(this._savedCss)return t.elem.style(document.body,{height:this._savedCss.height,overflow:this._savedCss.overflow}),this._savedCss=null},n.prototype.preventHorizontalScroll=function(){if(!this._savedCss)return this._savedCss={width:document.body.style.width||"","overflow-x":document.body.style["overflow-x"]||""},t.elem.style(document.body,{width:"100%","overflow-x":"hidden"})},n.prototype.allowHorizontalScroll=function(){if(this._savedCss)return t.elem.style(document.body,{width:this._savedCss.width,"overflow-x":this._savedCss["overflow-x"]}),this._savedCss=null},n.prototype.setupVisibleBindings=function(){return null==this._hideOnEscape&&(this._hideOnEscape=function(e){return function(n){if(27===n.keyCode)return e.info("hide on escape"),e.hide(),t.elem.unbind(document,"keyup",e._hideOnEscape)}}(this)),t.elem.rebind(document,"keyup",this._hideOnEscape)},n.prototype.applyVisibleStyles=function(){var e,n,i,o,r,s,a;return i=this.video._opts.popoverBorderWidth||0,e=new t.Color(this.video._opts.popoverBorderColor||"#ffffff").toHex(),n=this.video._opts.popoverBorderRadius||0,r=null==this.video._opts.popoverBoxShadowBlur?50:this.video._opts.popoverBoxShadowBlur,a=null==this.video._opts.popoverBoxShadowSpread?20:this.video._opts.popoverBoxShadowSpread,s=null==this.video._opts.popoverBoxShadow||this.video._opts.popoverBoxShadow,o=s?"0 0 "+r+"px "+a+"px rgba(0,0,0,.2)":"",t.elem.style(this._embedContainer,{border:i+"px solid #"+e,borderRadius:n+"px",boxShadow:o,boxSizing:"content-box",left:0,opacity:0,position:"absolute",top:0,zIndex:10001})},n.prototype.addCaption=function(){if(this.video._opts.popoverCaption||this.video._opts.popoverCaptionContainer)return this.destroyCaption(),this.info("addCaption"),this._captionElem=t.elem.fromObject({id:this.video.uuid+"_popover_caption",style:{color:"#ffffff",fontFamily:"Verdana, Geneva, sans-serif",fontSize:"14px",left:0,opacity:0,position:"absolute",top:0,width:0,zIndex:10001}}),t.elem.append(document.body,this._captionElem),
this.video._opts.popoverCaption?(this.info("build new caption with content",this.video._opts.popoverCaption),this._captionContainer?this._captionContainer.style.display="block":this._captionContainer=t.elem.fromObject({innerHTML:this.video._opts.popoverCaption,style:{padding:"10px 0 0 0"}}),t.elem.append(this._captionElem,this._captionContainer)):this.video._opts.popoverCaptionContainer?(this.info("use caption container",this.video._opts.popoverCaptionContainer),this._captionContainer?this._captionContainer.style.display="block":this._captionContainer=document.getElementById(this.video._opts.popoverCaptionContainer),t.elem.style(this._captionContainer,{display:"block"}),t.elem.append(this._captionElem,this._captionContainer)):void 0},n.prototype.destroyCaption=function(){return this.info("destroyCaption"),this._captionContainer&&(t.elem.style(this._captionContainer,{display:"none"}),t.elem.append(document.body,this._captionContainer)),t.elem.remove(this._captionElem),this._captionElem=null},n.prototype.fitCaption=function(){return this._captionElem?t.elem.style(this._captionElem,{left:parseInt(t.elem.style(this._embedContainer,"left"),10)+"px",top:parseInt(t.elem.style(this._embedContainer,"top"),10)+this.fullHeight()+"px",width:this.fullWidth()+"px"}):void 0},n.prototype.height=function(e,n){return null==n&&(n={}),null==e?t.elem.height(this.video.container):(this.preventAnimation(),t.elem.style(this.video.container,{height:e+"px"}),n.constrain&&t.elem.style(this.video.container,{width:this.video.widthForHeight(e)+"px"}),this.resizeToContainer(),this.allowAnimation(),this)},n.prototype.width=function(e,n){return null==n&&(n={}),null==e?t.elem.width(this.video.container):(this.preventAnimation(),t.elem.style(this.video.container,{width:e+"px"}),n.constrain&&t.elem.style(this.video.container,{height:this.video.heightForWidth(e)+"px"}),this.resizeToContainer(),this.allowAnimation(),this)},n.prototype.preventAnimation=function(){return null==this._wistiaNoAnimateStyle&&(this._wistiaNoAnimateStyle=t.css(this._thumbContainer,".wistia_no_animate * {\ntransition: none !important;\n-mozilla-transition: none !important;\n-ms-transition: none !important;\n-o-transition: none !important;\n-webkit-transition: none !important;\n}")),t.elem.addClass(this._thumbContainer,"wistia_no_animate")},n.prototype.allowAnimation=function(){return this._thumbContainer.offsetTop,t.elem.removeClass(this._thumbContainer,"wistia_no_animate")},n.prototype.fullWidth=function(){var t;return this.video.width()+2*((null==(t=this.video._opts)?void 0:t.popoverBorderWidth)||0)},n.prototype.fullHeight=function(){var t;return this.video.height()+2*((null==(t=this.video._opts)?void 0:t.popoverBorderWidth)||0)},n.prototype.fitVideo=function(){return this._visible?this.video.embedded(function(e){return function(){var n,i,o,r;return e.video._doMonitor(),n=e.bestVideoBoundingBox(),i=(null==(o=document.getElementsByTagName("html"))||null==(r=o[0])?void 0:r.dir)||"","rtl"===i?(t.elem.style(e._embedContainer,{right:n.left+"px",top:n.top+"px"}),t.elem.style(e._closeButton,{right:n.right+17+"px",top:n.top+"px"})):(t.elem.style(e._embedContainer,{left:n.left+"px",top:n.top+"px"}),t.elem.style(e._closeButton,{left:n.right+"px",top:n.top+"px"})),e.fitCaption()}}(this)):void 0},n.prototype.bestVideoBoundingBox=function(){var e,n,i,r,s,a,l,u;return a=t.elem.width(window),s=t.elem.height(window),u=this.fullWidth(),n=this.fullHeight(),i=t.util.scrollLeft()+o((a-u)/2),l=t.util.scrollTop()+o((s-n)/2),r=i+u,e=l+n,{top:l,left:i,right:r,bottom:e,width:u,height:n}},n}(),t.mixin(t.Popover.prototype,t.logHelpers),t.Popover.prototype._logPrefix=function(){var t,e;return["popover",(null==(t=this.video)?void 0:t.hashedId())||"no hashedId",null==(e=this._thumbContainer)?void 0:e.id]}}(Wistia)},function(t,e,n){var i,o,r=function(t,e){return function(){return t.apply(e,arguments)}};i=n(0).default,o=i.lib("utilities/obj").assign,function(t){t.VideoTracker2||(t.VideoTracker2=function(){function e(e){this.publicApi=e,this.onLookChange=r(this.onLookChange,this),this.resendAllFailedEvents=r(this.resendAllFailedEvents,this),this.retrySendingFailedEvent=r(this.retrySendingFailedEvent,this),this.eventQueue=[],this.clockStart=(new Date).getTime(),this.isIE=navigator.userAgent.match(/Trident/)||navigator.userAgent.match(/MSIE/),this.initializedOnce=!1,this.monitoring=!1,this.publicApi.hasData(function(e){return function(){e.params=t.extend({transmitInterval:1e3*(e.publicApi._mediaData.trackingTransmitInterval||10)},e.publicApi._opts),e.publicApi._attrs.shouldTrack}}(this))}var n=Math.abs;return e.prototype.conversions={"missing-conversion":0,"pre-roll-email":1,"post-roll-email":2,"mid-roll-email":3,"post-roll-click":4,"mid-roll-click":5,"non-video":6},e.prototype._getAccountKey=function(){return this.publicApi._opts.accountKey||this.publicApi._mediaData.accountKey},e.prototype._data=function(){var t;return t={account_key:this._getAccountKey(),session_id:this.visitorKey(),media_id:this.publicApi._mediaData.mediaKey,event_key:this.eventKey(),media_duration:parseFloat(this.publicApi._mediaData.duration),visitor_version:this._getVisitorVersion(),referrer:this.publicApi._attrs.pageUrl,event_details:this.eventQueue,foreign_data:this.publicApi.foreignData()},this.publicApi.email()&&(t.email=this.publicApi.email()),this.publicApi._opts.anonymizeIp&&(t.anonymizeIp=!0),this.params.conversionType&&(t.conversion_type=this.conversions[this.params.conversionType]),this.params.conversionData&&(t.conversion_data=this.params.conversionData),JSON.stringify(t)},e.prototype._secondsSinceTime=function(t){return t?Math.round(((new Date).getTime()-t)/1e3):null},e.prototype.nullToNone=function(t){return null===t?"none":t},e.prototype.lastLoadForAccount=function(){return this.nullToNone(this._secondsSinceTime(Wistia.localStorage("accounts_loaded."+this._getAccountKey())))},e.prototype.lastLoadForMedia=function(){return this.nullToNone(this._secondsSinceTime(Wistia.localStorage("medias_loaded."+this.publicApi.hashedId())))},e.prototype.lastPlayForAccount=function(){return this.nullToNone(this._secondsSinceTime(Wistia.localStorage("accounts_played."+this._getAccountKey())))},e.prototype.lastPlayForMedia=function(){return this.nullToNone(this._secondsSinceTime(Wistia.localStorage("medias_played."+this.publicApi.hashedId())))},e.prototype.lastRecordingOfActionForMedia=function(t){return this.nullToNone(this._secondsSinceTime(Wistia.localStorage("action_recorded."+this.publicApi.hashedId()+"."+t)))},e.prototype.recordLastActionForMedia=function(t){return Wistia.localStorage("action_recorded."+this.publicApi.hashedId()+"."+t,(new Date).getTime())},e.prototype.recordLoad=function(){return this.publicApi.info("recordLoad"),Wistia.localStorage("accounts_loaded."+this._getAccountKey(),(new Date).getTime()),Wistia.localStorage("medias_loaded."+this.publicApi.hashedId(),(new Date).getTime())},e.prototype.recordPlay=function(){return this.publicApi.info("recordPlay"),Wistia.localStorage("accounts_played."+this._getAccountKey(),(new Date).getTime()),Wistia.localStorage("medias_played."+this.publicApi.hashedId(),(new Date).getTime())},e.prototype.isValidKey=function(t){return 25<(null==t?void 0:t.length)&&/^[a-z0-9_\-\.]+$/i.test(t)},e.prototype._saveVisitorVersion=function(t){if(null==t&&(t=1),null==Wistia.localStorage("visitor_version"))return Wistia.localStorage("visitor_version",t)},e.prototype._getVisitorVersion=function(){var t;return(t=Wistia.localStorage("visitor_version"))||(this._saveVisitorVersion(0),0)},e.prototype.reset=function(){return this.stopMonitoring(),this.initializedOnce=!1,this._eventKey=null},e.prototype.initialize=function(){return this.initializedOnce||(this.publicApi.info("video tracker initialize"),this._lastLoadForAccount=this.lastLoadForAccount(),this._lastLoadForMedia=this.lastLoadForMedia(),this._lastPlayForAccount=this.lastPlayForAccount(),this._lastPlayForMedia=this.lastPlayForMedia(),this._failedEventsQueue=[],this._retryTimer=null,this._retryInterval=1e3,this.initializedOnce=!0,this.log("initialized"),this.recordLoad(),this.debounceTransmit()),this},e.prototype.monitor=function(){return this.publicApi.embedded(function(e){return function(){return e.stopMonitoring(),e.publicApi.info("_tracker.monitor"),e.initialize(),null==e.onPlaybackRateChange&&(e.onPlaybackRateChange=function(t){return e.log("playbackRateChange",null,t)}),null==e.onPlay&&(e.onPlay=function(){if(e.log("play"),e._logCurrentCameraPosition(),e.recordPlay(),!e._played)return e._played=!0,e.debounceTransmit()}),null==e.onPause&&(e.onPause=function(){if(.3<n(e.publicApi.duration()-e.publicApi.time()))return e.log("pause")}),null==e.onEnd&&(e.onEnd=function(){return e.log("end"),e._logCurrentCameraPosition(),e.transmit()}),null==e.onSeek&&(e.onSeek=function(t,i){if(5<=n(i-t))return e.log("seek")}),null==e.onPercentWatchedThreshold&&(e.onPercentWatchedThreshold=function(t){return e.log("percentWatchedThreshold",null,t),e.transmit()}),e.monitoring=!0,e.publicApi.rebind("play",e.onPlay),e.publicApi.rebind("pause",e.onPause),e.publicApi.rebind("end",e.onEnd),e.publicApi.rebind("seek",e.onSeek),e.publicApi.rebind("playbackratechange",e.onPlaybackRateChange),e.publicApi.rebind("percentWatchedThreshold",e.onPercentWatchedThreshold),e.monitorCameraPosition(),"playing"===e.publicApi.state()&&e.onPlay(),t.timeout(e.publicApi.uuid+".start_tracking_timeout",function(){return e.publicApi.info("_tracker start tracking_loop"),t.eventLoop.add(e.publicApi.uuid+".tracking_loop",e.params.transmitInterval,function(){return"playing"===e.publicApi.state()&&e.log("update"),e.transmit()})},Math.random()*e.params.transmitInterval+1e3)}}(this))},e.prototype.stopMonitoring=function(){return this.publicApi.info("_tracker.stopMonitoring"),this.monitoring=!1,this.onPlay&&this.publicApi.unbind("play",this.onPlay),this.onPause&&this.publicApi.unbind("pause",this.onPause),this.onEnd&&this.publicApi.unbind("end",this.onEnd),this.onSeek&&this.publicApi.unbind("seek",this.onSeek),this.onPercentWatchedChanged&&this.publicApi.unbind("percentwatchedchanged",this.onPercentWatchedChanged),this.unmonitorCameraPosition()},e.prototype.distilleryUrl=function(){return this.publicApi._opts.statsUrl||this.publicApi._mediaData.distilleryUrl},e.prototype.sendToDistillery=function(e){return t.detect.browser.msie&&11>t.detect.browser.version?this.sendDataUsingJsonp(e):this.sendDataUsingXhr(e)},e.prototype.sendDataUsingXhr=function(e){var n;return n=3e4,t.remote.post(this.distilleryUrl(),{contentType:"text/plain",data:encodeURIComponent(e),timeout:n})},e.prototype.sendDataUsingJsonp=function(e){var n,i;return n=3e4,i=this.distilleryUrl()+"?data="+encodeURIComponent(e),this.isIE&&(i+="&ie=1"),t.remote.script(i,null,n)},e.prototype.retrySendingFailedEvent=function(){return this.sendToDistillery(this._failedEventsQueue.shift())},e.prototype.resendAllFailedEvents=function(){var t,e,n,i,o,r,s,a;if(i=this._failedEventsQueue.length,clearTimeout(this._retryTimer),!!(0<i)){for(a=350,s=this._failedEventsQueue,e=function(t){return function(e,n){return setTimeout(function(){return t.sendToDistillery(e)},a*n)}}(this),n=o=0,r=s.length;o<r;n=++o)t=s[n],e(t,n);return this._failedEventsQueue=[]}},e.prototype.transmit=function(e){return null==e&&(e={}),this.publicApi._attrs.shouldTrack?t.util.pageLoaded(function(n){return function(){return t.visitorKey.ready(function(){var i,o;if((0<n.eventQueue.length||e.force)&&(i=n._data(),n.publicApi.info("_tracker.transmit",i),n.publicApi.trigger("transmit-stats",i),n.sendToDistillery(t.base64.encode(i)),n.eventQueue=[]),!t.visitorKey._reported&&(t.visitorKey._reported=!0,o=t.visitorKey.origin(),("new"===o||"timeout"===o)&&t.Metrics.videoCount(n.publicApi,"player/visitor_key/new",1,{visitor_key:t.visitorKey.value(),visitor_key_origin:o}),"timeout"===o&&t.Metrics.videoCount(n.publicApi,"player/visitor_key/shim_timeout",1,{visitor_key:t.visitorKey.value()}),"suggested"===o&&t.Metrics.videoCount(n.publicApi,"player/visitor_key/suggested",1,{visitor_key:t.visitorKey.value()}),/-conflict$/.test(o)))return t.Metrics.videoCount(n.publicApi,"player/visitor_key/conflict",1,{visitor_key:t.visitorKey.value()})})}}(this)):void 0},e.prototype.debounceTransmit=function(){return t.timeout(this.publicApi.uuid+".transmit_play_data",function(t){return function(){return t.transmit()}}(this),350)},e.prototype.log=function(t,e,n){var i;if(this.publicApi._attrs.shouldTrack)return this.publicApi.info("_tracker.log",t,e,n),"conversion"===t?(this.params.conversionType=e,this.params.conversionData=n,this.transmit({force:!0})):(i={key:t,value:this.timeInVideo(),timeDelta:this.timeDelta()},"initialized"===t?(i.lastAccountInstance=this._lastLoadForAccount,i.lastMediaInstance=this._lastLoadForMedia):"play"===t?(i.lastAccountInstance=this._lastPlayForAccount,i.lastMediaInstance=this._lastPlayForMedia):"playbackRateChange"===t?i.value=n:"percentWatchedThreshold"===t?i.value=n:"cameraPosition"===t&&(i.value=n),this.publicApi.debug("_tracker.log",i),this.eventQueue.push(i))},e.prototype.logConversionOpportunity=function(e){var n;return this.publicApi._attrs.shouldTrack?null==e.co_key?t.Metrics.videoCount(this.publicApi,"player/no-co-key",1):(n={key:"conversion",value:e,timeDelta:this.timeDelta()},this.publicApi.info("_tracker.logConversionOpportunity",e),this.eventQueue.push(n)):void 0},e.prototype.logAction=function(t,e){var n,i,r;return null==e&&(e={}),n={time:this.publicApi.time(),key:t,type:"default",category:"default",text:"test",uniqueToVisitor:!1},i=o({},n,e),r={value:i,key:"action",timeDelta:this.timeDelta()},this.eventQueue.push(r)},e.prototype.clearActionRecordings=function(){return["chapterImpression","chapterConversion","shareImpression","shareConversion"].forEach(function(t){return function(e){return Wistia.localStorage("action_recorded."+t.publicApi.hashedId()+"."+e,"",!0)}}(this))},e.prototype.logCaptionSelection=function(t){var e;if(this.publicApi._attrs.shouldTrack)return t.caption_key?(e={key:"caption",value:t,timeDelta:this.timeDelta()},this.publicApi.info("_tracker.logCaptionSelection",t),this.eventQueue.push(e)):void 0},e.prototype.logChapterClick=function(t,e){return this.logAction("chapterConversion",{text:t.title,type:"conversion",category:"chapter",uniqueToVisitor:!0,time:e}),this.logAction("chapterSelection-"+t.id,{text:t.title,type:"interaction",category:"chapter",time:e})},e.prototype.logShareClick=function(t){return this.logAction("shareConversion",{text:t,type:"conversion",category:"share",uniqueToVisitor:!0}),this.logAction("shareClick-"+t,{text:t,type:"interaction",category:"share"})},e.prototype.timeInVideo=function(){var t;return t=this.publicApi.time(),null==t&&(t="beforeplay"===this.publicApi.state()?0:this.publicApi.duration()),t.toFixed(1)},e.prototype.timeDelta=function(){return(new Date).getTime()-this.clockStart},e.prototype.visitorKey=function(){return t.visitorKey.ready()?t.visitorKey.value():null},e.prototype.eventKey=function(){return this.isValidKey(this._eventKey)?this._eventKey:(this._eventKey=t.uniqId("eac9c345f50650e899cfb59ae7e0cb69".substring(0,7)+"_"),this._eventKey)},e.prototype.monitorCameraPosition=function(){return this._lastPitch=0,this._lastHeading=0,this.publicApi.rebind("lookchange",this.onLookChange)},e.prototype.unmonitorCameraPosition=function(){return this.publicApi.unbind("lookchange",this.onLookChange)},e.prototype.onLookChange=function(t){var e;if("playing"===this.publicApi.state())return this._heading=t.heading,this._pitch=t.pitch,e=this._getIsInsidePauseBoundary(),this._cameraPauseTimeoutSet?!e&&(clearTimeout(this._cameraPauseTimeout),this._cameraPauseTimeoutSet=!1):!e&&(this._setPauseTimeout(),this._prevIsInsidePauseBoundary&&this._logCurrentCameraPosition()),this._prevIsInsidePauseBoundary=e},e.prototype._logCurrentCameraPosition=function(){var t,e,n,i;if(null!=(i=this.publicApi._mediaData)&&i.spherical)return!(n="function"==typeof(t=this.publicApi).look?t.look():void 0)?void 0:(this._heading||(this._heading=n.heading),this._pitch||(this._pitch=n.pitch),e=this.publicApi.time()+","+this._heading.toFixed()+","+this._pitch.toFixed(),this.log("cameraPosition",null,e))},e.prototype._setPauseTimeout=function(){return this._startHeading=this._heading,this._startPitch=this._pitch,this._cameraPauseTimeoutSet=!0,this._cameraPauseTimeout=setTimeout(function(t){return function(){return t._cameraPauseTimeoutSet=!1,t._logCurrentCameraPosition()}}(this),250)},e.prototype._getIsInsidePauseBoundary=function(){var t,e;return null==this._startHeading&&(this._startHeading=0),null==this._startPitch&&(this._startPitch=0),t=this._angularDistance(this._heading,this._startHeading),e=this._angularDistance(this._pitch,this._startPitch),5>t&&5>e},e.prototype._angularDistance=function(t,e){return Math.min(360-n(t-e),n(t-e))},e}())}(Wistia)},function(t,e,n){var i;i=n(13),Wistia.base64||(Wistia.base64={}),Wistia.base64.decode||(Wistia.base64._keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Wistia.base64.encode=i.base64Encode)},function(t,e,n){var i;i=n(13),Wistia.base64||(Wistia.base64={}),Wistia.base64.decode||(Wistia.base64._keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Wistia.base64.decode=i.base64Decode)},function(t,e,n){!function(t){var e,i,o,r,s,a,l,u,c,h;if(!t.remote)l=n(19),a=n(15),i=n(18),o=t.Hosts=n(5),e=t.Ajax=n(24),r=t.MediaData=n(30),s=t.PlaylistData=n(31),h=n(17),u=h.jsonp,c=h.jsonpPlus,t.remote={},t.remote.appHostname=l,t.remote.embedHost=o.cdnFastWistiaComHost,t.remote.externalEmbedHost=o.cdnFastWistiaNetHost,t.remote.appHost=o.appHost,t.remote.assetHost=o.deliveryHost,t.remote.assetUrlWithCorrectHost=function(t,e,n){return i.assetUrlWithCorrectHost(e,n)},t.remote.findScriptInDomBySrc=a.findScriptInDomBySrc,t.remote.script=a.runScript,t.remote.scripts=a.runScripts,t.remote.scriptInputsToHash=a.scriptInputsToHash,t.remote.ajaxDefaults=e.AJAX_DEFAULTS,t.remote.get=e.ajaxGet,t.remote.head=e.ajaxHead,t.remote.post=e.ajaxPost,t.remote.ajax=e.ajax,t.remote.canEditMedia=r.canEditMedia,t.remote.media=r.fetchMedia,t.remote._isEmbedSslMedia=r.isEmbedSslMedia,t.remote._convertEmbedSslToAkamai=r.convertEmbedSslToAkamai,t.cacheMedia=r.cacheMedia,t.uncacheMedia=r.uncacheMedia,t.mediaFromCache=r.mediaFromCache,t.remote.playlist=s.fetchPlaylist,t.remote.fetch=c,t.jsonp={get:u}}(Wistia)},function(t,e,n){!function(t){var e,i,o,r,s,a;if(!t.Metrics)i=n(5).metricsHost,r=n(32),o=r.msend,a=r.send,e=r.count,s=r.sample,t.Metrics={count:e,sample:s,send:a,msend:o,videoCount:function(t,e,n,i){return null==n&&(n=1),this.videoSend(t,"count",e,n,i)},videoSample:function(t,e,n,i){return this.videoSend(t,"sample",e,n,i)},videoSend:function(e,n,i,o,r){return null==r&&(r={}),"function"==typeof e.hasData?e.hasData(function(s){return function(){var a,l,u,c,h,d,p,f,m,y,g,v,b,_,w;if(a=("function"==typeof e.bandwidthTest?e.bandwidthTest().savedResult():void 0)||{},r=t.obj.merge({location:("undefined"!=typeof location&&null!==location?null==(u=location.protocol)?void 0:u.length:void 0)&&("undefined"!=typeof location&&null!==location?null==(f=location.hostname)?void 0:f.length:void 0)?location.protocol+"//"+location.hostname:null,agent:navigator.userAgent,account_key:null==(m=e._mediaData)?void 0:m.accountKey,at:e.time(),video_id:e.hashedId(),embed_type:e.playerType,duration:e.duration(),client_kbps:a.clientKbps,supports_hd:a.supportsHd,autoplay:null!=(y=e._opts)&&y.autoPlay,in_iframe:top!==self,device_pixel_ratio:window.devicePixelRatio,window_width:t.elem.width(window),window_height:t.elem.height(window),video_width:e.videoWidth(),video_height:e.videoHeight(),visitor_key:null==(g=e._tracker)?void 0:g.visitorKey(),event_key:null==(v=e._tracker)?void 0:v.eventKey(),event_time_delta:null==(b=e._tracker)?void 0:b.timeDelta(),connection_type:s.connectionType(),version:9,channel:t.channelName},r),/romulus|html5|vulcan/.test(e.playerType)&&(t.detect.trident?r.errorState=null==(_=e.elem())||null==(w=_.error)?void 0:w.code:r.errorState=null==(c=e.elem())?void 0:c.error),null!=e._cacheStatus&&(r.cache_status=e._cacheStatus),null!=e._assetServer&&(r.asset_server=e._assetServer),null!=e._cacheHit&&(r.cache_hit=e._cacheHit),e.inFullscreen&&(r.in_fullscreen=e.inFullscreen()),null==e._substream?(r.substream=null,r.adaptive=null,l=null==(h=e.data)?void 0:h.asset):(r.substream=e._substream.index,r.adaptive=e._substream.adaptive,r.current_level=e._substream.currentLevel,r.all_level_names=e._substream.allLevelNames,l=e._substream.asset,r.hls_error_counts=e._substream.hlsErrorCounts()),null!=l&&(r.asset_type=l.type,r.asset_slug=l.slug,r.bitrate=l.bitrate,r.asset_height=l.height,r.asset_width=l.width),0<(null==(d=e.videoElem)||null==(p=d.buffered)?void 0:p.length)&&(r.bufferedFrom0=e.videoElem.buffered.end(0)),null!=e._timeToFirstByte&&(r.time_to_first_byte=e._timeToFirstByte),r.buffered=null==e.totalBuffered?void 0:e.totalBuffered(),r.played=null==e.totalPlayed?void 0:e.totalPlayed(),s.send(n,i,o,r),e._mediaData&&e._mediaData.accountKey&&e._mediaData.accountSpecificMetrics)return s.send(n,e._mediaData.accountKey+"/"+i,o,r)}}(this)):void 0},countEvent:function(t,e,n){var i;return n||(n=e),null==(i=this._private.countEventCallbacks)[n]&&(i[n]=this._private.mkCountEventCallback(e,n)),t.rebind(e,this._private.countEventCallbacks[n])},countEventOnce:function(t,e,n){var i;return n||(n=e),null==(i=this._private.countEventOnceCallbacks)[n]&&(i[n]=this._private.mkCountEventOnceCallback(e,n)),t.rebind(e,this._private.countEventOnceCallbacks[n])},sampleEvent:function(t,e,n){var i;return n||(n=e),null==(i=this._private.sampleEventCallbacks)[n]&&(i[n]=this._private.mkSampleEventCallback(e,n)),t.rebind(e,this._private.sampleEventCallbacks[n])},countShowLoadingOnce:function(t){var e;return e=-1,t.bind("waiting",function(n){return function(i){return 2>e&&2<=i?(n.videoCount(t,"player/show-loading/first",1),e=i,t.unbind):e=i}}(this))},countShowLoadingAll:function(t){var e;return e=-1,t.bind("waiting",function(n){return function(i){return 2>e&&2<=i&&n.videoCount(t,"player/show-loading/all",1),e=i}}(this)),t.bind("done-waiting",function(){return e=-1})},countShowLoadingLongTimeOnce:function(t){var e;return e=-1,t.bind("waiting",function(n){return function(i){return 5>e&&5<=i?(n.videoCount(t,"player/show-loading-long-time/first",1),e=i,t.unbind):e=i}}(this))},countShowLoadingLongTimeAll:function(t){var e;return e=-1,t.bind("waiting",function(n){return function(i){return 5>e&&5<=i&&n.videoCount(t,"player/show-loading-long-time/all",1),e=i}}(this)),t.bind("done-waiting",function(){return e=-1})},assetBuckets:function(e){var n,i;return n=e.engine?e.engine.currentAsset():e._currentAsset,i=t.detect.iphone||t.detect.android||t.detect.blackberry||/mobile/i.test(navigator.userAgent),n?i?t.detect.iphone?["mobile","iphone"]:t.detect.android?["mobile","android"]:["mobile"]:/hls/.test(n.type)?["hls"]:/md/.test(n.type)?["md"]:/hd/.test(n.type)?["hd"]:["sd"]:[]},connectionType:function(){var t;return t=window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection,null==t?void 0:t.type},sumTimeRanges:function(t){var e,n,i,o;if(null==t)return null;for(o=0,e=n=0,i=t.length;0<=i?n<i:n>i;e=0<=i?++n:--n)o+=t.end(e)-t.start(e);return o},millisecondsSince:function(t){return(new Date).getTime()-t},_private:{countEventCallbacks:{},mkCountEventCallback:function(e,n){return function(i){return n||(n=e),t.Metrics.videoCount(this,"player/"+n,i)}},countEventOnceCallbacks:{},mkCountEventOnceCallback:function(e,n){return function(i){return n||(n=e),t.Metrics.videoCount(this,"player/"+n,i),this.unbind}},sampleEventCallbacks:{},mkSampleEventCallback:function(e,n){return function(i){return n||(n=e),t.Metrics.videoSample(this,"player/"+n,i)}}}}}(Wistia)},function(){!function(t){if(t.Plugin||(t.Plugin={}),!t.Plugin.Base)t.Plugin.Base=function(){function e(){this.pluginName="plugin"}return e.prototype.instances=function(){return t.data(["plugins",this.pluginName,this.video.uuid])},e.prototype.register=function(e){var n;return n=this.playlist||this.video,n.plugins[this.uuid]=e,t.data(["plugins",this.pluginName,n.uuid,this.uuid],e)},e.prototype.remove=function(e){var n;if(null==e&&(e={}),n=this.playlist||this.video,n.plugins[this.uuid]=null,t.removeData(["plugins",this.pluginName,n.uuid,this.uuid]),n.plugins[this.uuid]===this&&delete n.plugins[this.uuid],n.plugin[this.pluginName]===this&&delete n.plugin[this.pluginName],!e.dontFit)return t.grid.fitHorizontal(n),t.grid.fitVertical(n)},e.prototype.fit=function(){},e.prototype.init=function(e,n){return null==e.plugins&&(e.plugins={}),(null==e?void 0:e.playlist)?this.playlist=e:this.video=e,this.target=this.playlist||this.video,this.options=n||{},this.params=t.extend({},n||{}),this.uuid=this.params.uuid||t.seqId("wistia_","_plugin")},e}(),t.plugin||(t.plugin=function(e,n){var i,o,r,s,a,l;if((i=null==(s=t.pluginQueue)||null==(a=s[e])?void 0:a.shift())&&(r=function(){var t,o;return i.video.info("initializing plugin",e,i.options),t=n(i.video._impl||i.video,i.options)||!0,i.video.plugin[e]=t,i.video._impl&&(i.video._impl.plugin[e]=t),i.video.trigger("plugininitialized",e),null==(o=i.video._pluginStopGos)?void 0:"function"==typeof o[e]?o[e](!0,t):void 0},o=function(){return i.options.initBeforeHasData?r():i.video.hasData(r)},!0!==i.options.initBeforeHasData&&(null==(l=i.video)?void 0:l.looksDown())?(i.video.notice('W.plugin: delaying initialization of plugin until "up"',e,i.options),i.video.bind("up",function(){return o(),this.unbind})):i.video._implVersion===i.implVersion?o():i.video.notice("W.plugin impl changed, ignoring initialization",e,i.options)),!t.plugin[e])return t.plugin[e]=n},t.plugin._scriptsFromVideo=function(e){var n,i,o,r,s,a,l,u,c,h,d,p,f,m,y,g;if(u=t.plugin._scriptsFromOptions(e._opts),u=u.concat(t.plugin._scriptsFromOptions({plugin:e._playerPlugins||[]})),(t.detect.safari||t.detect.iphone||t.detect.ipad)&&"vulcan-v2"===e._opts.playerPreference&&(n={name:"airplay",options:(null==(c=e._opts.plugin)?void 0:c.airplay)||{},async:!0,src:t.proto()+"//"+t.remote.embedHost()+"/assets/external/airplay.js"},u.push(n)),"vulcan-v2"===e._opts.playerPreference&&e._opts.chaptersOn&&(null==(h=e._opts.plugin)||!h.chapters)&&(u=u.concat(t.plugin._scriptsFromOptions({plugin:{chapters:{async:!1}}}))),"vulcan-v2"===e._opts.playerPreference&&(null==(d=e._opts.plugin)?void 0:d["captions-v1"]))for(i=0,s=u.length;i<s;i++)g=u[i],"captions-v1"===g.name&&(g.name="captions",g.src=g.src.replace(/captions-v1/,"captions"));if("vulcan-v2"===e._opts.playerPreference&&(null==(p=e._opts.plugin)?void 0:p.share))for(o=0,a=u.length;o<a;o++)g=u[o],"share"===g.name&&(g.name="share-v2",g.src=g.src.replace(/share/,"share-v2"));if("vulcan-v2"===e._opts.playerPreference&&(null==(f=e._opts.plugin)?void 0:f["postRoll-v1"]))for(r=0,l=u.length;r<l;r++)g=u[r],"postRoll-v1"===g.name&&(g.name="postRoll-v2",g.src=g.src.replace(/postRoll-v1/,"postRoll-v2"));return"vulcan-v2"===e._opts.playerPreference&&e._opts.showCustomerLogo&&e._opts.customerLogoImageUrl&&e._mediaData.enableCustomerLogo&&u.push({name:"customerLogo",options:(null==(m=e._opts.plugin)?void 0:m.customerLogo)||{},async:!0,src:t.proto()+"//"+t.remote.embedHost()+"/assets/external/customerLogo.js"}),"vulcan-v2"===e._opts.playerPreference&&(!0===e._opts.branding||!0===e._mediaData.branding)&&u.push({name:"wistiaLogo",options:(null==(y=e._opts.plugin)?void 0:y.wistiaLogo)||{},async:!0,src:t.proto()+"//"+t.remote.embedHost()+"/assets/external/wistiaLogo.js"}),t.plugin._setFnForDefinedPlugins(e,u),u},t.plugin._prefetched={},t.plugin._scriptsFromOptions=function(e){var n,i,o,r,s,a,l;for(i in r=[],s=e.plugin)o=s[i],!!e.plugin.hasOwnProperty(i)&&!1!==(null==o?void 0:o.on)&&(a=t.plugin._getSourceName(i),n={name:a,options:o,src:t.proto()+"//"+t.remote.embedHost()+"/assets/external/"+a+".js",async:null==o.async?!/^(requireEmail|captions|socialbar|transcript|midrollLink|share)/.test(i):o.async},o.src&&t.plugin._allow3rdParty(e)&&(n.src=o.src),/transcript/.test(i)&&(l="https:"===t.proto()?"https://s3.amazonaws.com/origin-p3.3playmedia.com/javascripts/vendor/jquery-1.6.2.min.js":"http://p3.3playmedia.com/javascripts/vendor/jquery-1.6.2.min.js",r.push({src:l,async:!1})),r.push(n));return t.plugin._orderScripts(r)},t.plugin._orderScripts=function(t){var e,n;return e=function(t){var e;return e=0,null!=(null==t?void 0:t.options)&&"loadWeight"in t.options&&(e=t.options.loadWeight),e},n=t.sort(function(t,n){return e(t)-e(n)})},t.plugin._getSourceName=function(t){var e;return e=function(){return"socialbar"===t?"socialbar-v1":"requireEmail"===t?"requireEmail-v1":"postRoll"===t?"postRoll-v1":"transcript"===t?"transcript-v2":t}()},t.plugin._inject=function(e,n,i){var o,r;if(null==i&&(i={}),!1!==i.on)return o=t.proto()+"//"+t.remote.embedHost()+"/assets/external/"+n+".js",r=[{name:n,options:i,src:i.src&&t.plugin._allow3rdParty(e.options)?i.src:o,async:!0}],t.plugin._setFnForDefinedPlugins(e,r),t.plugin._execQueue(e,r)},t.plugin._allow3rdParty=function(t){return!1!==(null==t?void 0:t.allowThirdParty)&&!/([\w\_\-]+\.)?wistia\.(com|st)$/.test(window.location.hostname)},t.plugin._setFnForDefinedPlugins=function(e,n){var i,o,r,s;for(r=[],i=0,o=n.length;i<o;i++)s=n[i],t.plugin[s.name]&&r.push(function(n){return n.fn=function(){var i;return i=function(){var i,o,r;return o=t.plugin[n.name](e._impl||e,n.options)||!0,e.plugin[n.name]=o,e._impl&&(e._impl.plugin[n.name]=o,e.trigger("plugininitialized",n.name)),null==(r=e._pluginStopGos)?void 0:"function"==typeof r[i=n.name]?r[i](!0,o):void 0},n.options.initBeforeHasData?i():e.hasData(i)},n.async=!1}(s));return r},t.plugin._queueUndefinedPlugins=function(e,n){var i,o,r,s,a,l;for(null==t.pluginQueue&&(t.pluginQueue={}),a=[],i=0,o=n.length;i<o;i++)s=n[i],s.subScripts?a.push(function(){var n,i,o,a;for(o=s.subScripts,a=[],n=0,i=o.length;n<i;n++)l=o[n],r=l.name||l.src,null==t.pluginQueue[r]&&(t.pluginQueue[r]=[]),s.fn?a.push(void 0):a.push(t.pluginQueue[r].push({video:e,implVersion:e._implVersion,options:l.options}));return a}()):(r=s.name||s.src,null==t.pluginQueue[r]&&(t.pluginQueue[r]=[]),s.fn?a.push(void 0):a.push(t.pluginQueue[r].push({video:e,implVersion:e._implVersion,options:s.options})));return a},t.plugin._execQueue=function(e,n,i){return t.plugin._queueUndefinedPlugins(e,n),t.remote.scripts(n,i)},t.plugin._init=function(e,n,i){var o,r,s;return s=e.charAt(0).toUpperCase()+e.substr(1),r=t.Plugin[s],o=new r,o.init(n,i),o},t.plugin._instance=function(e,n,i){return t.data(["plugins",e,n.uuid,i])},t.plugin._remove=function(e,n,i){var o;null!=(o=t.plugin._instance(e,n,i))&&o.remove()},t.plugin._isActive=function(e,n,i){return!!t.plugin._instance(e,n,i)},t.plugin._defined=function(){var e,n,i,o;for(e in n=t.plugin,i=[],n)o=n[e],/^_/.test(e)||i.push({name:e,options:o});return i})}(Wistia)},function(){!function(t){var e;if(!t.seo)e=t.seo={},t.seo.inject=function(){}}(Wistia)},function(t,e,n){!function(t){var e;if(!t.localStorage)e=n(26),t.localStorage=e.setOrGet,t.removeLocalStorage=e.removeLocalStorage,t.dumpLocalStorage=e.dumpLocalStorage,t._initializers.initLocalStorage=function(){return e.init()},t._destructors.destroyLocalStorage=function(){return e.uncache()}}(Wistia)},function(){!function(t){t.cookie||(t.cookie=function(e,n,i){var o,r,s,a,l;if(1<arguments.length&&"[object Object]"!=n+""){i=t.extend({},i),null==n&&(i.expires=-1),"number"==typeof i.expires&&(o=i.expires,l=i.expires=new Date,l.setDate(l.getDate()+o)),n+="";try{return document.cookie=[encodeURIComponent(e),"=",i.raw?n:encodeURIComponent(n),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}catch(a){if(s=a,!/sandbox/i.test(s.message))throw s;t.notice("sandboxed, can't write cookie")}}i=n||{},r=i.raw?function(t){return t}:decodeURIComponent;try{return(a=new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(document.cookie))?r(a[1]):null}catch(a){if(s=a,
/sandbox/i.test(s.message))return t.notice("sandboxed, can't get cookie"),null;throw s}})}(Wistia)},function(){!function(t){t.gridify||(t.gridifyCss=function(t){var e;return e=t.replace(/_grid$/,""),"#"+t+"_wrapper{-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box;font-family:Arial,sans-serif;font-size:14px;height:100%;position:relative;text-align:left;width:100%;}\n#"+t+"_wrapper *{-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box;}\n#"+t+"_above{position:relative;}\n#"+t+"_main{display:block;height:100%;position:relative;}\n#"+t+"_behind{height:100%;left:0;position:absolute;top:0;width:100%;}\n#"+t+"_center{height:100%;overflow:hidden;position:relative;width:100%;}\n#"+t+"_front{display:none;height:100%;left:0;position:absolute;top:0;width:100%;}\n#"+t+"_top_inside{position:absolute;left:0;top:0;width:100%;}\n#"+t+"_top{width:100%;position:absolute;bottom:0;left:0;}\n#"+t+"_bottom_inside{position:absolute;left:0;bottom:0;width:100%;}\n#"+t+"_bottom{width:100%;position:absolute;top:0;left:0;}\n#"+t+"_left_inside{height:100%;position:absolute;left:0;top:0;}\n#"+t+"_left{height:100%;position:absolute;right:0;top:0;}\n#"+t+"_right_inside{height:100%;right:0;position:absolute;top:0;}\n#"+t+"_right{height:100%;left:0;position:absolute;top:0;}\n#"+t+"_below{position:relative;}"},t.gridifyHtml=function(t){return{id:t+"_wrapper",childNodes:[{id:t+"_above"},{id:t+"_main",childNodes:[{id:t+"_behind"},{id:t+"_center"},{id:t+"_front"},{id:t+"_top_inside",childNodes:{id:t+"_top"}},{id:t+"_bottom_inside",childNodes:{id:t+"_bottom"}},{id:t+"_left_inside",childNodes:{id:t+"_left"}},{id:t+"_right_inside",childNodes:{id:t+"_right"}}]},{id:t+"_below"}]}},t.createGrid=function(e,n){var i;return i=t.createGridSkeleton(),t.initGridDimensions(e,i,n),i},t.createGridSkeleton=function(){var e,n,i,o,r,s,a,l;for(n=t.seqId("wistia_grid_"),i=t.elem.fromObject(t.gridifyHtml(n)),e=t.css(i,t.gridifyCss(n)),s={},s.css=e,s.root=i,t.elem.style(i,{display:"none"}),t.elem.append(document.body,i),l=["wrapper","main","above","below","top","right","bottom","left","top_inside","right_inside","bottom_inside","left_inside","front","center","behind"],o=0,r=l.length;o<r;o++)a=l[o],s[a]=document.getElementById(n+"_"+a);return t.elem.remove(i),t.elem.style(i,{display:"block"}),s},t.initGridDimensions=function(e,n,i){var o,r,s;if(null==i&&(i={}),!1!==i.initDimensions)return r=e._embedContainer,o=e.chrome,s=e._opts,t.detect.browser.old&&(o.style.width=r.style.width=t.elem.width(r)+"px",o.style.height=r.style.height=t.elem.height(r)+"px"),t.detect.browser.old?s.rawEmbed&&s.aspectRatio?n.main.style.height=t.elem.width(n.center)/s.aspectRatio+"px":void 0:(o.style.height=t.elem.height(r)+"px",n.main.style.width=t.elem.width(r)+"px")},t.gridify=function(e,n){var i,o,r,s,a,l;for(a={},i=n.id+"_grid",t.detect.browser.old&&(n.style.width=t.elem.width(n)+"px",n.style.height=t.elem.height(n)+"px"),n.innerHTML=t.generate.html(t.gridifyHtml(i)),s=["wrapper","main","above","below","top","right","bottom","left","top_inside","right_inside","bottom_inside","left_inside","front","center","behind"],o=0,r=s.length;o<r;o++)l=s[o],a[l]=document.getElementById(i+"_"+l);return t.util.addInlineCss(a.wrapper,t.gridifyCss(i)),t.detect.browser.old?e.rawEmbed&&e.aspectRatio&&(a.main.style.height=t.elem.width(a.center)/e.aspectRatio+"px"):(a.wrapper.style.height=t.elem.height(n)+"px",a.main.style.width=t.elem.width(n)+"px"),a},t.isGridElem=function(t,e){var n,i;for(i in t)if(n=t[i],e===n)return!0;return!1},t.grid={},t.grid.allNodesHidden=function(t){var e,n,i;if(0===t.length)return!0;for(e=0,n=t.length;e<n;e++)if(i=t[e],i.style&&"none"!==i.style.display)return!1;return!0},t.grid.zeroEmptySections=function(e){var n,i,o,r,s,a;for(r=["top","bottom","left","right","above","below"],s=[],i=0,o=r.length;i<o;i++)a=r[i],n=e.grid[a],n.childNodes.length?t.grid.allNodesHidden(n.childNodes)?(n.style.height="0px",n.style.fontSize="0px",n.style.lineHeight="0px",s.push(n.isEmpty=!0)):(n.style.height="",n.style.fontSize="",s.push(n.style.lineHeight="")):(n.appendChild(document.createTextNode(" ")),n.style.height="0px",n.style.fontSize="0px",n.style.lineHeight="0px",s.push(n.isEmpty=!0));return s},t.grid.wrapperHeight=function(e){var n,i;return n=e.grid.wrapper,i=t.elem.height(n),t.detect.browser.old&&(e._attrs.rawEmbed&&e._embedContainer&&(i=parseInt(e._embedContainer.currentStyle.height,10)),!e._attrs.rawEmbed&&(i=t.util.winHeight())),i},t.grid.wrapperWidth=function(e){var n,i;return n=e.grid.wrapper,i=t.elem.width(n),t.detect.browser.old&&(e._attrs.rawEmbed&&e._embedContainer&&(i=parseInt(e._embedContainer.currentStyle.width,10)),!e._attrs.rawEmbed&&(i=t.util.winWidth())),i},t.grid.fitVertical=function(e){var n,i,o,r,s,a,l=Math.max;e._opts.dontFit||(t.grid.zeroEmptySections(e),i=e.grid,o=i.main,a=i.wrapper,s=l(t.elem.height(i.above),t.elem.height(i.top)),n=l(t.elem.height(i.below),t.elem.height(i.bottom)),r=l(0,t.grid.wrapperHeight(e)-s-n),o.style.height=r+"px",0===t.elem.width(i.left)&&(o.style.left="0px"),o.style.marginTop=t.elem.height(i.top)+"px")},t.grid.fitHorizontal=function(e){var n,i,o,r,s,a;e._opts.dontFit||(t.grid.zeroEmptySections(e),n=e.grid,a=n.wrapper,o=n.main,i=t.elem.width(n.left),s=t.elem.width(n.right),r=t.grid.wrapperWidth(e)-i-s,o.style.width=r+"px",o.style.left=i+"px")},t.grid.fit=function(e,n){/left|right/.test(n)?t.grid.fitHorizontal(e):/top|bottom|above|below/.test(n)&&t.grid.fitVertical(e),e.ieSizeHack()})}(Wistia)},function(t,e,n){!function(t){t.Color||(t.Color=n(38))}(Wistia)},function(t,e,n){!function(t){var e;if(!t.embeds)t.embeds={},e=n(1).wlog,t.embeds.setup=function(e){return t.embeds.notEmbedding(function(){var n,i,o,r,s,a,l,u,c;t.embeds.notEmbedding(!1),r=[];try{for(e=t.embeds.uninitialized(e),e&&e.length&&0<e.length&&t.info("initializing",null==e?void 0:e.length,"embedElems"),a=0,l=e.length;a<l;a++){o=e[a];try{t.info("initializing elem",o),s=t.embeds.hashedIdForElem(o,{asyncOnly:!0}),o.id?document.getElementById(o.id)!==o&&(u=t.embeds.genIdFor(s),t.error('Duplicate DOM ID found for container "'+o.id+'". Changing it to "'+u+'" to avoid issues.',o),o.id=u):o.id=t.embeds.genIdFor(s),c=t.embeds.optionsFromElemClass(o),t.options("__"+o.id+"_dom_options__",c),function(e,n){r.push(function(){if(!t.embeds.containerIsInitialized(n))return t.embed(e,{container:n.id})})}(s,o)}catch(e){n=e,t.error(n)}}}catch(e){i=e,t.error(i)}return r.push(function(){return t.watchForInit()}),r.push(function(){return t.embeds.notEmbedding(!0)}),t.asyncChain("embeds_setup",r)})},t.embeds._setupThrottled=t.util.throttle(500,t.embeds.setup),t.embeds.optionsFromElemClass=function(e){var n,i,o,r,s,a;for(r=[],a=t.elem.classes(e),n=0,o=a.length;n<o;n++)i=a[n],0<i.indexOf("=")&&r.push(i);return s=t.url.paramsToJson(r.join("&")),t.obj.cast(s),s},t.embeds.hashedIdForElem=function(t,e){var n,i,o,r,s,a;return null==e&&(e={}),e.asyncOnly?(null==(n=t.className)||null==(i=n.match(/wistia_async_([^\s]+)/))?void 0:i[1])||null:(null==(o=t.className)||null==(r=o.match(/wistia_async_([^\s]+)/))?void 0:r[1])||(null==(s=t.className)||null==(a=s.match(/wistia_([^\s]+)/))?void 0:a[1])||null},t.embeds.genIdFor=function(t){var e,n,i;for(e="wistia-"+t,i=1;n=e+"-"+i,!!document.getElementById(n);)i+=1;return n},t.embeds._options={},t.embeds.options=function(e,n){var i,o,r,s;if(t.obj.isObject(e)&&(n=e,e="__global__"),null!=n)return t.embeds._options[e]=t.obj.cast(t.obj.clone(n));if(e){if(t.embeds._options[e])return t.embeds._options[e];if(null===(i=t.api(e)))return{};for(o in r=t.embeds._options)if(s=r[o],t.api(o)===i)return s;return{}}return t.embeds._options},t.options=t.embeds.options,t.embeds.api=function(e){var n,i,o,r,s,a,l;return null==e&&(e="wistia_embed"),document.querySelectorAll?document.querySelectorAll("div."+e+",span."+e):(i=(null==(r=document.body)?void 0:r.getElementsByTagName("div"))||[],l=(null==(s=document.body)?void 0:s.getElementsByTagName("span"))||[],n=function(){var n,r,s;for(s=[],n=0,r=i.length;n<r;n++)o=i[n],t.elem.hasClass(o,e)&&s.push(o);return s}(),a=function(){var n,i,r;for(r=[],n=0,i=l.length;n<i;n++)o=l[n],t.elem.hasClass(o,e)&&r.push(o);return r}(),n.concat(a))},t.embeds.uninitialized=function(e){var n,i,o,r,s;for(null==e&&(e=t.embeds.api()),s=[],o=0,r=e.length;o<r;o++)n=e[o],(i=t.embeds.hashedIdForElem(n,{asyncOnly:!0}))&&!t.embeds.containerIsInitialized(n)&&s.push(n);return s},t.embeds.containerIsInitialized=function(){return function(t){return t&&t.wistiaApi}}(this),t.embeds.initialized=function(){var e,n,i,o;for(o in n=t._data.video,i=[],n)e=n[o],i.push(e);return i},t.embeds.observe=function(){var n,i;if(!t.embeds.initObserver){if(t.embeds.initObserver=t.elem.mutationObserver(function(e){var n,i,o,r,s,a,l,u,c,h;for(i=[],n=!1,o=0,r=e.length;o<r;o++)for(l=e[o],0<(null==(c=l.addedNodes)?void 0:c.length)&&(n=!0),h=l.addedNodes||[],a=0,s=h.length;a<s;a++)u=h[a],t.elem.hasClass(u,"wistia_embed")&&i.push(u);if(0<i.length&&setTimeout(function(){return t.embeds.setup(i)},10),n)return t.embeds._setupThrottled()}),n={subtree:!0,childList:!0},0<t.detect.ios.version)return t.util.onDocReady(function(){return t.embeds.initObserver.observe(document.body,n)});try{return t.embeds.initObserver.observe(document.body,n)}catch(o){return i=o,e.notice(i),t.util.onDocReady(function(){return t.embeds.initObserver.observe(document.body,n)})}}},t.embeds.unobserve=function(){var e;return null!=(e=t.embeds.initObserver)&&e.disconnect(),t.embeds.initObserver=null},t.embeds.poll=function(e){return null==e&&(e=500),t.eventLoop.add("poll_setup_embeds",e,function(){return t.embeds.setup()})},t.embeds.unpoll=function(){var e;return null==(e=t.eventLoop)?void 0:e.remove("poll_setup_embeds")},t.embeds.watch=function(){return t.embeds._dontWatch=!1,t.detect.mutationObserver&&!t.detect.trident?(t.embeds.observe(),t.embeds.poll(2e3)):t.embeds.poll()},t.embeds.dontWatch=function(){return t.embeds._dontWatch=!0,t.embeds.unwatch()},t.embeds.unwatch=function(){return t.embeds.unobserve(),t.embeds.unpoll()},t.flushInit=function(){var n,i,o,r;if(window.wistiaInit){if(wistiaInit instanceof Array)for(o=0,r=wistiaInit.length;o<r;o++){i=wistiaInit[o];try{"function"==typeof i&&i(t)}catch(i){n=i,e.error(n)}}else"function"==typeof wistiaInit&&wistiaInit(t);return window.wistiaInit=null}},t.addQueue=function(e){return t._queueNames.push(e),t.watchForInit()},t._queueNames=["_wq","wistiaInitQueue"],t._wqBoundListeners=[],t.flushInitQueue=function(){var n,i,o,r,s,a,l,u,c,h,d,p,f,m,y,g;for(f=t._queueNames,m=[],s=0,l=f.length;s<l;s++)if(d=f[s],!!((h=window[d])&&h instanceof Array&&0<h.length)){for(r=[];0<h.length;)if(y=h.shift(),t.obj.isObject(y))if(y.revoke&&t.revokeQueueListener(y.revoke),y.__unbinds||(y.__unbinds=[]),y.id)p=!1,y.options&&("_all"===y.id?(t.options(y.options),p=!0):(t.options(y.id,y.options),p=!0)),function(e){var n,i;i="_all"===e.id?[]:[e.id],e.onFind&&(n=i.concat([function(t){return e.onFind(t)}]),e.__unbinds=e.__unbinds.concat(t.api.apply(t,n)),p=!0),e.onHasData&&(n=i.concat([function(t){return t.hasData(function(){return e.onHasData(t)})}]),e.__unbinds=e.__unbinds.concat(t.api.apply(t,n)),p=!0),e.onEmbedded&&(n=i.concat([function(t){return t.embedded(function(){return e.onEmbedded(t)})}]),e.__unbinds=e.__unbinds.concat(t.api.apply(t,n)),p=!0),e.onReady&&(n=i.concat([function(t){return t.ready(function(){return e.onReady(t)})}]),e.__unbinds=e.__unbinds.concat(t.api.apply(t,n)),p=!0),p?t._wqBoundListeners.push(e):t.error("No initialization function provided for ID "+e.id,e)}(y);else for(a in o=function(e,n,i){var o,s;return"function"==typeof i?(s=function(t){return t.hasData(function(){return i(t)})},o=function(){return e.__unbinds="_all"===n?e.__unbinds.concat(t.api(s)):e.__unbinds.concat(t.api(n,s)),t._wqBoundListeners.push(e)},r.push(o)):t.obj.isObject(i)?(o="_all"===n?function(){return t.options(i)}:function(){return t.options(n,i)},r.push(o)):"__unbinds"!==n&&"revoke"!==n?t.error("Unknown initialization object:",i,"Expected Object or Function."):void 0},y)g=y[a],o(y,a,g);else"function"==typeof y?function(e){var n;n=function(){return e(t)},r.push(n)}(y):t.notice(d+": Don't know what to do with "+y+", ignoring.");for(c=0,u=r.length;c<u;c++){i=r[c];try{"function"==typeof i&&i(t)}catch(i){n=i,e.error(n)}}m.push(h.length=0)}return m},t.getInitQueueListeners=function(){return t.obj.assign([],t._wqBoundListeners)},t.revokeQueueListener=function(e){var n,i,o,r,s,a,l,u;for(l=e instanceof Array?e:[e],a=[],n=0,i=l.length;n<i;n++){if(e=l[n],e.__unbinds){for(s=e.__unbinds,r=0,o=s.length;r<o;r++)"function"==typeof(u=s[r])&&u();delete e.__unbinds}a.push(t._wqBoundListeners=t._wqBoundListeners.filter(function(t){return t!==e}))}return a},t.watchForInit=function(){if(null==t._pollInit&&(t._pollInit=function(){return t.flushInitQueue(),t.flushInit()}),t._pollInit(),t.eventLoop)return t.eventLoop.unpause("poll_init"),t.eventLoop.add("poll_init",500,t._pollInit)},t.api=function(e,n){var i,o,r,s,a,l,u,c,h,d,p;if(null!=e){if(n)return t.api.onFind(e,n);if("function"==typeof e)return t.api.onFind(e);if("string"!=typeof e)"number"==typeof e?(a=e,i=t.api.all(),0>a&&(a=i.length+a),r=(null==(p=i[a])?void 0:p.container)||null):window.HtmlElement&&e instanceof HtmlElement?r=e:t.error("W.api: Unrecognized matcher",e);else if(c=e,!(r=document.getElementById(c)))for(o=t.api.all(),l=0,u=o.length;l<u;l++)if(s=o[l],0===(null==(h=s.hashedId())?void 0:h.indexOf(c))||0===(null==(d=s.container.id)?void 0:d.indexOf(c))){r=s.container;break}return(null==r?void 0:r.wistiaApi)&&(r.wistiaApi instanceof t.PublicApi||r.wistiaApi instanceof t.IframeApi)?r.wistiaApi:null}return t.api.all()[0]||null},t.api.all=function(){return t.api._apiHandles().concat(t.api._iframeHandles())},t.api._apiHandles=function(){return t.embeds.initialized()},t.api._apiHandlesByDomOrder=function(){var e,n,i,o,r;for(n=t.embeds.api("wistia_embed_initialized"),r=[],i=0,o=n.length;i<o;i++)e=n[i],e.wistiaApi&&e.wistiaApi instanceof t.PublicApi&&r.push(e.wistiaApi);return r},t.api._iframeHandles=function(){var e,n,i,o;for(o in n=t._data.iframe_api,i=[],n)e=n[o],i.push(e);return i},t.api.onFind=function(e,n){var i,o;return"function"==typeof e&&(n=e,e=null),i=function(i){return(null===e||t.api(e)===i)&&(n(i),!0)},wistiaEmbeds.each(i),o=[wistiaEmbeds.on("initembed",i),wistiaEmbeds.on("afterreplace",i)],function(){return function(){var t,e,n,i;for(n=[],t=0,e=o.length;t<e;t++)i=o[t],n.push(i());return n}}(this)},t._asyncInitSoonAfterLoad=function(n){return null==n&&(n=10),setTimeout(function(){var n;try{return t.embeds.setup(),t.embeds._dontWatch||t.embeds.watch(),t.watchForInit()}catch(t){return n=t,e.error(n)}},n)},t._initializers.initAsyncEmbeds=function(){var e,n,i;return t.embeds.notEmbedding=new t.StopGo,t.embeds.notEmbedding(!0),null==t._data&&(t._data={}),null==(e=t._data).video&&(e.video={}),null==(n=t._data).iframe_api&&(n.iframe_api={}),window._inWistiaIframe?setTimeout(function(){return t.watchForInit()},10):(0<t.detect.ios.version?t.util.onDocReady(t._asyncInitSoonAfterLoad):(!t.util.isDocReady()&&t.util.onDocReady(t._asyncInitSoonAfterLoad),t._asyncInitSoonAfterLoad()),t._asyncInitSoonAfterLoad(500),null==(i=t.eventLoop)?void 0:i.pause("poll_init"))},t._destructors.destroyAsyncEmbeds=function(){var e,n;return t.clearTimeouts("embeds_setup"),null!=(e=t.eventLoop)&&e.remove("poll_init"),null==(n=t.embeds)?void 0:n.unwatch()}}(Wistia)},function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};!function(e){var n;if(n=e,!n.EmbedLink)n.EmbedLink=function(){function e(e,i){var o;this.elem=e,this._apiHandle=i,this._onClickLink=t(this._onClickLink,this),this.defaults={autoPlay:!0,transition:"fade"},this.givenOptions=n.EmbedLink.optionsFromElem(this.elem),this.options=n.obj.merge({},this.defaults,this.givenOptions),this.hashedId=n.EmbedLink.hashedIdFromElem(this.elem),this.uuid=n.seqId("wistia_embed_link_"),!1===this.options.includeInPlaylist&&(this._apiHandle=null),!1!==this.options.includeInPlaylist&&(null==(o=this._apiHandle)?void 0:o._opts.playlistLinks)&&!this._apiHandle._inPlaylist(this.hashedId)&&this.apiHandle().addToPlaylist(this.hashedId,this.options),n.elem.rebind(this.elem,"click",this._onClickLink),this.elem._wistiaEmbedLink=this}return e.prototype._onClickLink=function(t){return t.preventDefault(),this._followLink()},e.prototype._followLink=function(){var t,e,n,i,o;if(this.hashedId===(null==(t=this.apiHandle())?void 0:t.hashedId())&&this._onlyRunnableOptionsGiven()?(this.apiHandle()._givenOptions=this.options,this.apiHandle()._opts=this.apiHandle()._gatherOptions(),this.options.autoPlay&&null!=(e=this.apiHandle().plugin["postRoll-v1"])&&e.close(),this.apiHandle()._runMethodsFromOptions()):(null!=(n=this.apiHandle().popover)&&n.show(),this.apiHandle().replaceWith(this.hashedId,this.options)),null==(i=this.apiHandle())?void 0:i.popover)return!1!==(null==(o=this.apiHandle())?void 0:o._opts.autoPlay)&&!1!==this.options.autoPlay?this.apiHandle().play():this.apiHandle().popover.show()},e.prototype._onlyRunnableOptionsGiven=function(){var t,e,n;for(t in e=this.options)if(n=e[t],!this._allRunnableOptions[t])return!1;return!0},e.prototype._allRunnableOptions={autoPlay:!0,container:!0,pause:!0,time:!0,transition:!0,volume:!0},e.prototype.apiHandle=function(){return this._apiHandle||(this.options.container?n.api(this.options.container):this.closestEmbed())},e.prototype.closestEmbed=function(t){var e,i,o,r;return e=n.api._apiHandlesByDomOrder(),0===e.length?null:1===e.length?e[0]:(o=function(){var t,o,r;for(r=[],t=0,o=e.length;t<o;t++)i=e[t],r.push([i,n.elem.domDistance(this.elem,i.container)]);return r}.call(this),"above"===t?o=function(){var t,e,n;for(n=[],t=0,e=o.length;t<e;t++)r=o[t],0>r[1].across&&n.push(r);return n}():"below"===t&&(o=function(){var t,e,n;for(n=[],t=0,e=o.length;t<e;t++)r=o[t],0<r[1].across&&n.push(r);return n}()),o.sort(function(t,e){var n,i,o=Math.abs;return n=t[1].up+t[1].down+o(t[1].across),i=e[1].up+e[1].down+o(e[1].across),n-i}),o[0][0])},e.prototype.destroy=function(){return n.elem.unbind(this.elem,"click",this._onClickLink),this.elem._wistiaEmbedLink=null,n.EmbedLink._all[this.uuid]=null,delete n.EmbedLink._all[this.uuid]},e.inManualPlaylist=function(t){var e;return!!this.hashedIdFromElem(t)&&(e=this.optionsFromElem(t),e.container&&!1!==e.includeInPlaylist)},e.inContainerPlaylist=function(t){var e;return!!this.hashedIdFromElem(t)&&(e=this.optionsFromElem(t),!1!==e.includeInPlaylist&&n.elem.ancestorHasClass(t,"wistia_playlist_links"))},e.optionsFromElem=function(t){var e,i;return i=this.optionsFromHref(t.getAttribute("href")),e=n.embeds.optionsFromElemClass(t),n.obj.merge(i,e)},e.hashedIdFromElem=function(t){return this.hashedIdFromHref(t.getAttribute("href"))||this.optionsFromElem(t).hashedId},e.matchesElem=function(t){return!(!t||!this.hashedIdFromElem(t))},e.EMBED_LINK_REGEXP=/^\#wistia_([^\?]+)/,e.hashedIdFromHref=function(t){return t&&this.EMBED_LINK_REGEXP.test(t)?t.match(this.EMBED_LINK_REGEXP)[1]:null},e.optionsFromHref=function(t){return this.hashedIdFromHref(t)&&0<=t.indexOf("?")?n.obj.cast(n.url.paramsToJson(t.substring(t.indexOf("?")+1,t.length))):{}},e._all={},e.setup=function(t,e){var i;return e?n.info("PlaylistLink setup",t,e.container):n.info("EmbedLink setup",t),t._wistiaEmbedLink&&(t._wistiaEmbedLink.destroy(),t._wistiaEmbedLink=null),i=new n.EmbedLink(t,e),this._all[i.uuid]=i},e.filterPlaylistLinkCandidates=function(t,e){var i,o,r,s,a;for(null==e&&(e=null),a=[],o=0,r=t.length;o<r;o++)i=t[o],n.EmbedLink.matchesElem(i)&&(s=this.optionsFromElem(i),!1!==s.includeInPlaylist&&(!e||e(i))&&a.push(i));return a},e.firstHandleWithPlaylistLinks=function(){var t,e,i,o;for(o=n.api._apiHandlesByDomOrder(),e=0,i=o.length;e<i;e++)if(t=o[e],t._opts.playlistLinks)return t;return null},e.playlistLinkElems=function(t,e,i){var o,r,s,a,l,u,c,h,d,p,f,m,y,g;if(c=this.firstHandleWithPlaylistLinks(),m=(null==t?void 0:t.container)||null,l=e.container,f=(null==i?void 0:i.container)||null,"auto"===e._opts.playlistLinks)return a=this.filterPlaylistLinkCandidates(n.elem.allBetween(m,l,"a"),function(t){return function(e){return!t.inManualPlaylist(e)&&!t.inContainerPlaylist(e)}}(this)),s=this.filterPlaylistLinkCandidates(n.elem.allBetween(l,f,"a"),function(t){return function(e){return!t.inManualPlaylist(e)&&!t.inContainerPlaylist(e)}}(this)),e===c&&(0<a.length?(n.info("EmbedLink @_firstHandleHasLinksBefore = true"),this._firstHandleHasLinksBefore=!0):(n.info("EmbedLink @_firstHandleHasLinksBefore = false"),this._firstHandleHasLinksBefore=!1)),this._firstHandleHasLinksBefore?0<a.length?a:s:0<s.length?s:a;if("manual"===e._opts.playlistLinks){for(r=n.util.aps(document.getElementsByTagName("a")),g=[],d=0,p=r.length;d<p;d++)o=r[d],h=n.EmbedLink.hashedIdFromElem(o),u=h&&n.EmbedLink.optionsFromElem(o),l=(null==u?void 0:u.container)&&document.getElementById(u.container),(null==l?void 0:l.wistiaApi)?u&&(null==(y=e.container)?void 0:y.id)===u.container&&g.push(o):(null==u?void 0:u.container)&&n.error("Embed Link container '"+u.container+"' not found. You must specify the DOM ID of an initialized Wistia embed on the page.");return g}return e._opts.playlistLinks?(l=document.getElementById(e._opts.playlistLinks),l?(r=n.util.aps(l.getElementsByTagName("a")),this.filterPlaylistLinkCandidates(r,function(t){return function(e){return!t.inManualPlaylist(e)}}(this))):(n.error("Embed Link container '"+e._opts.playlistLinks+"' not found. You must specify auto, manual, or the ID of an element on the page."),[])):[]},e.destroyAll=function(t){var e,i,o,r,s,a,l,u,c,h;if(null==t&&(t=document),n.info("EmbedLink.destroyAll",t),t===document){for(h in a=this._all,u=[],a)o=a[h],u.push(o.destroy());return u}for(i=t.getElementsByTagName("a"),c=[],r=0,s=i.length;r<s;r++)e=i[r],c.push(null==(l=e._wistiaEmbedLink)?void 0:l.destroy());return c},e.setupAll=function(t){var e,i,o,r,s,a,l,u,c,h,d,p;null==t&&(t=document),n.info("EmbedLink.setupAll",t);try{for(n.EmbedLink.destroyAll(t),o=n.api._apiHandlesByDomOrder(),s=function(t,e){return e.hasData(function(){return function(){var i,r,s,a,l,u,c;if(e._opts.playlistLinks&&(n.info("EmbedLink setup handle",e),c=o[t-1],l=o[t+1],u=n.EmbedLink.playlistLinkElems(c,e,l),u=n.EmbedLink.filterPlaylistLinkCandidates(u,function(t){return!t._wistiaEmbedLink}),0<u.length)){for(e._playlist=[],r=0,s=u.length;r<s;r++)i=u[r],n.EmbedLink.setup(i,e);if(a=e.nextVideo())return e.bind("play",function(){return e.prefetchMedia(a.hashedId,a.options),e.unbind})}}}(this))},l=u=0,d=o.length;0<=d?u<d:u>d;l=0<=d?++u:--u)a=o[l],s(l,a);for(i=n.util.aps(t.getElementsByTagName("a")),p=[],c=0,h=i.length;c<h;c++)e=i[c],n.EmbedLink.matchesElem(e)?e._wistiaEmbedLink?p.push(n.notice("Conflict setting up embed link",e," already belongs to ",e._wistiaEmbedLink)):p.push(n.EmbedLink.setup(e)):p.push(void 0);return p}catch(s){return r=s,n.error(r)}},e}(),n.EmbedLink.setupAllThrottled=n.util.throttle(1e3,n.EmbedLink.setupAll),n._initializers.initEmbedLinks=function(){return wistiaEmbeds.bind("initembed",function(){return n.timeout("setup_embed_links_1000",n.EmbedLink.setupAllThrottled,1),n.timeout("setup_embed_links_1000",n.EmbedLink.setupAllThrottled,1e3),n.timeout("setup_embed_links_3000",n.EmbedLink.setupAllThrottled,3e3)}),n.EmbedLink.setupAllThrottled(),n.util.onDocReady(function(){return n.EmbedLink.setupAllThrottled(),n.timeout("setup_embed_links_5000",n.EmbedLink.setupAllThrottled,5e3)})},n._destructors.destroyEmbedLinks=function(){var t,e,i;if(n.EmbedLink){for(i in e=n.EmbedLink._all)t=e[i],t.destroy();return n.EmbedLink._all={}}}}(Wistia)},function(){var t=[].slice;!function(e){e.iframeInit||(e.iframeInit=function(n,i){var o,r,s,a,l,u,c,h,d,p,f,m,y,g,v,b,_;for(c in b=e.url.parse(location.href),s=e.extend(i,b.params),o=!1,s.pageTitle=document.title,e.obj.castDeep(s),s.container="wistia_video",s.canonicalUrl||(s.canonicalUrl=s.pageUrl),s.canonicalTitle||(s.canonicalTitle=s.pageTitle),y=s.plugin||{})_=y[c],s.plugin[c].outsideIframe&&(s.plugin[c]=null,delete s.plugin[c]);for(b.params.popover&&(e.obj.get(b.params,"plugin.requireEmail")?s.autoPlay=!1:s.autoPlay=!0),!1!==s.autoPlay&&s.autoplay&&(s.autoPlay=!0),b.params.twitter&&!1!==s.autoPlay&&(s.autoPlay=!!s.autoplay),s._inIframe=!0,window.wistiaEmbed=e.embed(n,s),e.timeout(wistiaEmbed.uuid+".fit_later",function(){return window.wistiaEmbed.fit()},100),(e.detect.iphone||e.detect.ipad)&&wistiaEmbed.ready(function(){return setInterval(function(){return wistiaEmbed.elem().style.zoom="",wistiaEmbed.elem().style.zoom=1},3e3)}),m=function(t){var n,i,r,s;if("remove"===t.data)return void wistiaEmbed.remove();if(!/^(visitor_key|send_visitor_key|clear_visitor_key)/.test(t.data)){if(/^wistia-iframe-/.test(t.data))return void(0>window._allIframes.join(" ").indexOf(t.data)&&window._allIframes.push(t.data));if("declare-existing-wistia-iframe"===t.data)return void t.source.postMessage("wistia-iframe-"+iframeUuid,"*");if("amp-listening"===t.data)return void(o=!0);if("amp-play"===t.data)return void wistiaEmbed.play();if("amp-pause"===t.data)return void wistiaEmbed.pause();if("amp-mute"===t.data)return void wistiaEmbed.mute();if("amp-unmute"===t.data)return void wistiaEmbed.unmute();if("string"==typeof t.data)try{r=JSON.parse(t.data)}catch(n){i=n,e.notice("inside_iframe","receiveMessage","Could not parse message from "+t.origin),e.notice("inside_iframe","receiveMessage",t.data),r={}}else r=t.data;return s=r.method,n=r.args,"startIframeHandshake"===s?(window.apiSignature=n[0],window.wistiaEmbed?(wistiaEmbed.postMessage("relay.trigger","iframebound"),wistiaEmbed.postMessage("updateProperties",{options:v(wistiaEmbed.options),params:v(wistiaEmbed.params),_embedType:wistiaEmbed.embedType,_hashedId:wistiaEmbed.hashedId(),_width:wistiaEmbed.width(),_height:wistiaEmbed.height(),_videoWidth:wistiaEmbed.videoWidth(),_videoHeight:wistiaEmbed.videoHeight()}),wistiaEmbed._hasImpl(function(){return wistiaEmbed.postMessage("_hasImpl",!0)}),wistiaEmbed.hasData(function(){return wistiaEmbed.postMessage("updateProperties",{_embedType:wistiaEmbed.embedType,options:v(wistiaEmbed.options),params:v(wistiaEmbed.params),_name:wistiaEmbed.name(),_duration:wistiaEmbed.duration(),_videoWidth:wistiaEmbed.videoWidth(),_videoHeight:wistiaEmbed.videoHeight(),_mediaData:wistiaEmbed._mediaData}),wistiaEmbed.postMessage("hasData",!0)}),wistiaEmbed.embedded(function(){return wistiaEmbed.postMessage("updateProperties",{_embedType:wistiaEmbed.embedType,options:v(wistiaEmbed.options),params:v(wistiaEmbed.params),origAspectRatio:wistiaEmbed.aspect(),origVideoHeight:wistiaEmbed.videoHeight(),origVideoWidth:wistiaEmbed.videoWidth(),origHeight:wistiaEmbed.height(),origWidth:wistiaEmbed.width(),origPluginWidth:wistiaEmbed.extraWidth(),origPluginHeight:wistiaEmbed.extraHeight(),_videoWidth:wistiaEmbed.videoWidth(),_videoHeight:wistiaEmbed.videoHeight(),_width:wistiaEmbed.width(),_height:wistiaEmbed.height()}),wistiaEmbed.postMessage("embedded",!0)}),wistiaEmbed.ready(function(){return wistiaEmbed.postMessage("updateProperties",{options:v(wistiaEmbed.options),params:v(wistiaEmbed.params),_embedType:wistiaEmbed.embedType,_visitorKey:wistiaEmbed.visitorKey(),_eventKey:wistiaEmbed.eventKey(),_width:wistiaEmbed.width(),_height:wistiaEmbed.height(),_videoWidth:wistiaEmbed.videoWidth(),_videoHeight:wistiaEmbed.videoHeight(),_state:wistiaEmbed.state(),_time:wistiaEmbed.time(),_isMuted:wistiaEmbed.isMuted(),_volume:wistiaEmbed.volume()}),wistiaEmbed.postMessage("relay.trigger","videoready"),e.visitorKey.ready(function(){return wistiaEmbed.postMessage("updateProperties",{_visitorKey:wistiaEmbed.visitorKey()})})})):void 0):s&&"undefined"!=typeof wistiaEmbed&&null!==wistiaEmbed?wistiaEmbed[s].apply(wistiaEmbed,n):void 0}},v=function(t){var n;return n={},Wistia.obj.eachLeaf(t,function(t,i){if(/^string|number|boolean$/i.test(typeof t))return e.obj.set(n,i,t)}),n},window.apiSignature=null,window.iframeUuid=Math.random().toString(36).replace(/[^a-z0-9]+/g,""),window._allIframes=["wistia-iframe-"+iframeUuid],wistiaEmbed.postMessage=function(){var e,n,i;if(i=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],parent!==self)return n={method:i,args:e},apiSignature&&(n.signature=apiSignature),n=JSON.stringify(n),parent.postMessage(n,"*")},wistiaEmbed.ping=function(){var e;return e=1<=arguments.length?t.call(arguments,0):[],wistiaEmbed.postMessage.apply(wistiaEmbed,["pong"].concat(t.call(e)))},wistiaEmbed.updateProperties=function(t){for(c in t)_=t[c],this[c]=e.obj.isObject(_)?e.obj.merge({},this[c],_):_;return this.postMessage("updateProperties",v(t))},f=window.wistiaPostMessageQueue||[],l=0,h=f.length;l<h;l++){p=f[l];try{m(p)}catch(t){r=t,e.error(r)}}if(window.wistiaPostMessageQueue=[],!e.detect.browser.ltie8){if(parent===self)return;if(parent.postMessage("new-wistia-iframe","*"),25>=e.util.parentFramesLength())for(g=parent.frames,u=0,d=g.length;u<d;u++)(a=g[u])!==self&&a!==parent&&(a.postMessage("wistia-iframe-"+iframeUuid,"*"),a.postMessage("declare-existing-wistia-iframe","*"));return wistiaEmbed.bind("down",function(){return wistiaEmbed.postMessage("updateProperties",{_down:!0})}),wistiaEmbed.bind("up",function(){return wistiaEmbed.postMessage("updateProperties",{_down:!1})}),wistiaEmbed.bind("volumechange",function(t,e){return wistiaEmbed.postMessage("updateProperties",{_volume:t,_isMuted:e})}),wistiaEmbed.bind("emailchange",function(t){return wistiaEmbed.postMessage("updateProperties",{_email:t,params:{trackEmail:t}})}),wistiaEmbed.bind("timechange",function(t){return wistiaEmbed.postMessage("updateProperties",{_time:t})}),wistiaEmbed.bind("statechange",function(t){return wistiaEmbed.postMessage("updateProperties",{_state:t})}),wistiaEmbed.bind("mutechange",function(t){return wistiaEmbed.postMessage("updateProperties",{_isMuted:t})}),wistiaEmbed.bind("widthchange",function(){return wistiaEmbed.postMessage("updateProperties",{_videoWidth:wistiaEmbed.videoWidth(),_width:wistiaEmbed.width()})}),wistiaEmbed.bind("heightchange",function(){return wistiaEmbed.postMessage("updateProperties",{_videoHeight:wistiaEmbed.videoHeight(),_height:wistiaEmbed.height()})}),wistiaEmbed.bind("foreigndatachange",function(t){return wistiaEmbed.postMessage("updateProperties",{_foreignData:t})}),wistiaEmbed.bind("percentwatchedchanged",function(t){return wistiaEmbed.postMessage("updateProperties",{_percentWatched:t})}),wistiaEmbed.bind("all",function(){var e;return e=1<=arguments.length?t.call(arguments,0):[],"afterremove"===e[0]?wistiaEmbed.postMessage("relay.trigger","_afterremove"):/^up|down$/.test(e[0])?void 0:wistiaEmbed.postMessage.apply(wistiaEmbed,["_trigger"].concat(t.call(e)))}),e.elem.bind(window,"message",m)}})}(Wistia)},function(){var t=[].slice,e=function(t,e){function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;!function(n){var i;n.IframeApi=function(){function e(t,e){this.iframe=t,null==e&&(e={}),this.enableFullscreen(),this._bindings={},this._injectedPlugins={},this._firedPlayCount=0,this.options=this.params=e,this.plugin||(this.plugin={}),this.container=this.iframe,this.relay=n.obj.clone(n.bindable),this.ready=new n.StopGo,this.bound=new n.StopGo,this.hasData=new n.StopGo,this._hasImpl=new n.StopGo,this.embedded=new n.StopGo,this.down=new n.StopGo,this.down(!1),this.up=new n.StopGo,this.up(!0),this.uuid=this.uuid||e.uuid||""+(this.iframe.id||n.seqId()),this.signature=e.signature||"wistia-iframe-"+this.uuid.replace(/"/g,"__QUOTE__").replace(/\n/g,"__NEWLINE__"),this.inferParamsFromSrc(),this.monitor(),n.detect.browser.ltie8&&n.timeout(this.uuid+".ie8_ready",function(t){return function(){return t.ready(!0)}}(this))}var i=Math.round;return e.prototype.inferParamsFromSrc=function(){var t,e;if(this.src=this.iframe.src,this.parsedSrc=n.url.parse(this.src),this.origWidth=parseInt(this.iframe.width||n.elem.width(this.iframe),10),this.origHeight=parseInt(this.iframe.height||n.elem.height(this.iframe),10),
this.origVideoWidth=parseInt(this.parsedSrc.params.videoWidth||(null==(t=this.parsedSrc.params.videoOptions)?void 0:t.videoWidth)||this.origWidth,10),this.origVideoHeight=parseInt(this.parsedSrc.params.videoHeight||(null==(e=this.parsedSrc.params.videoOptions)?void 0:e.videoHeight)||this.origHeight,10),this.origPluginWidth=this.origWidth-this.origVideoWidth,this.origPluginHeight=this.origHeight-this.origVideoHeight,this.origAspectRatio=this.origVideoHeight?this.origVideoWidth/this.origVideoHeight:1.333,this.parsedSrc.params.videoFoam)return this._videoFoam=n.obj.cast(this.parsedSrc.params.videoFoam)},e.prototype.init=function(){var t,e,i,o;if(n.detect.browser.ltie8)return this;for(t in this.inferParamsFromSrc(),this.relay.bind("iframebound",function(t){return function(){return t.bound(!0)}}(this)),this.relay.bind("videoready",function(t){return function(){return t.bound(function(){if(!t.looksDown())return t.ready(!0)})}}(this)),n.elem.bind(this.iframe,"load",function(t){return function(){return t.startIframeHandshake()}}(this)),this.startIframeHandshake(),this.bind("sphericaltap",function(t){return window.location=t}),this.ready(function(t){return function(){if("playing"===t.state())return t._firedSyntheticPlay=!0,t.trigger("play")}}(this)),e=this.parsedSrc.params.plugin||{})o=e[t],"true"===(null==(i=o.outsideIframe)?void 0:i.toString())&&this.addPlugin(t,o);return this.monitor(),this.ready(function(t){return function(){if(t._wvideoInUrl())return t._scrollToContainer(),t.play()}}(this)),this},e.prototype._wvideoInUrl=function(){var t;return t=n.url.parse(location.href),t.params.wvideo===this.hashedId()},e.prototype._scrollToContainer=function(){var t;return t=n.elem.offset(this.container),n.util.scrollTop(t.top-100)},e.prototype.rebuild=function(){var t,e,i,o,r;return(o=this.iframe.parentNode)&&(this.bound(!1),this.ready(!1),r=document.createElement("span"),r.style.display="none",i=null,e=function(t){return function(){return t.trigger("beforerebuild"),i=t.iframe.src,o.insertBefore(r,t.iframe),o.removeChild(t.iframe),t.iframe.src="javascript:return false;"}}(this),t=function(t){return function(){return t.iframe.src=i,o.insertBefore(t.iframe,r.nextSibling),o.removeChild(r),r=null,t._state="beforeplay",t.trigger("afterrebuild")}}(this),n.detect.browser.msie&&9>n.detect.browser.version?(e(),n.timeout(this.uuid+".rebuild_delay",t,50)):(e(),t())),this},e.prototype.remove=function(){return this._hasImpl(!1),this.hasData(!1),this.ready(!1),this.embedded(!1),n.eventLoop.remove(this.uuid),n.clearTimeouts(this.uuid),this.bound(function(t){return function(){var e;return e=function(){var e;return n.elem.remove(t._foamDummyElem),t.iframe&&(e=t.iframe.parentNode)&&(t.iframe.wistiaApi=null,e.removeChild(t.iframe),t.iframe.src="javascript:return false;",t.iframe=t.container=null),t.trigger("down"),n.clearTimeouts(t.uuid),n.eventLoop.remove(t.uuid),t.ready.setQueue([]),t.hasData.setQueue([]),t._hasImpl.setQueue([]),t.trigger("afterremove"),t._bindings={},n.removeData("iframe_api."+t.signature),t.unbind},t.relay.bind("_afterremove",e),t.postMessage("remove")}}(this))},e.prototype.reinitializePlugins=function(){return this.postMessage("reinitializePlugins")},e.prototype.monitor=function(){var t,e,i,o;return i=this.width(),o=n.elem.width(this.iframe),e=n.elem.height(this.iframe),t=!1,this.embedded(function(r){return function(){return n.eventLoop.add(r.uuid+".monitor",500,function(){var s,a,l,u,c,h,d,p,f,m,y;if(r.up()&&r.looksDown()){if(r._stateBeforeDown=r._state,"flash"===r.embedType())try{r.rebuild()}catch(t){}else r.pause();r.ready(!1),r.down(!0),r.up(!1),r.trigger("down")}else r.down()&&r.looksUp()&&(r.down(!1),r.up(!0),"flash"===r.embedType()?r.rebuild():(r.ready(!0),"playing"===r._stateBeforeDown&&r.play()),r.trigger("up"));return r.hasVideoFoam()&&r.up()&&r.looksUp()&&(null==r._parentBoxSizing&&(r._parentBoxSizing=n.elem.style(r.iframe.parentNode,"box-sizing")),"border-box"===r._parentBoxSizing||n.detect.browser.msie&&9>n.detect.browser.version?(!r._foamDummyElem&&(r._foamDummyElem=n.elem.fromObject({class:"wistia_video_foam_dummy","data-source-container-id":r.container.id,style:{border:0,display:"block",height:0,margin:0,padding:0,position:"static",visibility:"hidden",width:"auto"}}),n.elem.before(r.iframe,r._foamDummyElem)),h=n.elem.width(r._foamDummyElem)):h=n.elem.width(r.iframe.parentNode),(i!==h||!t)&&(t=!0,c=h,u=c-r.extraWidth(),l=r.heightForWidth(u),a=l+r.extraHeight(),(null==(d=r.videoFoam())?void 0:d.maxHeight)&&a>r.videoFoam().maxHeight&&(a=r.videoFoam().maxHeight,l=a-r.extraHeight(),u=r.widthForHeight(l),c=u+r.extraWidth()),(null==(p=r.videoFoam())?void 0:p.maxWidth)&&c>r.videoFoam().maxWidth&&(c=r.videoFoam().maxWidth,u=c-r.extraWidth(),l=r.heightForWidth(u),a=l+r.extraHeight()),(null==(f=r.videoFoam())?void 0:f.minHeight)&&a<r.videoFoam().minHeight&&(a=r.videoFoam().minHeight,l=a-r.extraHeight(),u=r.widthForHeight(l),c=u+r.extraWidth()),(null==(m=r.videoFoam())?void 0:m.minWidth)&&c<r.videoFoam().minWidth&&(c=r.videoFoam().minWidth,u=c-r.extraWidth(),l=r.heightForWidth(u),a=l+r.extraHeight()),r.width(c).height(a),n.timeout(r.uuid+".delayed_resize",function(){return r.width(c).height(a)},1e3),i=h)),n.detect.browser.ltie8&&(y=n.elem.width(r.iframe),s=n.elem.height(r.iframe),y!==o&&(r.trigger("widthchange",y,o),o=y),s!==o)?(r.trigger("heightchange",s,e),e=s):void 0})}}(this))},e.prototype.hasVideoFoam=function(){return null==this.videoFoam()?/videoFoam=true/.test(this.src):this.videoFoam()},e.prototype.stopMonitoring=function(){return n.eventLoop.remove(this.uuid+".monitor")},e.prototype.looksDown=function(){return!this.iframe||!n.elem.inDom(this.iframe)||n.elem.isHidden(this.iframe)},e.prototype.looksUp=function(){return!this.looksDown()},e.prototype._trigger=function(){var e,i;return i=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],"play"===i&&(this._firedPlayCount+=1,"flash"===this.embedType()&&this.params.autoPlay&&1===this._firedPlayCount&&this._firedSyntheticPlay)?void 0:n.timeout(this.uuid+".trigger."+i,function(n){return function(){return n.trigger.apply(n,[i].concat(t.call(e)))}}(this))},e.prototype.play=function(){return this.ready(function(t){return function(){return t.postMessage("play")}}(this)),this},e.prototype.pause=function(){return this.ready(function(t){return function(){return t.postMessage("pause")}}(this)),this},e.prototype.time=function(t){return null==t?this._time||0:(this.ready(function(e){return function(){return e.postMessage("time",t)}}(this)),this)},e.prototype.volume=function(t){return null==t?this._volume||0:(this.ready(function(e){return function(){return e.postMessage("volume",t)}}(this)),this)},e.prototype.isMuted=function(){return!!this._isMuted},e.prototype.mute=function(){return this.ready(function(t){return function(){return t.postMessage("mute")}}(this)),this},e.prototype.unmute=function(){return this.ready(function(t){return function(){return t.postMessage("unmute")}}(this)),this},e.prototype.setEmail=function(t){return this.email(t)},e.prototype.email=function(t){var e;return void 0===t?this._email||(null==(e=this.params)?void 0:e.trackEmail)||null:(this.bound(function(e){return function(){return e.postMessage("email",t)}}(this)),this._email=t)},e.prototype.foreignData=function(t){if(n.detect.json){if(void 0===t)return this._foreignData||null;if(null===t)return this.bound(function(e){return function(){return e.postMessage("foreignData",t)}}(this)),this._foreignData=null;if(!n.obj.isObject(t))throw"foreignData can only be an Object";return t=n.obj.clone(t),this.bound(function(e){return function(){return e.postMessage("foreignData",t)}}(this)),this._foreignData=t}},e.prototype.height=function(t){return null==t?n.elem.isHidden(this.iframe)?null==this.iframe.style.height?parseInt(this.iframe.height,10):parseInt(this.iframe.style.height,10):n.elem.height(this.iframe):(t=parseInt(t,10),this.bound(function(e){return function(){return e.postMessage("height",t)}}(this)),this.iframe.style.height=t+"px",this.iframe.height=t,this)},e.prototype.width=function(t){return null==t?n.elem.isHidden(this.iframe)?null==this.iframe.style.width?parseInt(this.iframe.width,10):parseInt(this.iframe.style.width,10):n.elem.width(this.iframe):(t=parseInt(t,10),this.bound(function(e){return function(){return e.postMessage("width",t)}}(this)),this.iframe.style.width=t+"px",this.iframe.width=t,this)},e.prototype.videoHeight=function(t){var e;return null==t?0<this._videoHeight?this._videoHeight:(e=this.src.match(/videoHeight=(\d+)/))?parseInt(e[1],10):n.elem.height(this.iframe):(t=parseInt(t,10),this.bound(function(e){return function(){return e.postMessage("videoHeight",t)}}(this)),this.embedded(function(e){return function(){var i;if(i=null==e._height?t+e.origPluginHeight:t+e._height-e._videoHeight,e.iframe.style.height=i+"px",e.iframe.height=i,n.detect.browser.ltie8)return e._videoHeight=t}}(this)),this)},e.prototype.videoWidth=function(t){var e;return null==t?0<this._videoWidth?this._videoWidth:(e=this.src.match(/videoWidth=(\d+)/))?parseInt(e[1],10):n.elem.width(this.iframe):(t=parseInt(t,10),this.bound(function(e){return function(){return e.postMessage("videoWidth",t)}}(this)),this.embedded(function(e){return function(){var i;if(i=null==e._width?t+e.origPluginWidth:t+e._width-e._videoWidth,e.iframe.style.width=i+"px",e.iframe.width=i,n.detect.browser.ltie8)return e._videoWidth=t}}(this)),this)},e.prototype.extraHeight=function(){return this.origPluginHeight?this.origPluginHeight:this._height?this._height-this._videoHeight:0},e.prototype.extraWidth=function(){return this.origPluginWidth?this.origPluginWidth:this._width?this._width-this._videoWidth:0},e.prototype.heightForWidth=function(t){return i(t/this.aspect())},e.prototype.widthForHeight=function(t){return i(t*this.aspect())},e.prototype.aspect=function(){return this.origAspectRatio||1.333},e.prototype.addPlugin=function(t,e){var i;return null==e&&(e={}),!1===e.on||this.injectedPlugin(t)||(e.outsideIframe?n.plugin._inject(this,t,e):n.detect.browser.msie?(i=n.url.parse(this.iframe.src),n.obj.set(i.params,["plugin",t],e),this.iframe.src=i.absolute()):this.bound(function(n){return function(){return n.postMessage("addPlugin",t,e)}}(this)),this._injectedPlugins[t]=!0),this},e.prototype.videoFoam=function(t){return null==t?this._videoFoam:this._videoFoam=t},e.prototype.hasPlugin=function(t){var e;return!!(this._injectedPlugins[t]||(null==(e=this.parsedSrc.params.plugin)?void 0:e[t]))},e.prototype.injectedPlugin=function(t){return!!this._injectedPlugins[t]},e.prototype.duration=function(){return this._duration||null},e.prototype.state=function(){return this._state||"beforeplay"},e.prototype.name=function(){return this._name||""},e.prototype.hashedId=function(){return this._hashedId||this.parsedSrc.path[this.parsedSrc.path.length-1]},e.prototype.embedType=function(){return this._embedType},e.prototype.eventKey=function(){return this._eventKey||null},e.prototype.visitorKey=function(){return this._visitorKey||null},e.prototype.percentWatched=function(){return this._percentWatched||0},e.prototype.getEventKey=function(){return this.eventKey()},e.prototype.getVisitorKey=function(){return this.visitorKey()},e.prototype.startIframeHandshake=function(){return this.postMessage("startIframeHandshake",this.signature)},e.prototype.postMessage=function(){var e,i,o,r;if(r=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],!n.detect.browser.ltie8){try{if(!this.iframe.contentWindow.postMessage)return}catch(o){return void(i=o)}return o={signature:this.signature,method:r,args:e},o=JSON.stringify(o),this.iframe.contentWindow.postMessage(o,"*")}},e.prototype.updateProperties=function(t){var e,i,o;for(e in i=[],t)o=t[e],n.obj.isObject(o)?i.push(this[e]=n.obj.merge({},this[e],o)):i.push(this[e]=o);return i},e.prototype.enableFullscreen=function(){var t,e,n,i,o,r;for(i=["allowfullscreen","mozallowfullscreen","webkitallowfullscreen","oallowfullscreen","msallowfullscreen"],r=[],e=0,n=i.length;e<n;e++)t=i[e],r.push(null==(o=this.iframe)?void 0:o.setAttribute(t,t));return r},e}(),n.mixin(n.IframeApi.prototype,n.bindable),i=n.IframeApi.prototype.trigger,n.IframeApi.prototype.trigger=function(){var e,n,o;return n=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],i.call.apply(i,[this,n].concat(t.call(e))),null==(o=window.wistiaEmbeds)?void 0:o.trigger.apply(o,[n,this].concat(t.call(e)))},n.mixin(n.IframeApi.prototype,n.logHelpers),n.IframeApi.prototype._logPrefix=function(){var t;return[this.constructor.name,this.hashedId()||"no hashedId",null==(t=this.container)?void 0:t.id,this.uuid]},n.PlaylistIframeAPI=function(t){function i(){i.__super__.constructor.apply(this,arguments),this.relay.bind("boundcurrentvideo",function(t){return function(){return t._currentVideo=new n.IframeApi(t.iframe,{uuid:t.uuid+"-current-video",signature:t.signature+"-current-video"}).init()}}(this))}return e(i,t),i.prototype.embed=function(t,e){return this.ready(function(n){return function(){return n.postMessage("embed",t,e)}}(this))},i.prototype.play=function(t,e){return this.ready(function(n){return function(){return n.postMessage("play",t,e)}}(this))},i.prototype.currentVideo=function(){return this._currentVideo},i}(n.IframeApi),window.wistiaBindIframes=function(){var t,e,i,o,r,s,a,l,u,c;for(o=document.getElementsByTagName("iframe"),l=[],e=0,s=o.length;e<s;e++)i=o[e],i.wistiaApi||!/wistia_embed/.test(i.className)&&"wistia_embed"!==i.name?!i.wistiaApi&&(/wistia_playlist/.test(i.className)||"wistia_playlist"===i.name)&&(i.wistiaApi=new n.PlaylistIframeAPI(i),n.data("iframe_api."+i.wistiaApi.signature,i.wistiaApi),i.wistiaApi.init(),l.push(i.wistiaApi),window.wistiaApi=i.wistiaApi):(i.wistiaApi=new n.IframeApi(i),n.data("iframe_api."+i.wistiaApi.signature,i.wistiaApi),i.wistiaApi.init(),l.push(i.wistiaApi),window.wistiaApi=i.wistiaApi);for(null!=(u=window.wistiaEmbeds)&&u.bindHandles(),c=[],r=0,a=l.length;r<a;r++)t=l[r],c.push(t.trigger("initembed"));return c},n._initializers.initIframeApi=function(){if(wistiaBindIframes(),!window._inWistiaIframe&&!window.wistiaDispatch&&!window._wistiaIframeShim)return null==window.wistiaDispatch&&(window.wistiaDispatch=function(t){var e,i;if("new-wistia-iframe"===t.data)return wistiaBindIframes();if(i="string"==typeof t.data&&/wistia-iframe-/.test(t.data)?JSON.parse(t.data):t.data,/wistia-iframe-/.test(i.signature)){if(!(e=n.data("iframe_api."+i.signature)))return"undefined"!=typeof console&&null!==console?console.log("Ignored "+i.method+" call, no handle for "+i.signature):void 0;if("relay.trigger"===i.method)return n.obj.get(e,i.method).apply(e.relay,i.args);if("play"!==i.method||!(n.detect.iphone||n.detect.ipad||n.detect.android))return n.obj.get(e,i.method).apply(e,i.args)}}),n.elem.bind(window,"message",wistiaDispatch)},n._destructors.destroyIframeApi=function(){return window.wistiaDispatch&&n.elem.unbind(window,"message",window.wistiaDispatch),window.wistiaDispatch=null}}(Wistia)},function(){var t=function(t,n){function i(){this.constructor=t}for(var o in n)e.call(n,o)&&(t[o]=n[o]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t},e={}.hasOwnProperty;!function(e){if(!e.EmbedListener)e.EmbedListener=function(n){function i(){this.uuid=e.seqId(),this.bindHandles(),this.bind("down",function(t){return function(){return t.info("got down event, prune and rebind handles"),e.timeout("prune_zombies_later",function(){return t.pruneZombies(),t.bindHandles()})}}(this)),this.bind("up",function(t){return function(e){return t.info("got up event, set _bound=false for",e),e._bound=!1,t.bindHandles()}}(this))}return t(i,n),i.prototype.bindHandles=function(){var t,e,n,i,o;for(t=this.allUnboundHandles(),this.info("bindHandles",t),o=[],n=0,i=t.length;n<i;n++)e=t[n],this.info("bind to all events for",e),e._bound=!0,o.push(this.push(e));return o},i.prototype.pruneZombies=function(){var t,e,n,i,o,r,s,a,l,u,c;for(this.info("pruneZombies"),c=[],a=this.allBoundHandles(),n=0,r=a.length;n<r;n++)t=a[n],t.looksDown()?this.info("prune zombie",t):c.push(t);for(e=i=0,l=this.length;0<=l?i<=l:i>=l;e=0<=l?++i:--i)delete this[e];for(this.length=0,u=[],o=0,s=c.length;o<s;o++)t=c[o],u.push(this.push(t));return u},i.prototype.allBoundHandles=function(){var t,e,n,i,o;for(o=[],i=this.allHandles(),e=0,n=i.length;e<n;e++)t=i[e],t._bound&&o.push(t);return o},i.prototype.allUnboundHandles=function(){var t,e,n,i,o;for(o=[],i=this.allHandles(),e=0,n=i.length;e<n;e++)t=i[e],t._bound||o.push(t);return o},i.prototype.allHandles=function(){return this.apiHandles().concat(this.iframeApiHandles())},i.prototype.iframeApiHandles=function(){var t,e,n,i,o;for(this.iframes||(this.iframes=document.getElementsByTagName("iframe")),o=[],i=this.iframes,e=0,n=i.length;e<n;e++)t=i[e],t.wistiaApi&&o.push(t.wistiaApi);return o},i.prototype.apiHandles=function(){var t,e,n,i;if(e=[],window.Wistia)for(n in i=Wistia.data("video"))t=i[n],e.push(t);return e},i.prototype.each=function(t){var e,n,i,o,r;for(o=this.allBoundHandles(),r=[],n=0,i=o.length;n<i;n++)e=o[n],r.push(t(e));return r},i.prototype.onFind=function(t){var e;return e=function(e){return function(n){return n.up(function(){return e.info("onFind",n),t(n),n.unbind})}}(this),this.each(e),this.bind("initembed",e)},i}(Array),e.mixin(e.EmbedListener.prototype,e.bindable),e.mixin(e.EmbedListener.prototype,e.logHelpers),e._initializers.initEmbedShepherd=function(){return window.wistiaEmbeds?(e.info("window.wistiaEmbeds already exists, call bindHandles"),"function"==typeof wistiaEmbeds.bindHandles&&wistiaEmbeds.bindHandles()):(e.info("initialize embed shepherd"),window.wistiaEmbeds=new e.EmbedListener),e.info("call window.wistiaEmbedShepherdReady()"),"function"==typeof window.wistiaEmbedShepherdReady?window.wistiaEmbedShepherdReady():void 0},e._destructors.destroyEmbedShepherd=function(){var t;return null!=(t=window.wistiaEmbeds)&&t.each(function(t){return t._bound=!1}),window.wistiaEmbeds=null}}(Wistia)},function(){var t=[].slice;!function(e){if(!e.integrations)e.integrations={},e.integrations._all={},e.integrations.register=function(n,i){var o,r,s;return o=function(o){var r;return i[o]?r=function(){var r,s;return s=arguments[0],r=2<=arguments.length?t.call(arguments,1):[],s.hasData(function(){var a,l,u;return!1===(null==(a=s.params)?void 0:a[e.util.camelCase(n)])?void 0:(null==(l=s._mediaData)||null==(u=l.integrations)?void 0:u[n])?i[o].apply(i,[s].concat(t.call(r))):void 0})}:null},r=function(o){var r;return i[o]?(i.initialized=!1,r=function(){var r,s;return s=arguments[0],r=2<=arguments.length?t.call(arguments,1):[],s.hasData(function(){var a,l,u;return!1===(null==(a=s.params)?void 0:a[e.util.camelCase(n)])||!0===window.disableWistiaIntegrationTracking?void 0:!i.initialized&&(null==(l=s._mediaData)||null==(u=l.integrations)?void 0:u[n])?(i[o].apply(i,[s].concat(t.call(r))),i.initialized=!0):void 0})}):null},s={pushPercentWatchedEvent:o("pushPercentWatchedEvent"),pushPlayEvent:o("pushPlayEvent"),pushConversionEvent:o("pushConversionEvent"),pushConversionMidrollLinkEvent:o("pushConversionMidrollLinkEvent"),pushConversionPostRollEvent:o("pushConversionPostRollEvent"),onFind:o("onFind"),onInit:r("onInit")},e.integrations._all[n]=s},e.integrations.each=function(){var n,i,o,r,s,a;for(r in i=arguments[0],n=2<=arguments.length?t.call(arguments,1):[],s=e.integrations._all,a=[],s)o=s[r],"string"==typeof i?a.push("function"==typeof o[i]?o[i].apply(o,n):void 0):a.push(i(o,r));return a},e._initializers.initIntegrations=function(){return e.integrations._setup?void 0:e.integrations.setup()},e._destructors.destroyIntegrations=function(){return"undefined"!=typeof wistiaEmbeds&&null!==wistiaEmbeds&&wistiaEmbeds.each(function(t){return"function"==typeof t._destroyIntegrations?t._destroyIntegrations():void 0}),this._all={},e.integrations._setup=!1},e.integrations.setup=function(){if(!window._inWistiaIframe)return e.integrations._setup=!0,wistiaEmbeds.onFind(function(n){var i,o,r,s,a,l,u;if(a=function(t){return e.integrations.each("pushPercentWatchedEvent",n,t)},o=function(){var i;return(i=e.integrations).each.apply(i,["pushConversionEvent",n].concat(t.call(arguments)))},r=function(t){return e.integrations.each("pushConversionMidrollLinkEvent",n,t)},s=function(t){return e.integrations.each("pushConversionPostRollEvent",n,t)},l=function(){return e.integrations.each("pushPlayEvent",n),n.unbind},i=function(){return n.hasData(function(){return n.bind("percentWatchedThreshold",a),n.bind("conversion",o),n.bind("conversion-link",r),n.bind("conversion-postRoll",s),n.bind("play",l)})},u=function(){return n.unbind("play",l),n.unbind("conversion",o),n.unbind("percentWatchedThreshold",a)},n._initIntegrations=function(){return i()},n._destroyIntegrations=function(){return u()},n.bind("beforereplace",u),n.bind("afterreplace",i),i(),e.integrations.each("onInit",n),e.integrations.each("onFind",n),"playing"===n.state)return l()})}}(Wistia)},function(){!function(t){t.integrations.register("google_analytics",{pushPercentWatchedEvent:function(t,e){return this._pushEvent(Math.round(100*e)+"% Watched",t.name())},pushPlayEvent:function(t){return this._pushEvent("Play",t.name())},pushConversionEvent:function(t){return this._pushEvent("Conversion",t.name())},pushConversionMidrollLinkEvent:function(t,e){return this._pushEvent("Clicked Link - "+e.link,t.name())},pushConversionPostRollEvent:function(t,e){return this._pushEvent("Clicked Link - "+e.link,t.name())},_gaTrackers:function(){var t,e,n,i,o,r,s,a,l,u,c,h,d,p;if(d=[],n={},"undefined"!=typeof ga&&null!==ga?ga.getAll:void 0)for(u=ga.getAll(),t=0,r=u.length;t<r;t++)p=u[t],e=p.get("trackingId"),n[e]=p.get("name");if("undefined"!=typeof gaTracker&&null!==gaTracker?gaTracker.getAll:void 0)for(c=gaTracker.getAll(),i=0,s=c.length;i<s;i++)p=c[i],e=p.get("trackingId"),n[e]=p.get("name");if("undefined"!=typeof __gaTracker&&null!==__gaTracker?__gaTracker.getAll:void 0)for(h=__gaTracker.getAll(),o=0,a=h.length;o<a;o++)p=h[o],e=p.get("trackingId"),n[e]=p.get("name");return d=function(){var t;for(e in t=[],n)l=n[e],t.push(l);return t}()},_pushEvent:function(e,n){var i,o,r,s,a,l;if(null!=(i=window[window.GoogleAnalyticsObject]||window.ga)){for(s=this._gaTrackers(),a=[],o=0,r=s.length;o<r;o++)l=s[o],i(l+".send","event","Video",e,n),a.push(t.info("Push to "+(window.GoogleAnalyticsObject||"ga")+": "+l+".send, event, Video, "+e+", "+n));return a}return null==window._gaq?void 0:(_gaq.push(["_trackEvent","Video",e,n]),t.info("Push to _gaq: _trackEvent, Video, "+e+", "+n))}})}(Wistia)},function(){!function(t){t.integrations.register("hubspot",{onFind:function(e){return this._setVideoForeignData(e),t.visitorKey.ready(function(n){return function(){return n._setVisitorForeignData(e,t.visitorKey.value())}}(this)),window._hsq.push(function(t){return function(n){return t._setHubSpotForeignData(e,n)}}(this))},onInit:function(){var e;return null==window._hsq&&(window._hsq=[]),e=!1,t.visitorKey.ready(function(){if(!e)return _hsq.push(["identify",{wistia_visitor_key:t.visitorKey.value()}]),e=!0})},_setVideoForeignData:function(t){var e,n,i;return n=document.location.href.split("?")[0],e=(null==(i=document.getElementsByTagName("title")[0])?void 0:i.innerHTML)||"",e=e.replace(/^[\n\s]+/,"").replace(/[\n\s]+$/,""),e=e.replace(/[^\x00-\x7F]/g,""),t.foreignData(Wistia.obj.merge({},t.foreignData(),{page_url:n,page_name:e}))},_setVisitorForeignData:function(t,e){return t.foreignData(Wistia.obj.merge({},t.foreignData(),{wistia_visitor_key:e}))},_setHubSpotForeignData:function(t,e){return t.foreignData(Wistia.obj.merge({},t.foreignData(),{hubspot_hutk:e.utk.visitor,canonical_url:e.canonicalUrl,page_id:e.pageId,content_type:e.contentType}))}})}(Wistia)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"getPlugin",function(){return r}),n.d(e,"defaultGetHubspotUtk",function(){return s}),n.d(e,"registerPlugin",function(){return a});var i=n(0),o=Object.assign||function(t){for(var e,n=1;n<arguments.length;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},r=function(t){var e=t.getHubspotUtk;return{onFind:function(t){e(i.default).then(function(e){t.foreignData(o({},t.foreignData(),{hubspot_utk:e}))})}}},s=function(t){var e,n=new t.StopGo;return function i(o){e=t.cookie("hubspotutk"),e?n(!0,e):0<o&&setTimeout(i,1e3,o-1)}(10),{then:n}},a=function(){var t=r({getHubspotUtk:s});i.default.integrations.register("hubspot_v2",t)}},function(){!function(t){var e;e={onFind:function(t){return this._setForeignData(t)},pushPercentWatchedEvent:function(t,e){return this._pushEvent(t,Math.round(100*e)+"% Watched")},pushPlayEvent:function(t){return this._pushEvent(t,"Played")},pushConversionEvent:function(t,e,n){return this._pushEvent(t,"Conversion - "+n)},pushConversionMidrollLinkEvent:function(t,e){return this._pushEvent(t,"Clicked Link - "+e.link)},pushConversionPostRollEvent:function(t,e){return this._pushEvent(t,"Clicked Link - "+e.link)},_pushEvent:function(t,e){var n;if(window.Munchkin)return this._setForeignData(t),n=this._marketoUrlFormat(' - Wistia Video - "'+t.name().replace(/&amp;/g,"and")+'" - '+e),Munchkin.munchkinFunction("visitWebPage",{url:n})},_marketoUrlFormat:function(t){return encodeURIComponent(t.replace(/[?;]/g," ")),encodeURIComponent(t.replace(/[:]/g," - "))},_setForeignData:function(t,e){return null==e&&(e=""),this._cookie||this._setCookie(),t.foreignData(Wistia.obj.merge({},t.foreignData(),{marketoCookie:this._cookie}))},_setCookie:function(){return this._cookie=t.cookie("_mkto_trk")}},t.integrations.register("marketo_v2",e),t.integrations.register("marketo",e)}(Wistia)},function(){!function(t){var e;if(e=t,!e.VisitorKey)e.DISTILLERY_COOKIE="__distillery",!0===window.wistiaDisableCookies&&null==window.wistiaIframeShim&&(window.wistiaIframeShim=!1),e.VisitorKey=function(){function t(){this.ready=new e.StopGo,!1===window.wistiaIframeShim||e.detect.browser.msie&&(8>e.detect.browser.version||e.detect.browser.quirks)||!e.detect.localstorage?(!this.savedValue()&&(this._origin="new",this.persist(e.VisitorKey.generate())),this.ready(!0)):(this.setupOutsideShim(),e.util.pageLoaded(function(t){return function(){return t.executeShim("send_visitor_key|"+(t.savedValue()||"")+"|eac9c345f50650e899cfb59ae7e0cb69",!0)}}(this)))}return t.prototype.setupOutsideShim=function(){return this.info("@setupOutsideShim"),null==this._outsideShim&&(this._outsideShim=function(t){return function(n){var i,o,r,s;if(e.clearTimeouts("shim_timeout"),"string"==typeof n.data&&/^visitor_key/.test(n.data))return r=n.data.split("|"),i=r[0],s=r[1],o=r[2],t._origin=o,t.info("outsideShim got message "+n.data),t.persist(s),e.timeout("remove_iframe_shim",function(){return e.elem.remove(t._iframeShim)},1e3),e.timeout("visitor_key_ready",function(){return t.info("visitorKey ready(true)"),t.ready(!0)}),e.elem.unbind}}(this)),e.elem.rebind(window,"message",this._outsideShim)},t.prototype.executeShim=function(t,n){var i;if(null==n&&(n=!1),this.info("@executeShim",t,n),this._iframeShim=e.elem.fromObject({allowtransparency:"true",frameborder:0,height:1,scrolling:"no",src:e.proto()+"//"+e.remote.embedHost()+"/embed/iframe_shim?"+e.url.jsonToParams(this.ev1ParamsForShim()),style:{height:"1px",left:"-200px",position:"absolute",top:"-200px",width:"1px",direction:"ltr"},tagName:"iframe",width:1}),this._iframeShim.onload=function(e){return function(){return e.info("post request for visitor key",t),e._iframeShim.contentWindow.postMessage(t,"*")}}(this),(i=document.getElementsByTagName("script")[0])&&e.elem.after(i,this._iframeShim),n)return e.timeout("shim_timeout",function(n){return function(){return n.notice("shim timeout for",t),e.elem.unbind(window,"message",n._outsideShim),n.savedValue()||(n._origin="timeout",n.persist(e.VisitorKey.generate())),n.ready(!0)}}(this),5e3)},t.prototype.persist=function(t){var n;return e.VisitorKey.isValid(t)?(this.info("@persist",t),this._value=t,!0!==window.wistiaDisableCookies&&this.localStorageValue()!==this._value&&e.localStorage(e.DISTILLERY_COOKIE,this._value),!0!==window.wistiaDisableCookies&&this.cookieValue()!==this._value?(n=new Date,n.setTime(n.getTime()+31536e6),e.cookie(e.DISTILLERY_COOKIE,this._value,{expires:n,path:"/"})):void 0):void this.error(new Error("Attempted to persist invalid visitor key '"+t+"'"))},t.prototype.clear=function(){return this.info("clear"),this.clearFromCurrentDomain(),window._wistiaIframeShim||this.clearFromShimDomain(),this._value=null},t.prototype.clearFromCurrentDomain=function(){return e.removeLocalStorage(e.DISTILLERY_COOKIE,null),e.cookie(e.DISTILLERY_COOKIE,"",{expires:0,path:"/"})},t.prototype.clearFromShimDomain=function(){return this.executeShim("clear_visitor_key")},t.prototype.value=function(){return this._value||this.savedValue()},t.prototype.savedValue=function(){return this.localStorageValue()||this.cookieValue()},t.prototype.cookieValue=function(){return e.cookie(e.DISTILLERY_COOKIE)},t.prototype.localStorageValue=function(){return e.localStorage(e.DISTILLERY_COOKIE)},t.prototype.isValid=function(){return e.VisitorKey.isValid(this.value())},t.prototype.origin=function(){return this._origin},t.prototype.ev1ParamsForShim=function(){var t,n,i,o,r,s,a,l,u,c;for(u=document.getElementsByTagName("script"),s={domain:"net"},n=0,r=u.length;n<r;n++)if(l=u[n],c=l.getAttribute("src")){if(!c.indexOf)continue;if(t=0<=c.indexOf(e.remote.embedHost())?"com":0<=c.indexOf(e.remote.externalEmbedHost())?"net":null,i=0<=c.indexOf("/E-v1.js"),o=0<=c.indexOf("/static/"),t&&i)return a={domain:t},o&&(a.legacy=!0),a}return{domain:"net"}},t.prototype.cancelShim=function(){if(this._iframeShim&&(e.elem.remove(this._iframeShim),this._iframeShim=null),this._outsideShim)return e.elem.unbind(window,"message",this._outsideShim)},t.isValid=function(t){return 25<(null==t?void 0:t.length)&&/^[a-z0-9_\-\.]+$/i.test(t)},t.generate=function(){return e.uniqId("eac9c345f50650e899cfb59ae7e0cb69".substring(0,7)+"_")},t}(),e.mixin(e.VisitorKey.prototype,e.logHelpers),e._initializers.initVisitorKey=function(){return e.visitorKey=new e.VisitorKey},e._destructors.destroyVisitorKey=function(){var t;return null!=(t=e.visitorKey)&&t.cancelShim(),e.visitorKey=null}}(Wistia)},function(){!function(t){t.TimeHelper||(t.TimeHelper=function(){function t(){}var e,n;return t.secondsIntoDurationGroups=function(t){var e,i,o,r=Math.floor;return t=n(t),o=r(t),e=r(o/3600),o-=3600*e,i=r(o/60),o-=60*i,{hours:e,minutes:i,seconds:o}},n=function(t){return 0|Math.abs(parseInt(t))},t.secondsToIso8601=function(t){var e,n,i,o,r;return e=this.secondsIntoDurationGroups(t),n=e.hours.toString(),i=e.minutes.toString(),o=e.seconds.toString(),r=["00".substring(n.length)+n,"00".substring(i.length)+i,"00".substring(o.length)+o],r.join(":")},t.secondsToHumanDuration=function(t){var e,n,i,o,r;for(n in e=this.secondsIntoDurationGroups(t),o={hours:0===e.hours?void 0:e.hours+"h",minutes:0!==e.minutes||60<=t&&0!==e.seconds?e.minutes+"m":void 0,seconds:0!==e.seconds||0===e.minutes&&3600>t?e.seconds+"s":void 0},i="",o)null!=(r=o[n])&&(i+=r);return i},t.TRIM_REGEXP=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,t.isValidHumanDuration=function(t){var e,n,i,o,r,s,a,l,u,c,h,d;if(void 0===t||null===t||""===t)return!1;if(t=(""+t).replace(this.TRIM_REGEXP,""),null===t.match(/[\dhms]+/)||null===t.match(/[hms]+/))return!1;if(t.match(/[\dhms]+/)[0]!==t)return!1;for(u=["h","m","s"],n=0,o=u.length;n<o;n++)if(s=u[n],h=new RegExp(s,"g"),null!==t.match(h)&&1<t.match(h).length)return!1;if(a=t.match(/[hms]/g),3===a.length&&("h"!==a[0]||"m"!==a[1]||"s"!==a[2]))return!1;if(2===a.length){for(e=!1,l=a.join(""),c=["hm","hs","ms"],i=0,r=c.length;i<r;i++)if(d=c[i],l===d){e=!0;break}if(!e)return!1}return!0},e=function(t,e){var n,i;return n=new RegExp("\\d+"+t),i=e.match(n),i?parseInt(i[0].match(/\d+/)[0]):0},t.humanDurationToSeconds=function(t){var n,i,o,r,s;if(t=t?t.toString():"",s=0,this.isValidHumanDuration(t))for(i=[3600*e("h",t),60*e("m",t),e("s",t)],o=0,r=i.length;o<r;o++)n=i[o],s+=n;return s},t.isValidIso8601=function(t){
return void 0!==t&&null!==t&&""!==t&&("string"==typeof t&&(t=t.replace(this.TRIM_REGEXP,""),null!==t.match(/[\d:]+/)&&t.match(/[\d:]+/)[0]===t))},t.iso8601ToSeconds=function(t){var e,i,o,r,s,a,l;for(t=t?t.toString():"",l=0,a=[1,60,3600],i=t.split(":").reverse(),o=r=0,s=i.length;r<s;o=++r)e=i[o],l+=e*a[o];return n(l)},t}())}(Wistia)},function(){!function(t){t._initializers.initSpecificTime=function(){var e,n,i;try{return parent===self?(i=location.href.match(/[\?&]wtime=([\dhms]*)/),2<=(null==i?void 0:i.length)&&!t._specificTimeInitiated?(t._specificTimeInitiated=!0,n=!1,wistiaEmbeds.onFind(function(t){if(!n)return n=!0,t.time(i[1]).play()})):void 0):void 0}catch(n){return e=n,t.error(e),t._specificTimeInitiated=!1}}}(Wistia)},function(t,e,n){!function(t){t.Interpolation||(t.Interpolation=n(39))}(Wistia)},function(){!function(t){null==t.mux&&(t.mux={}),t._initializers.initMux=function(){if(!t.mux._setup)return t.mux._setup=!0,t.mux._disabled=!1,t.api.onFind(function(e){return window.wistiaDisableMux||window.wistiaDisableCookies||t.mux._disabled||e.iframe||e._opts&&!1===e._opts.mux?void 0:t.asyncRequire("wistia-mux.js").then(function(t){return e.embedded(function(){return t(e)})})})},t._destructors.destroyMux=function(){var e,n,i,o,r,s;for(t.mux._disabled=!0,i=t.api.all(),r=[],e=0,n=i.length;e<n;e++)s=i[e],r.push(null==(o=s.mux)?void 0:"function"==typeof o.destroy?o.destroy():void 0);return r}}(Wistia)},function(t,e,n){!function(t){t.featureEvent||(t.featureEvent=n(102))}(Wistia)},function(t,e,n){var i,o,r,s,a;o=n(19),i=n(24).ajaxPost,r=n(6).objectToQueryParams,a=function(t,e){return e||(e={}),e.key=t,i("/feature_events",{data:r(e)})},s=function(t,e,n){return n||(n={}),n.key=t,n.account_id=e,i("//fast.wistia.com/feature_events",{data:r(n)})},t.exports={trackForCurrentAccount:a,track:s}},function(t,e,n){!function(t){var e;e=n(10).doTimeout,t._initializers.initEditInPlace=function(){return t._editInPlaceTest=!1,e("setup_edit_in_place_test",function(){if(!t._editInPlaceTest)return t._editInPlaceTest=!0,t.api.onFind(function(e){return e.hasData(function(){var n;if(null!=(n=e.grid)&&n.root)return t.elem.bind(e.grid.root,"mouseover",function(n){var i,o;if(i=/weditInPlace=true/.test(location.href),null==t._allowEditInPlace&&(t._allowEditInPlace=null!=(o=e._mediaData)&&o.customizeInPlaceEnabled),i||t._allowEditInPlace)return t.remote.canEditMedia(e.hashedId()).then(function(i){return t.info("experiment: canEditMedia",e.hashedId(),i),e.plugin("editInPlace",function(t){return t.onMouseoverVideo(n)}),e.addPlugin("editInPlace",{on:!0})})}),t.elem.unbind})})})}}(Wistia)},function(){!function(t){var e,n;n=t.initializeOnce=function(){return t._initializers.initDetect(),t._initializers.initLocalStorage(),t._initializers.initWLog(),t._initializers.initVisitorKey(),t._initializers.initEventLoop(),t._initializers.initFullscreenTriggers(),t._initializers.initEditInPlace()},e=t.initializeEveryTime=function(){var e;return t._initializers.initEmbedShepherd(),t._initializers.initMux(),t._initializers.initAsyncEmbeds(),t._initializers.initIframeApi(),t._initializers.initEmbedLinks(),t._initializers.initSpecificTime(),t._initializers.initIntegrations(),null==(e=t.eventLoop)?void 0:e.resync()},t.destroy=function(){return t._destructors.destroyAsyncEmbeds(),t._destructors.destroyIframeApi(),t._destructors.destroyEmbedShepherd(),t._destructors.destroyEmbedLinks(),t._destructors.destroyFullscreenTriggers(),t._destructors.destroyEventLoop(),t._destructors.destroyVisitorKey(),t._destructors.destroyWLog(),t._destructors.destroyIntegrations(),t._destructors.destroyMux()},t.destroyGlobals=function(){var t,e,n;for(t in window.Wistia=null,window.wistiaApi=null,window.wistiaDispatch=null,window.wistiaBindIframes=null,window.wistiaEmbeds=null,window._wistiaElemId=null,window.wistiaInitQueue=null,window.wistiaInit=null,window.wistiaEmbedShepherdReady=null,e=[],window)n=window[t],/^wistiajson/.test(t)?e.push(window[t]=null):e.push(void 0);return e},t.reinitialize=function(){return t.destroy(),t.initializeOnce(),t.initializeEveryTime()},t._initialized||(t._initialized=!0,t.initializeOnce()),t.initializeEveryTime()}(Wistia)},,function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=n(0),r=function(){function t(t,e){for(var n,i=0;i<e.length;i++)n=e[i],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=o.default.lib("player/lib/elem"),a=s.elemRemove,l=o.default.lib("preact"),u=l.h,c=l.render,h=function(){function t(e){i(this,t),this.video=e,this.unbinds=[],this.reactMounts={}}return r(t,[{key:"mount",value:function(t){this.rootElem=t}},{key:"destroy",value:function(){this._destroyed=!0,this.unbinds instanceof Array&&(this.unbinds.map(function(t){try{t()}catch(t){setTimeout(function(){throw t},1)}}),this.unbinds=null);var t=this.reactMounts;if(t)if(t instanceof Array)p(t);else for(var e in t)t.hasOwnProperty(e)&&t[e]&&p(t[e]);for(var n in this.rootElem&&a(Array.prototype.slice.call(this.rootElem.childNodes)),this)this.hasOwnProperty(n)&&!d(n)&&"mounted"!=n&&(this[n]=null);this.__prevProps=null,this._destroyed=!0}}]),t}(),d=function(t){return"_"===t[0]&&"_"===t[1]},p=function(t){var e=t[0],n=t[1];e&&n&&c(u("nothing",null),e,n)};e.a=h},,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=i.default.lib("player/lib/elem"),r=o.elemBind,s=i.default.lib("utilities/detect"),a=s.cachedDetect,l=a();if(null==i.default._isMouseDown){i.default._isMouseDown=!1;var u=function(t){i.default._isMouseDown=!0,setTimeout(function(){t.defaultPrevented&&(i.default._isMouseDown=!1)},0)},c=function(){i.default._isMouseDown=!1},h=function(){setTimeout(function(){i.default._isMouseDown=!1},0)};l.touchScreen?(r(document,"touchstart",u,!0),r(document,"touchend",h,!0)):(r(document,"mousedown",u,!0),r(document,"mouseup",c,!0));var d=l.windows?c:u;r(document,"contextmenu",d,!0),i.default._isMouseDown=!0,i.default.isMouseDown=function(){return i.default._isMouseDown}}i.default.define("vulcanV2Video/isMouseDown.js",i.default.isMouseDown),e.default=i.default.isMouseDown},,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"standardSvgAttrs",function(){return o});var i=n(0),o=function(t,e){return{x:"0px",y:"0px",viewBox:"0 0 "+t+" "+e,"enable-background":"new 0 0 "+t+" "+e,style:{fill:"#ffffff",width:"100%",height:"100%",left:0,top:0,strokeWidth:0}}};i.default.define("vulcanV2Video/svg_boilerplate.js",{standardSvgAttrs:o})},,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return r});var o=function(){function t(t,e){for(var n,i=0;i<e.length;i++)n=e[i],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=function(){function t(e){i(this,t),this.impl=e,this.unbinds=[],this.namedUnbinds={}}return o(t,[{key:"addNamedUnbind",value:function(t,e){this.namedUnbinds[t]&&this.namedUnbinds[t](),this.namedUnbinds[t]=e}},{key:"removeNamedUnbind",value:function(t){this.namedUnbinds[t]&&(this.namedUnbinds[t](),delete this.namedUnbinds[t])}},{key:"destroy",value:function(){for(var t in this.unbinds instanceof Array&&this.unbinds.map(function(t){return t()}),this.namedUnbinds)this.namedUnbinds.hasOwnProperty(t)&&this.namedUnbinds[t].map(function(t){return t()});this.unbinds=[],this.namedUnbinds={},this.impl=null,this._destroyed=!0}}]),t}()},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),r=function(){function t(t,e){for(var n,i=0;i<e.length;i++)n=e[i],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=o.default.lib("utilities/bindify"),a=s.bindify,l=o.default.lib("player/lib/elem"),u=l.elemBind,c=l.elemUnbind,h=l.elemWidth,d=l.elemHeight,p=l.elemOffset,f=o.default.lib("utilities/detect"),m=f.cachedDetect,y=m(),g=function(){function t(n){var o=this;i(this,t),this.onTouchStart=function(t){o.rootWidth=h(o.rootElem),o.rootHeight=d(o.rootElem),o.rootOffset=p(o.rootElem),o.resetTouchContext(),t.touches[0]&&(o.xDown=t.touches[0].clientX,o.yDown=t.touches[0].clientY),o.updatePinch(t),2==t.touches.length&&o.touchesAreInsideRootElem()&&(o.isPinch=!0,t.preventDefault()),o.startedAt=Date.now(),u(document,"touchmove",o.onTouchMoveDocument,{passive:!1}),u(document,"touchend",o.onTouchEndDocument),u(o.rootElem,"touchmove",o.onTouchMove,{passive:!1}),u(o.rootElem,"touchend",o.onTouchEnd);var e=o.getTouchContext(t);o.trigger("touchstart",t,e),o.maybeTriggerMoreSpecificEvent(t,e)},this.onTouchMove=function(t){t._handledByTouchMove=!0;var n=t.touches[0].clientX,i=t.touches[0].clientY;if(o.xDiff=o.xDown-n,o.yDiff=o.yDown-i,o.updatePinch(t),!o.isPinch){(25<e(o.xDiff*o.xDiff+o.yDiff*o.yDiff)||300<Date.now()-o.startedAt)&&(o.isSwipe=!0)}var r=o.getTouchContext(t);o.trigger("touchmove",t,r),o.maybeTriggerMoreSpecificEvent(t,r)},this.onTouchMoveDocument=function(t){t._handledByTouchMove||o.onTouchMove(t)},this.onTouchEnd=function(t){t._handledByTouchEnd=!0,o.updatePinch(t);var e=o.getTouchContext(t);o.trigger("touchend",t,e),o.maybeTriggerMoreSpecificEvent(t,e),o.resetTouchContext(),o.unbindTouchEndAndTouchMove()},this.onTouchEndDocument=function(t){t._handledByTouchEnd||o.onTouchEnd(t)},this.rootElem=n,this.xDown=this.yDown=null,this.xDiff=this.yDiff=0,this.isSwipe=!1,this.isPinch=!1,this.startedAt=null,this.initialPinchDelta=null,this.touch1=this.touch2=null,this.pinchDelta=0,this.pinchScale=0,u(n,"touchstart",this.onTouchStart,!!y.passiveSupported&&{passive:!1})}var e=Math.sqrt;return r(t,[{key:"updatePinch",value:function(t){var n=Math.pow,i=this.rootOffset;return 2===t.touches.length?(this.touch1={left:t.touches[0].pageX-i.left,top:t.touches[0].pageY-i.top},this.touch2={left:t.touches[1].pageX-i.left,top:t.touches[1].pageY-i.top},this.pinchDelta=e(n(this.touch1.left-this.touch2.left,2),n(this.touch1.top-this.touch2.top,2)),null==this.initialPinchDelta&&(this.initialPinchDelta=this.pinchDelta),this.pinchScale=this.pinchDelta/this.initialPinchDelta,this.pinchScale):0}},{key:"getTouchContext",value:function(t){var n=Math.abs,i=this.rootOffset,o=t.pageX-i.left,r=t.pageY-i.top,s=Date.now()-this.startedAt;return{xOffset:o,yOffset:r,xDelta:this.xDiff,yDelta:this.yDiff,absXDelta:n(this.xDiff),absYDelta:n(this.yDiff),delta:e(this.xDiff*this.xDiff+this.yDiff*this.yDiff),startedAt:this.startedAt,isSwipe:!this.isPinch&&this.isSwipe,isTap:1e3>s&&!this.isPinch&&!this.isSwipe,isLongPress:1e3<=s&&!this.isPinch&&!this.isSwipe,isPinch:this.isPinch,timeDelta:s,pinchScale:this.pinchScale,pinchDelta:this.pinchDelta}}},{key:"touchIsInsideRootElem",value:function(t){return 0<=t.left&&t.left<this.rootWidth&&0<=t.top&&t.top<this.rootHeight}},{key:"touchesAreInsideRootElem",value:function(){return this.touchIsInsideRootElem(this.touch1)&&this.touchIsInsideRootElem(this.touch2)}},{key:"resetTouchContext",value:function(){this.xDown=this.yDown=null,this.xDiff=this.yDiff=0,this.isSwipe=!1,this.isPinch=!1,this.startedAt=null,this.pinchDelta=0,this.initialPinchDelta=null,this.touch1=this.touch2=null}},{key:"maybeTriggerMoreSpecificEvent",value:function(t,e){e.isLongPress?this.trigger("longpress",t,e):e.isTap?this.trigger("tap",t,e):e.isSwipe?this.trigger("swipe",t,e):e.isPinch&&this.trigger("pinch",t,e)}},{key:"destroy",value:function(){c(this.rootElem,"touchstart",this.onTouchStart),this.unbindTouchEndAndTouchMove(),this.rootElem=null}},{key:"unbindTouchEndAndTouchMove",value:function(){c(document,"touchmove",this.onTouchMoveDocument),c(document,"touchend",this.onTouchEndDocument),c(this.rootElem,"touchmove",this.onTouchMove),c(this.rootElem,"touchend",this.onTouchEnd)}}]),t}();a(g.prototype),o.default.define("vulcanV2Video/TouchEvents.js",g),e.default=g},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=n(0),a=n(202),l=Object.assign||function(t){for(var e,n=1;n<arguments.length;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},u=function(){function t(t,e){for(var n,i=0;i<e.length;i++)n=e[i],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),c=s.default.lib("preact"),h=c.h,d=c.render,p=c.Component,f=s.default.lib("utilities/detect"),m=f.cachedDetect,y=m(),g=s.default.lib("player/lib/elem"),v=g.elemBind,b=g.elemUnbind,_=function(t){function e(){var t,n,r,s;i(this,e);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return n=r=o(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.onSwipe=function(t,e){var n=r.props.onSwipe;n&&n(t,e)},r.onPinch=function(t,e){var n=r.props.onPinch;n&&n(t,e)},r.onLongPress=function(t,e){var n=r.props.onLongPress;n&&n(t,e)},r.onClick=function(t){var e=r.props.onClickOrTap;e&&e(t)},r.onTouchEnd=function(t,e){if(e.isTap){var n=r.props.onClickOrTap;n&&n(t,e)}},s=n,o(r,s)}return r(e,t),u(e,[{key:"render",value:function(){var t=this.props.tagName||"div";return h(t,l({},this.props,{ref:this.props.elemRef}),this.props.children)}},{key:"componentDidMount",value:function(){this._savedBase=this.base,this.setupBindings()}},{key:"componentDidUpdate",value:function(){this.base!==this._savedBase&&(this._savedBase=this.base,this.destroyBindings(),this.setupBindings())}},{key:"componentWillUnmount",value:function(){this.destroyBindings()}},{key:"setupBindings",value:function(){if(this.unbinds=[],y.touchScreen){var t=this.touchEvents=new a.default(this.base);t.on("touchend",this.onTouchEnd),t.on("swipe",this.onSwipe),t.on("pinch",this.onPinch),t.on("longpress",this.onLongPress)}else this.unbinds.push(v(this.base,"click",this.onClick))}},{key:"destroyBindings",value:function(){this.touchEvents&&(this.touchEvents.destroy(),this.touchEvents=null),this.unbinds&&(this.unbinds.map(function(t){return t()}),this.unbinds=null)}}]),e}(p);e.a=_},,,,function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(0),a=function(){function t(t,e){for(var n,i=0;i<e.length;i++)n=e[i],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),l=s.default.lib("preact"),u=l.h,c=l.render,h=l.Component,d=function(t){function e(){return i(this,e),o(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return r(e,t),a(e,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){var t=this.props;return u("div",{class:t.class||"w-html-stub",style:t.style,ref:t.stubRef,"data-handle":t.handle})}},{key:"componentDidMount",value:function(){var t=this.props.mount;t&&t(this.base)}},{key:"componentWillUnmount",value:function(){var t=this.props.destroy;t&&t()}}]),e}(h);s.default.define("vulcanV2Video/ui_components/RawHTMLStub.js",d),e.default=d},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(0),a=n(130),l=n(39),u=n.n(l),c=n(202),h=Object.assign||function(t){for(var e,n=1;n<arguments.length;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},d=function(){function t(t,e){var n,i=[],o=!0,r=!1;try{for(var s,a=t[Symbol.iterator]();!((o=(s=a.next()).done)||(i.push(s.value),e&&i.length===e));o=!0);}catch(t){r=!0,n=t}finally{try{!o&&a.return&&a.return()}finally{if(r)throw n}}return i}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(){function t(t,e){for(var n,i=0;i<e.length;i++)n=e[i],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),f,m,y,g=s.default.lib("utilities/color"),v=s.default.lib("utilities/core"),b=v.niceDuration,_=s.default.lib("player/lib/elem"),w=_.elemBind,A=_.elemOffset,E=_.elemUnbind,k=_.elemWidth,C=s.default.lib("preact"),P=C.h,T=C.render,O=C.Component,S=s.default.lib("utilities/detect"),x=S.cachedDetect,B=x(),I="vulcanV2Video/ui_components",M="w-playbar",D=36,F=function(t){return Math.min(1,Math.max(0,t))},j=function(t,e){for(var n in t)if(t.hasOwnProperty(n)&&t[n]!==e[n])return!0;return!1},L=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.onFocusIn=function(){Object(a.default)()||n.setState({isKeyboardFocused:!0})},n.onFocusOut=function(){n.state.isKeyboardFocused&&n.setState({isKeyboardFocused:!1})},n.onMouseEnter=function(t){n.touchEvents||(t.wistiaPlayerHandled=!0,n.setState({isHovering:!0}),n.cachePositionDetails(),n.props.shouldShowStoryboard&&n.loadStoryboard())},n.onMouseLeave=function(t){n.touchEvents||(t.wistiaPlayerHandled=!0,n.setState({isHovering:!1}))},n.onMouseMove=function(t){if(!n.touchEvents){t.wistiaPlayerHandled=!0;var e=n.getPercentFromMouse(t);n.setState({hoverPercent:e})}},n.onMouseDown=function(t){if(!n.touchEvents&&!t.ctrlKey){t.preventDefault(),n.wrapperElem.focus(),t.wistiaPlayerHandled=!0,n.cachePositionDetails();var e=n.getPercentFromMouse(t);n.handleWithProp("onDragStart",t,e),n.setState({dragPercent:e,dragMode:!0,wasBeforePlayOnDrag:n.props.isBeforePlay}),w(document,"mousemove",n.onMouseMoveDragging),w(document,"mouseup",n.onMouseUpDragging)}},n.onMouseMoveDragging=function(t){t.preventDefault(),t.wistiaPlayerHandled=!0;var e=n.getPercentFromMouse(t);n.handleWithProp("onDrag",t,e),n.setState({dragPercent:e,dragMode:!0})},n.onMouseUpDragging=function(t){t.wistiaPlayerHandled=!0;var e=n.getPercentFromMouse(t);n.setState({dragPercent:e,dragMode:!1}),n.handleWithProp("onDragEnd",t,e),E(document,"mousemove",n.onMouseMoveDragging),E(document,"mouseup",n.onMouseUpDragging)},n.onTouchStart=function(t){t.preventDefault(),t.wistiaPlayerHandled=!0,n.cachePositionDetails();var e=n.getPercentFromMouse(t);n.handleWithProp("onDragStart",t,e),n.setState({dragPercent:e,dragMode:!0}),n.touchEvents.on("touchmove",n.onTouchMoveDragging),n.touchEvents.on("touchend",n.onTouchEndDragging)},n.onTouchMoveDragging=function(t){t.preventDefault(),t.wistiaPlayerHandled=!0;var e=n.getPercentFromMouse(t);n.handleWithProp("onDrag",t,e),n.setState({dragPercent:e,dragMode:!0})},n.onTouchEndDragging=function(t){t.wistiaPlayerHandled=!0;var e=n.getPercentFromMouse(t);n.setState({dragPercent:e,dragMode:!1}),n.handleWithProp("onDragEnd",t,e),n.touchEvents.off("touchmove",n.onTouchMoveDragging),n.touchEvents.off("touchend",n.onTouchEndDragging)},n.startAnimLoopIfPlaying=function(){(n.props.isPlaying||!n.bufferedTween.atEnd())&&n.props.isVisible&&requestAnimationFrame(n.continuouslyUpdatePlaybar)},n.stopAnimLoop=function(){cancelAnimationFrame(n.animReq)},n.continuouslyUpdatePlaybar=function(){300<Date.now()-n.lastRenderedAt?n.setState({currentTime:n.props.getCurrentTime(),currentBufferTime:n.props.getCurrentBufferTime(),timeWidth:n._timeWidth},n.startAnimLoopIfPlaying):(n.drawPlaybar(),n.startAnimLoopIfPlaying())},n.loadStoryboard=function(){return Wistia.asyncRequire(I+"/Storyboard.js").then(function(t){y=t,n.setState({loadedStoryboard:!0})})},n.loadChapters=function(){return Wistia.asyncRequire([I+"/ChapterMarkers.js",I+"/ChapterTitles.js"]).then(function(t){var e=d(t,2),i=e[0],o=e[1];f=i,m=o,n.setState({loadedChapters:!0})})},n.state={hasPlayed:!1,isHovering:!1,dragMode:!1,dragPercent:0,hoverPercent:0,currentTime:t.getCurrentTime(),currentBufferTime:t.getCurrentBufferTime(),isKeyboardFocused:!1,loadedStoryboard:!1,loadedChapters:!1,timeWidth:null},n.setColorsFromPlayerColor(t.color),n.bufferedTween=new u.a({seedRange:0,outputStart:0,outputEnd:0}),t.chapters&&0<t.chapters.length&&n.loadChapters(),n}return r(e,t),p(e,[{key:"componentWillReceiveProps",value:function(t){var e=this.props;e.color!==t.color&&this.setColorsFromPlayerColor(t.color),this.setState({dragMode:!1,currentTime:e.getCurrentTime(),currentBufferTime:e.getCurrentBufferTime()}),t.chapters&&0<t.chapters.length&&this.loadChapters()}},{key:"shouldComponentUpdate",value:function(t,e){return j(this.props,t)||j(this.state,e)}},{key:"render",value:function(){var t=this;return this.oldWrapperElem=this.wrapperElem,this.props.isPlaceholder?P("div",{class:M+"-placeholder w-css-reset w-css-reset-tree",role:"slider","aria-label":"Playbar","aria-orientation":"horizontal","aria-valuenow":this.ariaValueNow(),"aria-valuemin":0,"aria-valuemax":this.props.duration,"aria-valuetext":this.ariaValueText(),tabindex:-1,style:this.placeholderStyle()},this.renderTime()):P("div",{class:M+"-wrapper w-css-reset w-css-reset-tree",role:"slider","aria-label":"Playbar","aria-orientation":"horizontal","aria-valuenow":this.ariaValueNow(),"aria-valuemin":0,"aria-valuemax":this.props.duration,"aria-valuetext":this.ariaValueText(),tabindex:0,style:this.wrapperStyle(),ref:function(e){return t.wrapperElem=e},onBlur:this.props.onBlur,onFocus:this.props.onFocus,onFocusIn:this.onFocusIn,onFocusOut:this.onFocusOut,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onMouseMove:this.onMouseMove,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp},P("div",{style:this.clippedStyle()},P("canvas",{width:this.canvasWidth(),height:this.canvasHeight(),ref:function(e){t.canvas=e},style:this.canvasStyle()})),void 0===f?null:P(f,h({},this.props,{timeLeft:this.timeLeft(),timeRight:this.timeRight()})),void 0===y?null:P(y,h({},this.props,{isHovering:this.state.isHovering,hoverPercent:this.state.hoverPercent})),void 0===m?null:P(m,this.props),P("div",{class:M+"__hoverMarker",style:this.hoverMarkerStyle()}),P("div",{class:M+"__focus-border",style:this.focusBorderStyle()}))}},{key:"canvasWidth",value:function(){return this.props.width*(window.devicePixelRatio||1)}},{key:"canvasHeight",value:function(){return this.props.height*(window.devicePixelRatio||1)}},{key:"renderTime",value:function(){var t=this;return P("div",{class:M+"__time",style:this.timeStyle(),ref:function(e){return t.timeElem=e}},this.timeText())}},{key:"componentDidMount",value:function(){this.lastRenderedAt=Date.now(),this.drawPlaybar(),B.touchScreen&&this.wrapperElem&&(this.touchEvents=new c.default(this.wrapperElem),this.touchEvents.on("touchstart",this.onTouchStart));var t=this.props;t.isPlaying&&this.setState({hasPlayed:!0}),t.isPlaying&&this.startAnimLoopIfPlaying()}},{key:"componentDidUpdate",value:function(t,e){var n=this.props;this.lastRenderedAt=Date.now(),this.drawPlaybar(),B.touchScreen&&this.wrapperElem&&this.oldWrapperElem!==this.wrapperElem&&(this.touchEvents&&this.touchEvents.destroy(),this.touchEvents=new c.default(this.wrapperElem),this.touchEvents.on("touchstart",this.onTouchStart)),n.isPlaying&&!this.state.hasPlayed&&this.setState({hasPlayed:!0});var i=n.isPlaying&&!t.isPlaying,o=e.currentBufferTime!=this.state.currentBufferTime,r=n.isVisible&&!t.isVisible;(i||r||o)&&this.startAnimLoopIfPlaying(),!n.isVisible&&t.isVisible&&this.stopAnimLoop()}},{key:"drawPlaybar",value:function(){var t=this;if(this.canvas){var e=this.props,n=this._hasDrawn;this._hasDrawn=!0,this._prevTime=this._currentTime,this._prevBufferTime=this._currentBufferTime,this._currentTime=e.getCurrentTime(),this._currentBufferTime=e.getCurrentBufferTime();var i=this.canvasWidth(),o=this.canvasHeight(),r=this.canvas.getContext("2d");r.clearRect(0,0,i,o);var s=0,a=i*this.playedPercent();r.fillStyle=this.playedColor.toRgba(),r.fillRect(s,0,a,o),s+=a;var l=100>Date.now()-e.lastSeekedAt;(this._prevTime!==this._currentTime||this._prevBufferTime!=this._currentBufferTime)&&(this.bufferedTween=new u.a({seedRange:400,outputStart:l?this.bufferedAheadPercent():this.bufferedTween.value(),outputEnd:this.bufferedAheadPercent()}));var c=i*this.bufferedTween.value();if(r.fillStyle=this.bufferedColor.toRgba(),r.fillRect(s,0,c,o),s+=c,r.fillStyle=this.emptyColor.toRgba(),r.fillRect(s,0,i,o),!1!==e.showTime){var h=this._timeLength,d=this.timeText();this._timeLength=n?d.length:0;var p=14*e.scale*window.devicePixelRatio;r.font=p+"px WistiaPlayerOverpassNumbers, Helvetica, Sans-Serif",n&&this._timeLength!==h&&(this._timeWidth=r.measureText(d.replace(/\d/g,"5")).width);var f,m=this.timePadding()*(window.devicePixelRatio||1);this._timeWidth+2*m<a?(r.textAlign="right",f=a-m):(r.textAlign="left",f=m),r.fillStyle="#fff",r.textBaseline="middle",r.fillText(n?d:".",f,o/2),n||setTimeout(function(){t.drawPlaybar(),t.setState({timeWidth:t._timeWidth})},0)}}}},{key:"componentWillUnmount",value:function(){E(document,"mousemove",this.onMouseMoveDragging),E(document,"mouseup",this.onMouseUpDragging),this.touchEvents&&(this.touchEvents.destroy(),this.touchEvents=null)}},{key:"placeholderStyle",value:function(){return{background:new g(this.props.color).alpha(.95).toRgba(),cursor:"default",height:"100%",outline:"none",position:"relative",width:"100%"}}},{key:"timeBounds",value:function(){var t,e;return this.timeCanFitInPlayedRect()?(e=this.playheadLeftPosition()-this.timePadding(),t=e-this.timeWidth()-this.timePadding()):(t=this.timePadding(),e=t+this.timeWidth()),{left:t,right:e}}},{key:"timeLeft",value:function(){return this.timeBounds().left}},{key:"timeRight",value:function(){return this.timeBounds().right}},{key:"wrapperStyle",value:function(){return{cursor:"pointer",height:"100%",outline:"none",position:"relative"}}},{key:"clippedStyle",value:function(){return{display:"block",height:"100%",overflow:"hidden",pointerEvents:"none",position:"relative",width:this.props.width}}},{key:"canvasStyle",value:function(){return{height:this.props.height,left:0,pointerEvents:"none",position:"absolute",top:0,width:this.props.width}}},{key:"timeStyle",value:function(){var t=this.props.scale,e=!this.props.isPlaceholder&&this.timeCanFitInPlayedRect();return{color:"white",display:!1===this.props.showTime?"none":"block",fontFamily:"WistiaPlayerOverpassNumbers, Helvetica, Sans-Serif",fontSize:14*t+"px",marginLeft:e?-10*t+"px":10*t+"px",pointerEvents:"none",position:"absolute",textShadow:"0 0 6px rgba(0, 0, 0, 0.2)",top:"50%",transform:"translateY(-50%) translateX("+(e?"-100%":0)+")",whiteSpace:"nowrap"}}},{key:"hoverMarkerStyle",value:function(){return{background:"linear-gradient(to right, rgba(255,255,255,0) 0%,rgba(255,255,255,.12) 100%)",display:this.state.isHovering?" block":"none",height:"100%",left:this.state.hoverPercent*this.props.width-D+"px",pointerEvents:"none",position:"absolute",top:0,width:D}}},{key:"focusBorderStyle",value:function(){return{border:"2px solid #fff",display:this.state.isKeyboardFocused?"block":"none",height:"100%",left:0,pointerEvents:"none",position:"absolute",top:0,width:"100%"}}},{key:"playedPercent",value:function(){var t=this.state;return t.dragMode||t.wasBeforePlayOnDrag?t.dragPercent:F(this.props.getCurrentTime()/this.props.duration)}},{key:"bufferedAheadPercent",value:function(){var t=this.state;if(this.props.isBeforePlay)return 0;if(t.dragMode){var e=t.currentBufferTime/this.props.duration;return F(e-t.dragPercent)}return F((this.props.getCurrentBufferTime()-this.props.getCurrentTime())/this.props.duration)}},{key:"emptyPercent",value:function(){return 1-F(this.playedPercent()+this.bufferedAheadPercent())}},{key:"timeText",value:function(){var t=this.state,e=this.props;return b(t.dragMode||t.wasBeforePlayOnDrag?t.dragPercent*e.duration:t.hasPlayed||1<=this.props.getCurrentTime()?e.getCurrentTime():e.duration)}},{key:"ariaValueNow",value:function(){return this.state.dragMode?this.state.dragPercent*this.props.duration:this.props.getCurrentTime()}},{key:"ariaValueText",value:function(){return b(this.ariaValueNow())}},{key:"cachePositionDetails",value:function(){this.offset=A(this.wrapperElem)}},{key:"getPercentFromMouse",value:function(t){if(!this.offset)return 0;var e=null==t.pageX?t.changedTouches&&t.changedTouches[0]&&t.changedTouches[0].pageX:t.pageX,n=e-this.offset.left;return Math.max(0,Math.min(1,n/this.props.width))}},{key:"handleWithProp",value:function(t,e){var n=this.props[t];if(n){for(var i=arguments.length,o=Array(2<i?i-2:0),r=2;r<i;r++)o[r-2]=arguments[r];n.apply(void 0,[e].concat(o))}}},{key:"timeWidth",value:function(){return this._timeWidth/(window.devicePixelRatio||1)}},{key:"playheadLeftPosition",value:function(){return this.props.width*this.playedPercent()}},{key:"timePadding",value:function(){return 8*this.props.scale}},{key:"timeCanFitInPlayedRect",value:function(){return this.timeWidth()+2*this.timePadding()<this.playheadLeftPosition()}},{key:"setColorsFromPlayerColor",value:function(t){this.playedColor=new g(t).darken(30).alpha(.7),this.bufferedColor=new g(t).lighten(75).alpha(.6),this.emptyColor=new g(t).lighten(40).alpha(.3)}}]),e}(O);e.default=L},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,
enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function E(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function k(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function P(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function T(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function S(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function x(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function I(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function M(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function F(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function j(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function H(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function R(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function N(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function V(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function z(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function G(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function Q(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function K(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function X(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function $(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function Z(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function tt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function et(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function nt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function it(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ot(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function rt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function st(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function at(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function lt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function ut(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ct(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function ht(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function dt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function ft(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function mt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function gt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function vt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _t(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function wt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function At(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function Et(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function kt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ct(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function Pt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Tt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ot(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function St(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function xt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function It(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Mt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function Ft(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function jt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function Ht(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Rt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function Nt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Vt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ut(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function zt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Gt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function Qt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Kt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function Xt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function Jt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function $t(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function te(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ne(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function ie(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function oe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function re(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function se(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function ae(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function le(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ue(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function ce(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function he(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function de(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function pe(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function fe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function me(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function ye(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function ge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ve(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function be(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var _e=n(0),we=n(40),Ae=n(106),Ee=n(137),ke=n(202),Ce=function(){function t(t,e){for(var n,i=0;i<e.length;i++)n=e[i],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Pe=_e.default.lib("preact"),Te=Pe.h,Oe=Pe.render,Se=Pe.Component,xe=_e.default.lib("utilities/detect"),Be=xe.cachedDetect,Ie=Be(),Me=_e.default.lib("player/lib/elem"),De=Me.elemBind,Fe=Me.elemUnbind,je=function(){function t(t,e){for(var n,i=0;i<e.length;i++)n=e[i],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Le=_e.default.lib("player/translations"),He=Le.getTranslation,Re=_e.default.lib("preact"),We=Re.h,Ne=Re.render,Ve=Re.Component,Ue=_e.default.lib("utilities/color"),ze=_e.default.lib("utilities/core"),Ge=ze.niceDuration,qe=function(t){function e(t){s(this,e);var n=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.onMouseEnter=function(){n.setState({isHovering:!0})},n.onMouseLeave=function(){n.setState({isHovering:!1})},n.onFocusIn=function(){n.setState({isHovering:!0})},n.onFocusOut=function(){n.setState({isHovering:!1})},n.state={isHovering:!1},n}return l(e,t),je(e,[{key:"render",value:function(){var t=this.props.baseWidth,e=this.props.baseHeight;return We("div",{class:"w-bpb-wrapper w-css-reset w-css-reset-tree",style:this.wrapperStyle()},We("button",{class:"w-big-play-button w-css-reset-button-important w-vulcan-v2-button",style:this.buttonStyle(),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocusIn:this.onFocusIn,onFocusOut:this.onFocusOut,"aria-label":this.t("TITLE_WHEN_NOT_PLAYING")},We("svg",Object(Ee.standardSvgAttrs)(t,e),We("rect",{"fill-rule":"evenodd","clip-rule":"evenodd",fill:"none",width:t,height:e}),We("polygon",{"fill-rule":"evenodd","clip-rule":"evenodd",fill:"#FFFFFF",points:"53,22 53,58 79,40"}))),this.props.showBpbTime?We("div",{class:"w-bpb-time",style:this.timeStyle()},Ge(this.props.duration)):null)}},{key:"t",value:function(t){return He(this.props.playerLanguage,"PLAY_BUTTON_"+t)}},{key:"wrapperStyle",value:function(){var t=this.props,e=t.scale,n=new Ue(t.color).alpha(.8);return this.state.isHovering&&n.lighten(30),{display:t.isVisible?"block":"none",left:"50%",position:"absolute",top:"50%",transform:"translate(-50%, -50%)"}}},{key:"buttonStyle",value:function(){var t=this.props,e=t.scale,n=new Ue(t.color).alpha(.8);return this.state.isHovering&&n.lighten(30),{cursor:"pointer",height:t.baseHeight*e+"px",background:n.toRgba(),boxShadow:this.state.isKeyboardFocused?"0 0 0 2px #fff inset":"none",width:t.baseWidth*e+"px"}}},{key:"timeStyle",value:function(){var t=this.props.scale;return{background:"rgba(0,0,0,.4)",color:"#fff",fontFamily:"WistiaPlayerOverpassNumbers, Helvetica, Sans-Serif",fontSize:18*t+"px",lineHeight:30*t+"px",pointerEvents:"none",textAlign:"center"}}}]),e}(Ve),Qe=function(t){return function(e){function n(){var t,e,r,s;i(this,n);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return e=r=o(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(l))),r.onTouchEnd=function(t,e){var n=r.props.onClickOrTap;n&&e.isTap&&n(t)},r.onClick=function(t){var e=r.props.onClickOrTap;e&&e(t)},s=e,o(r,s)}return r(n,e),Ce(n,[{key:"render",value:function(){return Te(t,this.props)}},{key:"componentDidMount",value:function(){this.setupBindings()}},{key:"componentDidUpdate",value:function(){this.destroyBindings(),this.setupBindings()}},{key:"componentWillUnmount",value:function(){this.destroyBindings()}},{key:"setupBindings",value:function(){this.unbinds=[],Ie.touchScreen?(this.touchEvents=new ke.default(this.base),this.touchEvents.on("touchend",this.onTouchEnd)):this.unbinds.push(De(this.base,"click",this.onClick))}},{key:"destroyBindings",value:function(){this.touchEvents&&(this.touchEvents.destroy(),this.touchEvents=null),this.unbinds&&(this.unbinds.map(function(t){return t()}),this.unbinds=null)}}]),n}(Se)}(qe),Ke=function(){function t(t,e){for(var n,i=0;i<e.length;i++)n=e[i],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Ye=_e.default.lib("player/lib/fit-control"),Xe=Ye.controlMultiplierBasedOnVideo,Je=_e.default.lib("preact"),Ze=Je.h,$e=Je.render,tn=125,en=function(t){function e(t){u(this,e);var n=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.renderButton=function(){n.buttonElem=$e(Ze(Qe,{color:n.video.playerColor(),scale:n.scale(),isVisible:"beforeplay"===n.video.state()&&!1===n.video.lastPlayInfo().isPending,onClickOrTap:n.onClickOrTap,showBpbTime:n._timeEnabled,duration:n.video.duration(),playerLanguage:n.props.playerLanguage,baseHeight:80,baseWidth:tn}),n.rootElem,n.buttonElem),n.reactMounts=[n.rootElem,n.buttonElem]},n.onClickOrTap=function(){n.video.play()},n.unbinds.push(t.on("playercolorchange",n.renderButton),t.on("play",n.renderButton),t.on("playrejected",n.renderButton),t.on("playpending",n.renderButton),t.on("playerlanguagechange",n.renderButton),t.on("end",n.renderButton),t.on("widthchange",n.renderButton),t.on("trimchange",n.renderButton)),n._timeEnabled=n.video._opts.bpbTime,n}return h(e,t),Ke(e,[{key:"mount",value:function(t){this.rootElem=t,this.renderButton()}},{key:"onControlPropsUpdated",value:function(t){this.props.videoWidth!==t.videoWidth&&this.renderButton()}},{key:"shouldShow",value:function(){var t=50<this.scale()*tn,e=this.video.isControlEnabled("smallPlayButton")&&!1!==this.video._opts.controlsVisibleOnLoad;return!(!t&&e)&&("beforeplay"===this.video.state()&&!1===this.video.lastPlayInfo().isPending)}},{key:"scale",value:function(){return Math.min(1.3,Math.max(.3,Xe(this.video,[640,960])))}},{key:"setTimeEnabled",value:function(t){this._timeEnabled=t,this.renderButton()}}]),e}(Ae.a);en.shouldMount=function(t){var e=t._opts.playButton;return null==e||!0===e},en.handle="bigPlayButton",en.type="above-control-bar",_e.default.defineControl(en);var nn=n(252),on=Object.assign||function(t){for(var e,n=1;n<arguments.length;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},rn=function(){function t(t,e){for(var n,i=0;i<e.length;i++)n=e[i],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),sn=_e.default.lib("preact"),an=sn.h,ln=sn.render,un=sn.Component,cn=_e.default.lib("utilities/obj"),hn=cn.merge,dn=function(t){function e(){return d(this,e),p(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return f(e,t),rn(e,[{key:"shouldComponentUpdate",value:function(t){return this.props.isPlaying!==t.isPlaying}},{key:"render",value:function(){return this.props.isPlaying?this.renderPauseIcon():this.renderPlayIcon()}},{key:"renderPlayIcon",value:function(){var t=this.props.noPadding,e=t?0:20,n=t?0:9;return an("svg",on({},this.svgAttrs(10+2*e,16+2*n),{class:"w-css-reset w-css-reset-tree"}),an("polygon",{points:e+9.5+","+(n+8)+" "+e+","+(n+16)+" "+e+","+n}))}},{key:"renderPauseIcon",value:function(){var t=this.props.noPadding,e=t?0:20,n=t?0:11.3,i=12;return an("svg",on({},this.svgAttrs(10+2*e,i+2*n),{class:"w-css-reset w-css-reset-tree"}),an("g",null,an("rect",{x:e,y:n,width:"3.5",height:i}),an("rect",{x:e+6.5,y:n,width:"3.5",height:i})))}},{key:"svgAttrs",value:function(){var t=this.props.noPadding,e=this.props.isPlaying,n=t?0:20,i=t?0:e?11.3:9,o=e?12:16,r=Object(Ee.standardSvgAttrs)(10+2*n,o+2*i);return hn(r.style,this.props.svgStyle),r}}]),e}(un),pn=dn,fn=function(){function t(t,e){for(var n,i=0;i<e.length;i++)n=e[i],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),mn=_e.default.lib("preact"),yn=mn.h,gn=mn.render,vn=_e.default.lib("player/lib/fit-control"),bn=vn.controlMultiplierBasedOnVideo,_n=_e.default.lib("utilities/detect"),wn=_n.cachedDetect,An=wn(),En=function(t){function e(t){m(this,e);var n=y(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.renderWithFade=function(){"beforeplay"===n.video.state()||(n.renderButton(),clearTimeout(n.displayTimeout),n.displayTimeout=n.props.controlsAreVisible?setTimeout(function(){n.isDisplayNone=!1,n.renderButton()},1):setTimeout(function(){n.isDisplayNone=!0,n.renderButton()},200))},n.onClickOrTap=function(){n.togglePlay()},n.unbinds.push(t.on("play",n.renderWithFade),t.on("pause",n.renderWithFade)),n.isDisplayNone="beforeplay"===t.state(),n}return g(e,t),fn(e,[{key:"mount",value:function(t){this.rootElem=t,this.renderButton()}},{key:"renderButton",value:function(){this.iconElem=gn(yn(nn.a,{tagName:"button",class:"w-centered-play-pause-toggler w-vulcan-v2-button",onClickOrTap:this.onClickOrTap,style:this.rootStyle()},yn(pn,{isPlaying:"playing"===this.video.state(),svgStyle:this.svgStyle(),noPadding:!0})),this.rootElem,this.iconElem),this.reactMounts=[this.rootElem,this.iconElem]}},{key:"onControlPropsUpdated",
value:function(t){t.controlsAreVisible!==this.props.controlsAreVisible&&this.renderWithFade(),t.videoWidth!==this.props.videoWidth&&this.renderButton()}},{key:"rootStyle",value:function(){var t=this.scale(),e=this.props.controlsAreVisible,n="playing"===this.video.state(),i=n?72:80,o=n?60:50;return{background:"transparent",border:0,display:this.isDisplayNone?"none":"block",height:i*t+"px",left:"50%",margin:0,padding:"5px 20px",position:"absolute",opacity:e?.7:0,outline:"none",top:"50%",transform:"translate(-"+(n?50:42)+"%, -50%)",transition:"opacity 200ms",webkitTapHighlightColor:"rgba(0,0,0,0)",width:o*t+"px"}}},{key:"togglePlay",value:function(){var t=this.video;"playing"===t.state()?t.pause():t.play()}},{key:"svgStyle",value:function(){return{filter:"drop-shadow(0px 0px 3px rgba(0,0,0,0.5))"}}},{key:"scale",value:function(){return Math.min(1.3,Math.max(.3,bn(this.video,[640,960])))}}]),e}(Ae.a);En.shouldMount=function(){return An.touchScreen},En.handle="centeredPlayPauseToggler",En.type="above-control-bar",_e.default.defineControl(En);var kn=n(130),Cn=function(){function t(t,e){for(var n,i=0;i<e.length;i++)n=e[i],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Pn=_e.default.lib("preact"),Tn=Pn.h,On=Pn.render,Sn=Pn.Component,xn=function(t){function e(){var t,n,i,o;v(this,e);for(var r=arguments.length,s=Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=i=b(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(s))),i.onFocus=function(){Object(kn.default)()||i.setState({isKeyboardFocused:!0})},i.onBlur=function(){i.setState({isKeyboardFocused:!1})},o=n,b(i,o)}return _(e,t),Cn(e,[{key:"render",value:function(){return Tn(nn.a,{class:"w-css-reset w-css-reset-tree",style:this.rootStyle(),onClickOrTap:this.props.onClickOrTap},Tn("button",{style:this.buttonStyle(),onFocus:this.onFocus,onBlur:this.onBlur,class:"w-vulcan-v2-button"},Tn("svg",{viewBox:"0 0 237 237",style:this.svgStyle()},Tn("style",null,this.styleText()),Tn("polygon",{fill:"white",points:"88 107 65 107 65 131 89 131 112 154 112 84"}),Tn("g",{fill:"none",stroke:"white","stroke-width":"10","stroke-linecap":"round"},Tn("path",{class:"volume__small-wave",d:"M 142 86 C 151 107 151 130 142 151"}),Tn("path",{class:"volume__large-wave",d:"M 165 74 C 178 97 178 140 165 163"}))),Tn("div",{style:this.textStyle()},this.props.buttonText)))}},{key:"styleText",value:function(){return"\n      @keyframes VOLUME_SMALL_WAVE_FLASH {\n          0% { opacity: 0; }\n         33% { opacity: 1; }\n         66% { opacity: 1; }\n        100% { opacity: 0; }\n      }\n\n      @keyframes VOLUME_LARGE_WAVE_FLASH {\n          0% { opacity: 0; }\n         33% { opacity: 1; }\n         66% { opacity: 1; }\n        100% { opacity: 0; }\n      }\n\n      .volume__small-wave {\n        animation: VOLUME_SMALL_WAVE_FLASH 2s infinite;\n        opacity: 0;\n      }\n\n      .volume__large-wave {\n        animation: VOLUME_LARGE_WAVE_FLASH 2s infinite .3s;\n        opacity: 0;\n      }\n    "}},{key:"rootStyle",value:function(){return{display:this.props.isVisible?"block":"none",height:"100%",left:0,pointerEvents:this.props.backdropEnabled?"auto":"none",position:"absolute",top:0,width:"100%"}}},{key:"buttonStyle",value:function(){var t=this.props.scale;return{background:"rgba(0,0,0,0.4)",border:"2px solid "+(this.state.isKeyboardFocused?"#fff":"transparent"),borderRadius:27*t+"px",cursor:"pointer",height:35*t+"px",right:15*t-2+"px",outline:"none",paddingRight:10*t+"px",pointerEvents:"auto",position:"absolute",top:15*t-2+"px"}}},{key:"svgStyle",value:function(){var t=this.props.scale;return{width:35*t+"px",height:32*t+"px",verticalAlign:"middle"}}},{key:"textStyle",value:function(){var t=this.props.scale;return{color:"white",display:"inline",fontFamily:"WistiaPlayerOverpass, Helvetica, Sans-Serif",fontSize:13*t+"px",marginLeft:-4*t+"px",width:"36%"}}}]),e}(Sn),Bn=Object.assign||function(t){for(var e,n=1;n<arguments.length;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},In=function(){function t(t,e){for(var n,i=0;i<e.length;i++)n=e[i],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Mn=_e.default.lib("preact"),Dn=Mn.h,Fn=Mn.render,jn=_e.default.lib("utilities/bindify"),Ln=jn.bindify,Hn=_e.default.lib("player/lib/elem"),Rn=Hn.elemFromObject,Wn=Hn.elemRemove,Nn=Hn.elemUnbindAllInside,Vn=_e.default.lib("player/translations"),Un=Vn.getTranslation,zn=_e.default.lib("utilities/detect"),Gn=zn.cachedDetect,qn=Gn(),Qn=function(t){function e(t){w(this,e);var n=A(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.renderButton=function(){var t=!!n.video._opts.silentAutoPlayIsChromeless,e=n.isVisible();t&&(e?n.video.requestChromeless("clickForSound"):n.video.releaseChromeless("clickForSound")),n.buttonRoot=Fn(Dn(xn,Bn({},n.props,{isVisible:e,onClickOrTap:n.onClickOrTap,backdropEnabled:t,buttonText:n.buttonText()})),n.rootElem,n.buttonRoot),n.reactMounts=[n.rootElem,n.buttonRoot]},n.onClickOrTap=function(t){Object(kn.default)()||n.video._impl.ui.vulcanWrapper.focus(),n.video.unmute(),n.trigger("click",t)},n.unbinds.push(t.on("play",n.renderButton),t.on("silentplaybackmodechange",n.renderButton),t.on("volumechange",n.renderButton)),n}return E(e,t),In(e,[{key:"mount",value:function(t){this.rootElem=t,this.renderButton()}},{key:"onControlPropsUpdated",value:function(t){var e=this.props;(t.scale!==e.scale||t.controlsAreVisible!==e.controlsAreVisible||t.controlBarHeight!==e.controlBarHeight)&&this.renderButton()}},{key:"isVisible",value:function(){return null==this._isVisible?this.video.inSilentPlaybackMode():this._isVisible}},{key:"setIsVisible",value:function(t){this._isVisible=t,this.renderButton()}},{key:"buttonText",value:function(){return this._buttonText?this._buttonText:qn.touchScreen?this.t("MOBILE_TEXT"):this.t("DESKTOP_TEXT")}},{key:"setButtonText",value:function(t){this._buttonText=t,this.renderButton()}},{key:"t",value:function(t){return Un(this.props.language,"CLICK_FOR_SOUND_"+t)}}]),e}(Ae.a);Ln(Qn.prototype),Qn.handle="clickForSoundButton",Qn.type="above-control-bar",_e.default.defineControl(Qn);var Kn=function(t){setTimeout(function(){throw t},0)},Yn=function(t){return t.catch(Kn)},Xn=function(){function t(t,e){var n,i=[],o=!0,r=!1;try{for(var s,a=t[Symbol.iterator]();!((o=(s=a.next()).done)||(i.push(s.value),e&&i.length===e));o=!0);}catch(t){r=!0,n=t}finally{try{!o&&a.return&&a.return()}finally{if(r)throw n}}return i}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Jn=function(){function t(t,e){for(var n,i=0;i<e.length;i++)n=e[i],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Zn=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var s=o.get;return void 0===s?void 0:s.call(i)},$n=_e.default.lib("promiscuous"),ti=_e.default.lib("preact"),ei=ti.h,ni=ti.render,ii=_e.default.lib("player/lib/elem"),oi=ii.elemBind,ri=ii.elemIsInside,si=ii.elemRebind,ai=ii.elemUnbind,li=_e.default.lib("utilities/detect"),ui=li.cachedDetect,ci=ui(),hi=function(t){function e(t){k(this,e);var n=C(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.onContextMenu=function(t){if(!t.altKey){"contextmenu"===t.type&&t.preventDefault(),n.pageX=t.pageX,n.pageY=t.pageY,n.hasLoaded||n.loading(new $n(function(t){n.loadingPromise=t}),{x:n.pageX,y:n.pageY});new $n(function(t){Object(kn.default)()?oi(document,"mouseup",function(e){return n.pageX=e.pageX,n.pageY=e.pageY,t(),ai}):t()}).then(function(){Yn(n.loadContextMenu().then(function(){n.renderMenu&&(n.loadingPromise(),n.renderMenu()),setTimeout(function(){si(document,"mouseup",n.onDocumentMouseUp)},50)}))})}},n.onDocumentMouseUp=function(t){t.ctrlKey||ri(t.target,n.rootElem)||(ai(document,"mouseup",n.onDocumentMouseUp),n.loadContextMenu().then(function(){n.hideMenu()}))},ci.touchScreen?(n.touchEvents=new ke.default(t.chrome),n.touchEvents.bind("longpress",n.onContextMenu)):n.unbinds.push(oi(t.chrome,"contextmenu",n.onContextMenu)),n}return P(e,t),Jn(e,[{key:"mount",value:function(t){this.rootElem=t}},{key:"destroy",value:function(){Zn(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this),this.touchEvents&&(this.touchEvents.destroy(),this.touchEvents=null)}},{key:"onControlPropsUpdated",value:function(t){this.props.playerLanguage!==t.playerLanguage&&this._visible&&this.renderMenu()}},{key:"loadContextMenu",value:function(){var t=this;return _e.default.asyncRequire(["overpassFontFace.js","vulcanV2Video/controls/ContextMenuControl/menu.js"]).then(function(e){var n=Xn(e,2),i=n[0],o=n[1];for(var r in o)t[r]=o[r].bind(t)})}}]),e}(Ae.a);hi.handle="contextMenu",hi.type="foreground",_e.default.defineControl(hi);var di=Object.assign||function(t){for(var e,n=1;n<arguments.length;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},pi=function(){function t(t,e){for(var n,i=0;i<e.length;i++)n=e[i],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),fi=_e.default.lib("preact"),mi=fi.h,yi=fi.render,gi=fi.Component,vi=function(t){function e(){return T(this,e),O(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return S(e,t),pi(e,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){var t={fill:"none",stroke:"#ffffff","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10};return mi("svg",Object(Ee.standardSvgAttrs)(40,34),mi("g",null,mi("g",null,mi("polyline",di({},t,{points:"31.4,12.6 31.4,8.7 25.8,8.7"})),mi("polyline",di({},t,{points:"14.7,8.7 9.1,8.7 9.1,12.6"})),mi("polyline",di({},t,{points:"25.8,24.8 31.4,24.8 31.4,20.9"})),mi("polyline",di({},t,{points:"9.1,20.9 9.1,24.8 14.7,24.8"}))),mi("rect",di({x:"13.7",y:"12.3"},t,{"enable-background":"new",width:"13.3",height:"8.9"}))))}}]),e}(gi),bi=function(){function t(t,e){for(var n,i=0;i<e.length;i++)n=e[i],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_i=_e.default.lib("preact"),wi=_i.h,Ai=_i.render,Ei=_i.Component,ki=_e.default.lib("player/translations"),Ci=ki.getTranslation,Pi=_e.default.lib("player/lib/elem"),Ti=Pi.elemBind,Oi=Pi.formInputIsFocused,Si=_e.default.lib("utilities/detect"),xi=Si.cachedDetect,Bi=xi(),Ii=function(t){function e(t){x(this,e);var n=B(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.onClickButton=function(){n.toggleFullscreen()},n.onKeyUp=function(t){if(!Oi()){var e=n.video.getInputContext();("player-mouseover"===e||"player-focus"===e||"playbar-focus"===e)&&70===t.keyCode&&n.toggleFullscreen()}},n.unbinds.push(t.on("enter-fullscreen",function(){n.renderButton()}),t.on("cancel-fullscreen",function(){n.renderButton()}),Ti(document,"keyup",n.onKeyUp)),Mi()||Di(n.video)||!Fi()||(n.mountDialog=n.maybeMountDialog),n}return I(e,t),bi(e,[{key:"maybeMountDialog",value:function(t){this.dialogElem=t,this.renderDialog()}},{key:"renderDialog",value:function(){this.dialogElem.innerHTML="Double-tap to zoom in or out"}},{key:"mountButton",value:function(t){this.buttonElem=t,this.renderButton()}},{key:"renderButton",value:function(){if(this.buttonElem){var t=this.video.inFullscreen()?this.t("TITLE_WHEN_IN_FULLSCREEN"):this.t("TITLE_WHEN_NOT_IN_FULLSCREEN");this.setButtonLabel(t),this.iconElem=Ai(wi(vi,null),this.buttonElem,this.iconElem),this.reactMounts=[this.buttonElem,this.iconElem]}}},{key:"t",value:function(t){return Ci(this.props.playerLanguage.code,"FULLSCREEN_"+t)}},{key:"toggleFullscreen",value:function(){if(Mi()||Di(this.video)){var t=this.video;t.inFullscreen()?t.cancelFullscreen():t.requestFullscreen()}}}]),e}(Ae.a);Ii.handle="fullscreenButton",Ii.type="control-bar-right",Ii.sortValue=1e3,_e.default.defineControl(Ii);var Mi=function(){return Bi.fullscreenEnabled},Di=function(t){var e=t._mediaData,n=t._opts,i=(e.spherical||n.spherical)&&!n.overrideSpherical,o=!!e.secondaryMediaData,r=top!==self;return 0<Bi.ios.version&&(!r||!i&&!o)},Fi=function(){return 0<Bi.ios.version||Bi.android};Ii.shouldMount=function(t){var e=t._opts.fullscreenButton;return(!0===e||null==e)&&(Mi()||Di(t)||Fi())};var ji=function(){function t(t,e){for(var n,i=0;i<e.length;i++)n=e[i],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Li=_e.default.lib("preact"),Hi=Li.h,Ri=Li.render,Wi=Li.Component,Ni=_e.default.lib("utilities/color"),Vi=_e.default.lib("player/lib/elem"),Ui=Vi.addInlineCss,zi=_e.default.lib("utilities/seqid"),Gi=function(t){function e(t){M(this,e);var n=D(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.pathId=zi("w-loading-path-"),n}return F(e,t),ji(e,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){var t=this,e=new Ni(this.props.color||"#fff");return Hi("div",{ref:function(e){return t.iconRoot=e},style:this.rootStyle()})}},{key:"componentDidMount",value:function(){this.activeSvgId=zi("wistia_loading_svg_"),this.iconRoot.innerHTML='\n      <svg version="1.2" id='+this.activeSvgId+' height="80" width="125" xmlns="http://www.w3.org/2000/svg" viewport="0 0 125 80" xmlns:xlink="http://www.w3.org/1999/xlink">\n        <path fill="none" stroke="#ffffff" stroke-miterlimit="20" d="M52,21 L81,40 L52,60 Z" />\n      </svg>\n    ';var t,e=this.iconRoot.getElementsByTagName("path")[0];t=e.getTotalLength?e.getTotalLength():100,Ui(this.iconRoot,"\n      #"+this.activeSvgId+" path {\n        stroke-width: 2px;\n        stroke-dasharray: "+t/3+", "+2*t/3+";\n        -webkit-animation: wistia_dash 1s infinite linear forwards;\n      }\n      @-webkit-keyframes wistia_dash {\n        from { stroke-dashoffset: "+t+"; }\n        to { stroke-dashoffset: 0; }\n      }\n    ")}},{key:"rootStyle",value:function(){return{height:"80px",left:"50%",position:"absolute",top:"50%",transform:"translate(-50%, -50%)",width:"125px"}}}]),e}(Wi),qi=function(){function t(t,e){for(var n,i=0;i<e.length;i++)n=e[i],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Qi=_e.default.lib("preact"),Ki=Qi.h,Yi=Qi.render,Xi=function(t){function e(t){j(this,e);var n=L(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));n.isVisible=!1;var i=-1;return n.unbinds.push(t.on("waiting",function(t){!n.isVisible&&2>i&&2<=t&&(n.isVisible=!0,n.renderIndicator()),i=t}),t.on("done-waiting",function(){n.isVisible=!1,n.renderIndicator(),i=-1}),t.on("timechange",function(){n.isVisible=!1,n.renderIndicator(),i=-1})),n}return H(e,t),qi(e,[{key:"mount",value:function(t){this.rootElem=t}},{key:"renderIndicator",value:function(){this.indicatorElem=Yi(Ki("div",{style:this.rootStyle()},Ki(Gi,null)),this.rootElem,this.indicatorElem),this.reactMounts=[this.rootElem,this.indicatorElem]}},{key:"rootStyle",value:function(){return{display:this.isVisible?"block":"none",height:"80px",width:"125px"}}}]),e}(Ae.a);Xi.handle="loadingIndicator",Xi.type="above-control-bar",_e.default.defineControl(Xi);var Ji=Object.assign||function(t){for(var e,n=1;n<arguments.length;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Zi=function(){function t(t,e){for(var n,i=0;i<e.length;i++)n=e[i],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),$i=_e.default.lib("preact"),to=$i.h,eo=$i.render,no=$i.Component,io=_e.default.lib("player/lib/elem"),oo=io.elemBind,ro=io.elemHeight,so=io.elemOffset,ao=io.elemUnbind,lo=function(t){function e(t){R(this,e);var n=W(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.onMouseMove=function(t){var e=t.pageX-n.props.videoOffset.left+10,i=t.pageY-n.props.videoOffset.top;n.setState({x:e,y:i})},n.animationInterval=void 0,n.state={x:n.props.x+10,y:n.props.y,floatingPixel:8},n}return N(e,t),Zi(e,[{key:"componentWillMount",value:function(){var t=this;this.animationInterval=setInterval(function(){var e=t.state.floatingPixel+1;10<e&&(e=8),t.setState({floatingPixel:e})},500),oo(document,"mousemove",this.onMouseMove)}},{key:"componentWillUnmount",value:function(){clearInterval(this.animationInterval),ao(document,"mousemove",this.onMouseMove)}},{key:"sandStyle",value:function(){return{fill:"#000000",width:"1",height:"1"}}},{key:"anchorStyle",value:function(){return this.props,{height:0,left:this.state.x+"px",position:"absolute",top:this.state.y+"px",width:0}}},{key:"sandProps",value:function(t,e){return{className:"sand",x:t,y:e,style:this.sandStyle()}}},{key:"useRules",value:function(){return{fill:"#FFFFFF","fill-rule":"evenodd"}}},{key:"hourGlassProps",value:function(t){return{stroke:"#000000",x:"1.5",y:t,width:"12",height:"2"}}},{key:"defsProps",value:function(t){return{x:1,y:t,width:13,height:3}}},{key:"render",value:function(){var t=this;return to("div",{style:this.anchorStyle(),onMouseMove:this.onMouseMove},to("svg",{width:"15px",height:"20px",viewBox:"0 0 15 20",version:"1.1"},to("defs",null,to("rect",Ji({id:"path-1"},this.defsProps(1))),to("rect",Ji({id:"path-2"},this.defsProps(16))),to("polygon",{id:"path-3",points:"2 3 13 3 13 7 10.25 10 13 13 13 17 2 17 2 13 4.75 10 2 7"})),to("g",{id:"Page-1",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},to("g",{id:"hourglass"},to("g",{id:"top"},to("use",Ji({},this.useRules(),{xlinkKref:"#path-1"})),to("rect",this.hourGlassProps(1.5))),to("g",{id:"bottom"},to("use",Ji({},this.useRules(),{xlinkHref:"#path-2"})),to("rect",this.hourGlassProps(16.5))),to("g",{id:"glass"},to("use",Ji({},this.useRules(),{xlinkHref:"#path-3"})),to("path",{stroke:"#000000",d:"M2.5,3.5 L2.5,6.80550815 L5.42828419,10 L2.5,13.1944918 L2.5,16.5 L12.5,16.5 L12.5,13.1944918 L9.57171581,10 L12.5,6.80550815 L12.5,3.5 L2.5,3.5 Z"})),to("rect",{id:"floater",fill:"#000000",x:"7",y:this.state.floatingPixel,width:"1",height:"1"}),[[5,6],[7,6],[6,7],[8,7],[7,11],[6,12],[8,12],[7,13],[6,14],[8,14],[5,13],[9,13],[4,14],[10,14],[5,6],[9,6]].map(function(e){return to("rect",t.sandProps(e[0],e[1]))})))))}}]),e}(no),uo=function(){function t(t,e){for(var n,i=0;i<e.length;i++)n=e[i],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),co=_e.default.lib("player/lib/elem"),ho=co.elemBind,po=co.elemIsInside,fo=co.elemUnbind,mo=co.formInputIsFocused,yo=co.elemOffset,go=_e.default.lib("preact"),vo=go.h,bo=go.render,_o=_e.default.lib("player/translations"),wo=_o.getTranslation,Ao=_e.default.lib("utilities/detect"),Eo=Ao.cachedDetect,ko=Eo(),Co=function(t){function e(t){V(this,e);var n=U(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.show=function(t){n._isVisible=!0,n.renderMenu(t)},n.hide=function(){n._isVisible=!1,n.menuElem=bo(vo("nothing",null),n.rootElem,n.menuElem),n.reactMounts=[n.rootElem,n.menuElem]},n._isVisible=!1,n}return z(e,t),uo(e,[{key:"mount",value:function(t){this.rootElem=t}},{key:"renderMenu",value:function(t){var e=t.x||0,n=t.y||0,i=yo(this.video._embedContainer);this._isVisible&&(this.menuElem=bo(vo(lo,{videoOffset:i,x:e,y:n}),this.rootElem,this.menuElem),this.reactMounts=[this.rootElem,this.menuElem])}}]),e}(Ae.a);Co.handle="loadingHourglass",Co.type="foreground",_e.default.defineControl(Co);var Po=n(305),To=Object.assign||function(t){for(var e,n=1;n<arguments.length;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Oo=function(){function t(t,e){for(var n,i=0;i<e.length;i++)n=e[i],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),So=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var s=o.get;return void 0===s?void 0:s.call(i)},xo=_e.default.lib("utilities/obj"),Bo=_e.default.lib("player/lib/assets"),Io=_e.default.lib("player/lib/timeout-utils"),Mo=Io.doTimeout,Do=_e.default.lib("player/lib/elem"),Fo=Do.elemBind,jo=Do.formInputIsFocused,Lo=_e.default.lib("preact"),Ho=Lo.h,Ro=Lo.render,Wo=33,No=34,Vo=32,Uo=function(t){function e(t){G(this,e);var n=q(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return zo.call(n),n.showTime=!0,n}return Q(e,t),Oo(e,[{key:"mount",value:function(t){var n=this;So(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"mount",this).call(this,t);var i=this.video;this.unbinds.push(i.on("play",this.renderPlaybar),i.on("pause",this.renderPlaybar),i.on("progress",this.renderIfNotPlaying),i.on("timechange",this.renderIfNotPlaying),i.on("end",this.renderPlaybar),i.on("widthchange",this.renderPlaybar),i.on("playercolorchange",this.renderPlaybar),i.on("seek",function(){n._lastSeekedAt=Date.now(),n.renderPlaybar()}),i.on("trimchange",function(){n.renderNothing(),n.renderPlaybar()}),Fo(document,"keydown",this.onKeyDown),Fo(document,"keyup",this.onKeyUp));var o=function(){var t=i.plugin.chapters;n.unbinds.push(t.on("focuschange",n.renderPlaybar),t.on("changechapters",n.renderPlaybar))};i.plugin("chapters").then(o),i.on("plugininitialized",function(t){"chapters"===t&&o()}),this.renderPlaybar()}},{key:"onControlPropsUpdated",value:function(t){t.width!==this.props.width&&this.renderPlaybar(),t.controlsAreVisible&&!this.props.controlsAreVisible&&this.renderPlaybar(),!t.controlsAreVisible&&this.props.controlsAreVisible&&this.renderPlaybar()}},{key:"chaptersPlugin",value:function(){return this.video.plugin.chapters}},{key:"isPlaceholder",value:function(){return!1}},{key:"isVisible",value:function(){return!0}},{key:"shouldShowStoryboard",value:function(){if(null!=this._shouldShowStoryboard)return this._shouldShowStoryboard;var t=!!this.storyboardAsset(),e=!!this.video._mediaData.secondaryMediaData;return this._shouldShowStoryboard=t&&!e}},{key:"storyboardAsset",value:function(){return Bo.one(this.video._mediaData.assets,{type:"storyboard",status:Bo.READY,metadata:function(t){return t&&t.frame_count&&t.frame_width&&t.frame_height}})}}]),e}(Ae.a),zo=function(){var t=this;this.renderPlaybar=function(){var e=t.video,n=e.plugin.chapters,i=n?n.getAllChapters():[],o=n?n.getFocusedChapter():null;t.playbarElem=Ro(Ho(Po.default,To({getCurrentTime:t.getCurrentTime,getCurrentBufferTime:t.getCurrentBufferTime,duration:e.duration(),isBeforePlay:"beforeplay"===e.state(),isVisible:t.props.controlsAreVisible,isPlaying:"playing"===e.state()},t.props,{onDragStart:t.onDragStart,onDrag:t.onDrag,onDragEnd:t.onDragEnd,onBlur:t.onBlurPlaybar,onFocus:t.onFocusPlaybar,isPlaceholder:t.isPlaceholder(),chapters:i,focusedChapter:o,onMouseEnterChapter:t.onMouseEnterChapter,onMouseLeaveChapter:t.onMouseLeaveChapter,mediaData:t.video._mediaData,embedOptions:t.video._opts,color:t.video.playerColor(),showTime:t.showTime,lastSeekedAt:t._lastSeekedAt||0,shouldShowStoryboard:t.shouldShowStoryboard(),storyboardAsset:t.storyboardAsset()})),t.rootElem,t.playbarElem),t.reactMounts=[t.rootElem,t.playbarElem]},this.renderNothing=function(){t.playbarElem=Ro(Ho("nothing",null),t.rootElem,t.playbarElem),t.reactMounts=[t.rootElem,t.playbarElem]},this.renderIfNotPlaying=function(){"playing"!==t.video.state()&&t.renderPlaybar()},this.getCurrentTime=function(){return t.video?t.video.time():0},this.getCurrentBufferTime=function(){var e=t.video?t.video.getBuffered():[];return 0===e.length?0:e[e.length-1].end},this.onMouseEnterChapter=function(e,n){t.chaptersPlugin().setFocusedChapter(n&&n.id)},this.onMouseLeaveChapter=function(){t.chaptersPlugin().setFocusedChapter(null)},this.onDragStart=function(e,n){t.video.requestControls("playbar-drag"),t.stateBeforeDrag=t.video.state(),t.onDrag(e,n),Mo(t.video.uuid+".maybe-pause-on-scrub",function(){Object(kn.default)()&&t.video.pause()},300)},this.onDrag=function(e,n){t.video.time(n*t.video.duration())},this.onDragEnd=function(e,n){t.video.releaseControls("playbar-drag"),t.onDrag(e,n),("beforeplay"===t.stateBeforeDrag||"playing"===t.stateBeforeDrag)&&t.video.play()},this.onFocusPlaybar=function(){t.video.enterInputContext("playbar-focus")},this.onBlurPlaybar=function(){t.video.exitInputContext("playbar-focus")},this.onKeyDown=function(e){if(t.isVisible()&&!jo()){var n=t.video,i=n.getInputContext();if("playbar-focus"===i||"player-mouseover"===i){var o=n.duration(),r=e.keyCode;if(32===r)return void e.preventDefault();null==t.keyDownStartedAt&&(t.keyDownStartedAt=Date.now());var s=Date.now()-t.keyDownStartedAt,a=0;a="playing"===n.state()?e.shiftKey||200<s?33===r||34===r?30>o?5:60>o?10:10+o/60:30>o?2:60>o?5:5+o/60/2:33===r||34===r?60>o?5:20:2:e.shiftKey||200<s?1:1/24;var l=0;39===r||33===r?l=1:(37===r||34===r)&&(l=-1),-1==l?n.time(n.time()-a):1==l&&n.time(n.time()+a)}}},this.onKeyUp=function(e){if(t.isVisible()&&!jo()){t.keyDownStartedAt=null;var n=t.video;"playbar-focus"===n.getInputContext()&&32===e.keyCode&&("playing"===n.state()?n.pause():n.play())}}},Go=Uo,qo=function(){function t(t,e){for(var n,i=0;i<e.length;i++)n=e[i],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Qo=function(t){function e(){return K(this,e),Y(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return X(e,t),qo(e,[{key:"width",value:function(){return this.props.width}},{key:"isPlaceholder",value:function(){return"upper"===this.props.playbarMode}},{key:"isVisible",value:function(){return"lower"===this.props.playbarMode}}]),e}(Go);Qo.shouldMount=function(t){var e=t._opts.playbar;return!0===e||null==e},Qo.handle="lowerPlaybar",Qo.type="lower-playbar",_e.default.defineControl(Qo);var Ko=function(){function t(t,e){for(var n,i=0;i<e.length;i++)n=e[i],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Yo=_e.default.lib("player/lib/elem"),Xo=Yo.getLastActiveEventAt,Jo=_e.default.lib("preact"),Zo=Jo.h,$o=Jo.render,tr=_e.default.lib("player/lib/fit-control"),er=tr.controlMultiplierBasedOnVideo,nr=_e.default.lib("utilities/detect"),ir=nr.cachedDetect,or=ir(),rr=function(t){function e(t){$(this,e);var n=J(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.showIconAndFade=function(){return n.playedOnce?void(n.video.isControlEnabled("centeredPlayPauseToggler")&&!n.props.chromeless||n.video._inNativeMode()||(n.isPlaying="playing"===n.video.state(),n.renderAndFade())):void(n.playedOnce=!0)},n.isOpaque=!1,n.unbinds.push(t.on("play",n.showIconAndFade),t.on("pause",n.showIconAndFade)),n}return Z(e,t),Ko(e,[{key:"mount",value:function(t){this.rootElem=t}},{key:"onControlPropsUpdated",value:function(t){t.videoWidth!==this.props.videoWidth&&this.renderButton()}},{key:"renderAndFade",value:function(){var t=this,e=this.video.lastPlayInfo();if(!this.isPlaying||"user-event"===e.source){var n=this.video.lastPauseInfo();(this.isPlaying||"user-event"===n.source)&&(this.isOpaque=!0,this.renderButton(),clearTimeout(this.fadeTimeout),this.fadeTimeout=setTimeout(function(){t.isOpaque=!1,t.renderButton()},20))}}},{key:"renderButton",value:function(){this.iconElem=$o(Zo("div",{class:"w-play-pause-notifier",style:this.rootStyle()},Zo(pn,{isPlaying:!this.isPlaying,svgStyle:this.svgStyle(),noPadding:!0})),this.rootElem,this.iconElem),this.reactMounts=[this.rootElem,this.iconElem]}},{key:"rootStyle",value:function(){var t=this.scale(),e=this.isPlaying,n=e?72:80,i=e?60:50;return{height:n*t+"px",left:"50%",pointerEvents:"none",position:"absolute",opacity:this.isOpaque?.5:0,top:"50%",transform:"translate(-"+(e?33:50)+"%, -50%) scale("+(this.isOpaque?.7:1.5)+")",transition:this.isOpaque?"":"opacity .6s, transform .6s",width:i*t+"px"}}},{key:"svgStyle",value:function(){return{filter:"drop-shadow(0px 0px 3px rgba(0,0,0,0.5))"}}},{key:"scale",value:function(){return Math.min(1.3,Math.max(.3,er(this.video,[640,960])))}}]),e}(Ae.a);rr.handle="playPauseNotifier",rr.type="above-control-bar",_e.default.defineControl(rr);var sr=Object.assign||function(t){for(var e,n=1;n<arguments.length;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},ar=function(){function t(t,e){for(var n,i=0;i<e.length;i++)n=e[i],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),lr=_e.default.lib("preact"),ur=lr.h,cr=lr.render,hr=lr.Component,dr=function(t){function e(){return tt(this,e),et(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return nt(e,t),ar(e,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return ur("svg",sr({},Object(Ee.standardSvgAttrs)(40,34),{onMouseEnter:this.props.onMouseEnter}),ur("g",null,ur("g",null,ur("path",{d:"M28.3,16.4h-1.9c-0.4,0-0.8-0.3-0.9-0.7l-0.4-1.1c-0.2-0.3-0.1-0.8,0.2-1.1l1.3-1.3c0.3-0.3,0.3-0.7,0-1l-0.4-0.4c-0.3-0.3-0.7-0.3-1,0l-1.3,1.3c-0.3,0.3-0.8,0.3-1.1,0.1l-1.1-0.5c-0.4-0.1-0.7-0.5-0.7-0.9V9.1c0-0.4-0.3-0.7-0.7-0.7h-0.6c-0.4,0-0.7,0.3-0.7,0.7v1.7c0,0.4-0.3,0.8-0.7,0.9l-1.2,0.5c-0.3,0.2-0.8,0.1-1.1-0.2l-1.2-1.2c-0.3-0.3-0.7-0.3-1,0l-0.4,0.4c-0.3,0.3-0.3,0.7,0,1l1.2,1.2c0.3,0.3,0.3,0.8,0.1,1.1l-0.5,1.2c-0.1,0.4-0.5,0.7-0.9,0.7h-1.6c-0.4,0-0.7,0.3-0.7,0.7v0.6c0,0.4,0.3,0.7,0.7,0.7h1.6c0.4,0,0.8,0.3,0.9,0.7l0.5,1.2c0.2,0.3,0.1,0.8-0.1,1.1l-1.2,1.2c-0.3,0.3-0.3,0.7,0,1l0.4,0.4c0.3,0.3,0.7,0.3,1,0l1.2-1.2c0.3-0.3,0.8-0.3,1.1-0.2l1.2,0.5c0.4,0.1,0.7,0.5,0.7,0.9v1.7c0,0.4,0.3,0.7,0.7,0.7h0.6c0.4,0,0.7-0.3,0.7-0.7V24c0-0.4,0.3-0.8,0.7-0.9l1.1-0.5c0.3-0.2,0.8-0.1,1.1,0.1l1.3,1.3c0.3,0.3,0.7,0.3,1,0l0.4-0.4c0.3-0.3,0.3-0.7,0-1l-1.3-1.3C25,21,25,20.5,25.1,20.2l0.4-1.1c0.1-0.4,0.5-0.7,0.9-0.7h1.9c0.4,0,0.7-0.3,0.7-0.7v-0.6C29,16.7,28.7,16.4,28.3,16.4z M23.8,17.5c0,2.2-1.8,3.9-3.9,3.9c-2.2,0-3.9-1.8-3.9-3.9s1.7-3.9,3.9-3.9C22.1,13.6,23.8,15.3,23.8,17.5z"}))))}}]),e}(hr),pr=function(){function t(t,e){var n,i=[],o=!0,r=!1;try{for(var s,a=t[Symbol.iterator]();!((o=(s=a.next()).done)||(i.push(s.value),e&&i.length===e));o=!0);}catch(t){r=!0,n=t}finally{try{!o&&a.return&&a.return()}finally{if(r)throw n}}return i}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),fr=function(){function t(t,e){for(var n,i=0;i<e.length;i++)n=e[i],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),mr=_e.default.lib("preact"),yr=mr.h,gr=mr.render,vr=_e.default.lib("player/translations"),br=vr.getTranslation,_r=_e.default.lib("promiscuous"),wr=function(t){function e(t){it(this,e);var n=ot(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.loadMenuCode=function(){
return _e.default.asyncRequire(["overpassFontFace.js","vulcanV2Video/controls/SettingsControl/dialog.js"]).then(function(t){var e=pr(t,2),i=e[0],o=e[1];n.renderMenuImpl||(n.renderMenuImpl=o.renderMenu.bind(n),n.onSelect=o.onSelect.bind(n))})},n.onMouseEnterButton=function(){n.loadMenuCode()},n.unbinds.push(t.on("playbackratechange",function(){n.menuElem&&n.renderMenu()}),t.on("qualitychange",function(){n.menuElem&&n.renderMenu()}),t.on("playerlanguagechange",function(){n.menuElem&&n.renderMenu()})),t.hasData(function(){if(null==n._isQualityEnabled){var e=t._opts.qualityControl;n._isQualityEnabled=!0===e||null==e}if(null==n._isPlaybackRateEnabled){var i=t._opts.playbackRateControl;n._isPlaybackRateEnabled=!0===i||null==i}}),n}return rt(e,t),fr(e,[{key:"t",value:function(t){return br(this.props.playerLanguage.code,"SETTINGS_"+t)}},{key:"mountButton",value:function(t){this.buttonRoot=t,this.setButtonLabel("Settings"),this.renderButton()}},{key:"mountDialog",value:function(t){return this.dialogRoot=t,this.renderMenu()}},{key:"renderButton",value:function(){this.buttonElem=gr(yr(dr,{onMouseEnter:this.onMouseEnterButton}),this.buttonRoot,this.buttonElem),this.reactMounts.button=[this.buttonRoot,this.buttonElem]}},{key:"renderMenu",value:function(){var t=this;if(this.dialog.isOpen()){var e=this.loadMenuCode().then(function(){t.renderMenuImpl()});return this.loading(new _r(function(t){e.then(t)})),e}}},{key:"onControlPropsUpdated",value:function(){this.dialog.isOpen()&&this.renderMenu()}},{key:"setQualityEnabled",value:function(t){var e=this;return this._isQualityEnabled=t,this.loadMenuCode().then(function(){e.renderMenuImpl()})}},{key:"setPlaybackRateEnabled",value:function(t){var e=this;return this._isPlaybackRateEnabled=t,this.loadMenuCode().then(function(){e.renderMenuImpl()})}}]),e}(Ae.a);wr.shouldMount=function(t){var e=t._opts,n=e.settingsControl,i=e.qualityControl,o=e.playbackRateControl;return!1!==n&&(!0===i||null==i||!0===o||null==o)},wr.handle="settingsButton",wr.type="control-bar-right",wr.sortValue=200,wr.isVideoChrome=!0,_e.default.defineControl(wr),_e.default.SettingsControl=wr;var Ar=function(){function t(t,e){for(var n,i=0;i<e.length;i++)n=e[i],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Er=_e.default.lib("preact"),kr=Er.h,Cr=Er.render,Pr=Er.Component,Tr=_e.default.lib("utilities/detect"),Or=Tr.cachedDetect,Sr=Or(),xr=function(t){function e(){return st(this,e),at(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return lt(e,t),Ar(e,[{key:"styles",value:function(){return{background:"rgba(0,0,0,.3)",boxShadow:"none",cursor:"pointer",display:"flex",alignItems:"center",fontSize:Mr(this),lineHeight:Ir(this),padding:"0 "+10*this.props.scale+"px",width:"100%",height:"30px",color:"#fff",position:"absolute",justifyContent:"center"}}},{key:"render",value:function(){return kr("div",{style:this.styles()},this.props.message)}}]),e}(Pr),Br=function(t){return 34*t.props.scale},Ir=function(t){return Br(t)+"px"},Mr=function(t){return 14*t.props.scale+"px"},Dr=function(){function t(t,e){for(var n,i=0;i<e.length;i++)n=e[i],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Fr=_e.default.lib("preact"),jr=Fr.h,Lr=Fr.render,Hr=_e.default.lib("utilities/detect"),Rr=Hr.cachedDetect,Wr=_e.default.lib("player/translations"),Nr=Wr.getTranslation,Vr=Rr(),Ur=function(t){function e(t){ut(this,e);var n=ct(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n._isVisible=!1,n}return ht(e,t),Dr(e,[{key:"flash",value:function(t){var e=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2e3;this._isVisible=!0,this.renderMenu(this.t(t)),setTimeout(function(){e.hide()},n)}},{key:"t",value:function(t){return Nr(this.props.playerLanguage.code,"STATUS_BAR_"+t)}},{key:"hide",value:function(){this._isVisible=!1,this.menuElem=Lr(jr("nothing",null),this.rootElem,this.menuElem)}},{key:"renderMenu",value:function(t){this._isVisible&&(this.menuElem=Lr(jr(xr,{message:t}),this.rootElem,this.menuElem),this.reactMounts=[this.rootElem,this.menuElem])}}]),e}(Ae.a);Ur.handle="statusBar",Ur.type="background",_e.default.defineControl(Ur);var zr=function(){function t(t,e){for(var n,i=0;i<e.length;i++)n=e[i],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Gr=_e.default.lib("preact"),qr=Gr.h,Qr=Gr.render,Kr=_e.default.lib("player/translations"),Yr=Kr.getTranslation,Xr=_e.default.lib("utilities/detect"),Jr=Xr.cachedDetect,Zr=Jr(),$r=function(t){function e(t){dt(this,e);var n=pt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return ts.call(n),n.unbinds.push(t.on("play",n.renderButton),t.on("pause",n.renderButton),t.on("end",n.renderButton)),n}return ft(e,t),zr(e,[{key:"mountButton",value:function(t){this.buttonRoot=t,this.renderButton()}},{key:"t",value:function(t){return Yr(this.props.playerLanguage,"PLAY_BUTTON_"+t)}}]),e}(Ae.a),ts=function(){var t=this;this.renderButton=function(){if(t.buttonRoot&&("playing"===t.video.state()?t.setButtonLabel(t.t("TITLE_WHEN_PLAYING")):t.setButtonLabel(t.t("TITLE_WHEN_NOT_PLAYING")),t.buttonElem=Qr(qr(pn,{isPlaying:"playing"===t.video.state()}),t.buttonRoot,t.buttonElem),t.reactMounts=[t.rootElem,t.thumbnailElem],Zr.trident)){var e=t.buttonRoot.parentNode;e.style.display="none",setTimeout(function(){e.style.display=""},1)}},this.onClickButton=function(){var e=t.video;"playing"===e.state()?e.pause():e.play()}};$r.shouldMount=function(t){var e=t._opts.smallPlayButton;return!0===e||null==e},$r.handle="smallPlayButton",$r.type="control-bar-left",$r.width=50,$r.sortValue=100,_e.default.defineControl($r);var es=function(){function t(t,e){for(var n,i=0;i<e.length;i++)n=e[i],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),ns=_e.default.lib("preact"),is=ns.h,os=ns.render,rs=ns.Component,ss=_e.default.lib("utilities/obj"),as=_e.default.lib("player/lib/elem"),ls=as.elemInDom,us=_e.default.lib("player/translations"),cs=us.getTranslation,hs=_e.default.lib("player/lib/hosts"),ds=hs.cdnFastWistiaNetHost,ps=function(t){function e(t){mt(this,e);var n=yt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.initialState=n.state={isLoaded:!1,waited1Second:!1,isDisplaying:!1},n.onDisplay=n.props.onDisplay,n}return gt(e,t),es(e,[{key:"componentWillReceiveProps",value:function(t){t.images!==this.props.images&&(clearTimeout(this.loadTimeout),this._sortedImages=null,this.loadTimeout=null,this.setState({isLoaded:!1,waited1Second:!1,isDisplaying:!1})),!this.onDisplay&&t.onDisplay&&(this.onDisplay=t.onDisplay)}},{key:"render",value:function(){var t=this;return is("img",{class:"w-css-reset",srcset:this.srcSet(),src:this.bestSrc(),style:this.imgStyle(),alt:this.t("VIDEO_THUMBNAIL"),ref:function(e){return t.imgElem=e}})}},{key:"t",value:function(t){return cs(this.props.playerLanguage,"THUMBNAIL_"+t)}},{key:"componentDidMount",value:function(){this.setStateBasedOnImgStatus(),this.maybeCallOnDisplay(this.initialState)}},{key:"componentDidUpdate",value:function(t,e){this.setStateBasedOnImgStatus(),this.maybeCallOnDisplay(e)}},{key:"maybeCallOnDisplay",value:function(){this.onDisplay&&this.state.isDisplaying&&!this.calledOnDisplay&&(this.calledOnDisplay=!0,this.onDisplay())}},{key:"setStateBasedOnImgStatus",value:function(){var t=this,e=this.state,n=this.imgElem;e.isLoaded||(!n.onload&&(n.onload=function(){ls(n)&&t.setState({isLoaded:!0})}),n.complete&&this.setState({isLoaded:!0})),this.loadTimeout||e.waited1Second||(this.loadTimeout=setTimeout(function(){t.setState({waited1Second:!0})},1e3)),!e.isDisplaying&&(e.isLoaded||e.waited1Second)&&this.setState({isDisplaying:!0})}},{key:"imgStyle",value:function(){var t=this.state,e=t.isDisplaying,n=this.props.backgroundColor||"#000";return e&&this.props.isVisible?ss.assign(this.letterboxStyle(),{background:n,display:"block"}):ss.assign(this.letterboxStyle(),{display:"none",visibility:"hidden"})}},{key:"letterboxStyle",value:function(){var t=Math.max,e=Math.round,n=this.props,i=n.videoWidth,o=n.videoHeight,r=i/o,s=this._customAspect||this.bestImage().aspect,a,l;!1===n.stillSnap?(a=i,l=o):r>s?(l=o,a=e(l*s)):r<=s&&(a=i,l=e(a/s));var u=t(0,o-l),c=t(0,i-a),h=e(u/2),d=e(c/2),p=h,f=d,m=h,y=d;2*m<=this.stretchLimit()&&(m=0,p=0,l=o),2*y<=this.stretchLimit()&&(y=0,f=0,a=i);var g=this.props.backgroundColor||"#000";return{borderTop:p+"px solid "+g,borderBottom:m+"px solid "+g,borderLeft:y+"px solid "+g,borderRight:f+"px solid "+g,boxSizing:"content-box",height:l+"px",left:0,top:0,webkitTouchCallout:"none",width:a+"px"}}},{key:"bestSrc",value:function(){return this.bestImage().url}},{key:"srcSet",value:function(){var t=this.sortedImages();return 0===t.length&&(t=[this.blankImage()]),t.map(function(t){return t.url+" "+t.width+"w"}).join(", ")}},{key:"blankImage",value:function(){return{height:this.props.videoHeight,url:"https://"+ds()+"/assets/images/blank.gif",width:this.props.videoWidth}}},{key:"bestImage",value:function(){var t=this.sortedImages();if(0===t.length)return this.blankImage();var e=this.props.videoWidth,n=(window.devicePixelRatio||1)*e;if(n<=t[0].width)return t[0];for(var i,o=0;o<t.length;o++)if(i=t[o],i.width>=n)return i;return t[t.length-1]}},{key:"sortedImages",value:function(){return this._sortedImages?this._sortedImages:(this._sortedImages=ss.clone(this.props.images),this._sortedImages.map(function(t){t.aspect=t.width/t.height}),this._sortedImages)}},{key:"stretchLimit",value:function(){var t=this.props.stretchLimit;return null==t?10:t}}]),e}(rs),fs=Object.assign||function(t){for(var e,n=1;n<arguments.length;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},ms=function(){function t(t,e){for(var n,i=0;i<e.length;i++)n=e[i],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),ys=_e.default.lib("preact"),gs=ys.h,vs=ys.render,bs=_e.default.lib("promiscuous"),_s=_e.default.lib("utilities/detect"),ws=_s.cachedDetect,As=ws(),Es=function(t){function e(t){vt(this,e);var n=bt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return ks.call(n),n.unbinds.push(t.on("play",function(){n._hasPlayed=!0,n.maybePreloadThenRenderThumbnail()}),t.on("playrejected",n.maybePreloadThenRenderThumbnail),t.on("playpending",n.maybePreloadThenRenderThumbnail),t.on("up",n.maybePreloadThenRenderThumbnail),t.on("end",n.maybePreloadThenRenderThumbnail)),n}return _t(e,t),ms(e,[{key:"mount",value:function(t){return this.rootElem=t,this.thumbnailAssets=this.video.thumbnailAssets(),this.shouldShow()?this.maybePreloadThenRenderThumbnail():void 0}},{key:"preloadUrl",value:function(t){return new bs(function(e){var n=new Image;if(n.src=t,n.complete)e({height:n.height,url:n.src,width:n.width});else{var i=!1;n.onload=function(){i||(i=!0,e({height:n.height,url:n.src,width:n.width}))},n.onerror=function(){i||(i=!0,e())}}})}},{key:"maybePreload",value:function(){var t=this;return new bs(function(e){1===t.thumbnailAssets.length&&null==t.thumbnailAssets[0].width?t.preloadUrl(t.thumbnailAssets[0].url).then(function(n){t.thumbnailAssets=n?[n]:[],e()}):e()})}},{key:"shouldShow",value:function(){var t=this.video,e=t.lastPlayInfo(),n=Date.now()-e.issuedAt,i=!e.source||e.rejectedAt,o=e.isPending&&"user-event"===e.source&&2e3>n,r="beforeplay"===t.state()&&this._hasPlayed,s=e.isPending&&"non-user-event"===e.source&&!t.isMuted()&&(!1===t._opts.silentAutoPlay||null==t._opts.silentAutoPlay)&&(As.iphone||As.ipad||As.safari);return t.up()&&"beforeplay"===t.state()&&(i||s||o||r)}},{key:"onControlPropsUpdated",value:function(t){var e=this;["videoWidth","videoHeight","playerLanguage"].some(function(n){return e.props[n]!==t[n]})&&this.maybePreloadThenRenderThumbnail()}}]),e}(Ae.a),ks=function(){var t=this;this.maybePreloadThenRenderThumbnail=function(){return t.shouldShow()||t._isVisible?new bs(function(e){t.maybePreload().then(function(){t._destroyed||t.renderThumbnail(e)})}):bs.resolve()},this.renderThumbnail=function(e){var n=t.video,i=n.lastPlayInfo(),o=Date.now()-i.issuedAt;t._isVisible=t.shouldShow(),t.thumbnailElem=vs(gs(ps,fs({},t.props,{images:t.thumbnailAssets,isVisible:t.shouldShow(),onDisplay:e})),t.rootElem,t.thumbnailElem),t._isVisible&&2e3>o&&setTimeout(function(){t._destroyed||t.renderThumbnail()},2e3-o+1),t.reactMounts=[t.rootElem,t.thumbnailElem]}};Es.handle="thumbnail",Es.type="background",Es.sortValue=1e3,_e.default.defineControl(Es);var Cs=function(){function t(t,e){for(var n,i=0;i<e.length;i++)n=e[i],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Ps=function(t){function e(t){wt(this,e);var n=At(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.showTime=!1,n}return Et(e,t),Cs(e,[{key:"isPlaceholder",value:function(){return!1}},{key:"isVisible",value:function(){return"upper"===this.props.playbarMode}}]),e}(Go);Ps.shouldMount=function(t){var e=t._opts.playbar;return!0===e||null==e},Ps.handle="upperPlaybar",Ps.type="upper-playbar",_e.default.defineControl(Ps);var Ts=Object.assign||function(t){for(var e,n=1;n<arguments.length;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Os=function(){function t(t,e){for(var n,i=0;i<e.length;i++)n=e[i],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Ss=_e.default.lib("preact"),xs=Ss.h,Bs=Ss.render,Is=Ss.Component,Ms="opacity 100ms",Ds=function(t){function e(t){kt(this,e);var n=Ct(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={volume:t.volume},n}return Pt(e,t),Os(e,[{key:"waveCount",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.props.volume;return.55<t?2:0<t?1:0}},{key:"shouldComponentUpdate",value:function(t){return this.waveCount()!==this.waveCount(t.volume)}},{key:"render",value:function(){var t={fill:"none",stroke:"#ffffff","stroke-line-cap":"round","stroke-miterlimit":"10"};return xs("svg",Object(Ee.standardSvgAttrs)(40,34),xs("g",{style:this.speakerGroupStyle()},xs("g",null,xs("path",{d:"M13.8,14.2c-0.5,0.5-1.4,0.8-2,0.8h-1.6C9.5,15,9,15.5,9,16.2v1.6c0,0.7,0.5,1.2,1.2,1.2h1.6c0.7,0,1.6,0.4,2,0.8l2.3,2.3c0.5,0.5,0.8,0.3,0.8-0.4v-9.6c0-0.7-0.4-0.8-0.8-0.4L13.8,14.2z"})),xs("g",null,xs("path",Ts({},t,{"stroke-width":"2",d:"M22,11.7c0,0,1.1,2.5,1.1,5s-1.1,5-1.1,5",style:this.wave1Style()})),xs("path",Ts({},t,{"stroke-width":"2",d:"M25.8,9.2c0,0,1.7,3.8,1.7,7.5c0,3.7-1.7,7.5-1.7,7.5",style:this.wave2Style()}))),xs("g",{style:this.waveXStyle()},xs("line",Ts({},t,{"stroke-width":"1.8102",x1:"19.2",y1:"15",x2:"23.2",y2:"19"})),xs("line",Ts({},t,{"stroke-width":"1.8102",x1:"19.2",y1:"19",x2:"23.2",y2:"15"})))))}},{key:"speakerGroupStyle",value:function(){return{transform:"translateX("+(2>this.waveCount()?3:1.25)+"px)",transition:"transform 100ms"}}},{key:"waveXStyle",value:function(){return{opacity:0>=this.waveCount()?1:0,transition:Ms}}},{key:"wave1Style",value:function(){return{opacity:1<=this.waveCount()?1:0,transition:Ms}}},{key:"wave2Style",value:function(){return{opacity:2<=this.waveCount()?1:0,transition:Ms}}}]),e}(Is),Fs=function(){function t(t,e){for(var n,i=0;i<e.length;i++)n=e[i],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),js=_e.default.lib("player/lib/elem"),Ls=js.elemBind,Hs=js.elemIsInside,Rs=js.elemUnbind,Ws=js.formInputIsFocused,Ns=_e.default.lib("preact"),Vs=Ns.h,Us=Ns.render,zs=_e.default.lib("player/translations"),Gs=zs.getTranslation,qs=_e.default.lib("utilities/detect"),Qs=qs.cachedDetect,Ks=Qs(),Ys=_e.default.lib("promiscuous"),Xs=function(t){function e(t){Tt(this,e);var n=Ot(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return Js.call(n),n.unbinds.push(t.on("volumechange",function(){n.buttonRoot&&n.buttonElem&&n.renderButton(),n.dialogRoot&&n.sliderElem&&n.renderSlider()}),Ls(document,"keyup",n.onKeyUp),Ls(document,"keydown",n.onKeyDown)),n}return St(e,t),Fs(e,[{key:"onControlPropsUpdated",value:function(){this.dialog.isOpen()&&this.renderSlider()}},{key:"mountButton",value:function(t){this.buttonRoot=t,this.renderButton()}},{key:"mountDialog",value:function(t){return this.dialogRoot=t,this.renderSlider()}},{key:"renderButton",value:function(){this.buttonRoot&&(this.setButtonLabel(this.video.isMuted()?this.t("TITLE_WHEN_MUTED"):this.t("TITLE_WHEN_UNMUTED")),this.buttonElem=Us(Vs(Ds,{volume:this.video.isMuted()?0:this.video.volume()}),this.buttonRoot,this.buttonElem),this.reactMounts.button=[this.buttonRoot,this.buttonElem])}},{key:"t",value:function(t){return Gs(this.props.playerLanguage,"VOLUME_"+t)}},{key:"loadSliderCode",value:function(){return Wistia.asyncRequire("vulcanV2Video/ui_components/VolumeSlider.js")}},{key:"renderSlider",value:function(){var t=this;if(this.dialogRoot&&this.dialog.isOpen()){var e=this.props.scale,n=this.loadSliderCode().then(function(n){t.sliderElem=Us(Vs(n,{volume:t.video.isMuted()?0:t.video.volume(),scale:e,onDragStart:t.onDragSliderStart,onDrag:t.onDragSlider,onDragEnd:t.onDragSliderEnd,onFocus:t.onFocusSlider,onBlur:t.onBlurSlider}),t.dialogRoot,t.sliderElem),t.reactMounts.dialog=[t.dialogRoot,t.sliderElem]});return this.loading(new Ys(function(e){t.resolveLoading&&t.resolveLoading(),t.resolveLoading=e,n.then(e)})),n}}},{key:"getButtonTitle",value:function(){return 0===this.video.volume()?"Unmute":"Mute"}},{key:"toggleMute",value:function(){var t=this.video;t.isMuted()?(0===t.volume()&&t.volume(1),t.unmute()):t.mute()}}]),e}(Ae.a),Js=function(){var t=this;this.onDragSliderStart=function(e,n){t.video.requestControls("volume-slider"),t.onDragSlider(e,n)},this.onDragSlider=function(e,n){var i=t.video;i.volume(n),i.isMuted()||0!==n||i.mute(),i.isMuted()&&0<n&&i.unmute()},this.onDragSliderEnd=function(e,n){t.onDragSlider(e,n),t.video.releaseControls("volume-slider")},this.onClickButton=function(){Ks.touchScreen||t.toggleMute()},this.onFocusInButton=function(){t.video.enterInputContext("volume-button-focus")},this.onFocusOutButton=function(){t.video.exitInputContext("volume-button-focus")},this.onMouseLeave=function(){t.resolveLoading&&(t.resolveLoading(),t.resolveLoading=null)},this.onFocusSlider=function(){t.video.enterInputContext("volume-slider-focus")},this.onBlurSlider=function(){t.video.exitInputContext("volume-slider-focus")},this.onKeyUp=function(e){if(!Ws()){var n=t.video,i=n.getInputContext();("player-mouseover"===i||"player-focus"===i||"volume-button-focus"===i||"volume-slider-focus"===i)&&77===e.keyCode&&(n.isMuted()?n.unmute():n.mute())}},this.onKeyDown=function(e){if(!Ws()){var n=t.video,i=n.getInputContext();if("player-mouseover"===i||"player-focus"===i||"volume-slider-focus"===i){var o=e.keyCode,r=0;if(38===o?r=1:40===o&&(r=-1),1==r){var s=e.shiftKey?.01:.1;n.volume(n.volume()+s)}else if(-1==r){var a=e.shiftKey?.01:.1;n.volume(n.volume()-a)}}}}};Xs.shouldMount=function(t){var e=t._opts.volumeControl;return!(!0!==e&&null!=e||Ks.iphone||Ks.ipad||Ks.android)},Xs.handle="volumeButton",Xs.type="control-bar-right",Xs.sortValue=100,Xs.toggleDialogOnHover=!0,_e.default.defineControl(Xs);var Zs=n(157),$s=function(){function t(t,e){for(var n,i=0;i<e.length;i++)n=e[i],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),ta=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var s=o.get;return void 0===s?void 0:s.call(i)},ea=_e.default.lib("utilities/event_loop"),na=ea.globalEventLoop,ia=_e.default.lib("promiscuous"),oa=function(t){function e(){var t,i,o,r;xt(this,e);for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];return i=o=Bt(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(a))),o.maybeFireStateAndTimeEvents=function(){o.fireStateChangedEventsIfChanged(),o.fireTimeChangedEventsIfChanged()},o.onPause=function(){o.maybeFireStateAndTimeEvents()},o.onPlaying=function(){o._beforePlay=!1,o._ended=!1,o.maybeFireStateAndTimeEvents()},o.onEnded=function(){o.maybeFireStateAndTimeEvents()},o.onVolumeChange=function(){var t=o.impl.isMuted();o.impl.trigger("volumechange",o.impl.volume(),t),t!==o._isMuted&&(o._isMuted=t,o.impl.trigger("mutechange",t))},o.onRateChange=function(){o.impl.trigger("ratechange",o.impl.playbackRate())},o.onProgress=function(t){o.impl.trigger("progress",t)},o.onError=function(t){o.impl.trigger("error",t)},o.onSeeking=function(t){o.impl.trigger("seeking",t),o.engine.bind("seeked",function(t){return o.impl.trigger("seekcomplete",t),o.engine.unbind})},o.onCustomWaiting=function(t){o._waiting=t,o.impl.trigger("waiting",t)},o.onCustomDoneWaiting=function(t){o._waiting=-1,o.impl.trigger("done-waiting",t)},o.fireTimeChangedEventsIfChanged=function(){var t=Math.floor,e=o.impl,i=e.time(),r=i!==o._lastTimePosition,s="beforeplay"===e.state()&&.3>i;return r&&0<i&&!s&&(o._ended=!1,e.trigger("timechange",i),t(i)!==t(o._lastTimePosition)&&e.trigger("secondchange",t(i)),!o._beforePlay&&!o._ended&&n(i-o._lastTimePosition)>e._attrs.seekThreshold&&e.trigger("seek",i,o._lastTimePosition),o._lastTimePosition=i),ia.resolve()},r=i,Bt(o,r)}var n=Math.abs;return It(e,t),$s(e,[{key:"init",value:function(){var t=this;this.resetState(),this.impl.whenVideoElementInDom().then(function(){return t.doInit()})}},{key:"doInit",value:function(){var t=this,e=this.impl,n=e.engine;this.unbinds.push(n.bind("pause",this.onPause),n.bind("playing",this.onPlaying),n.bind("ended",this.onEnded),n.bind("volumechange",this.onVolumeChange),n.bind("ratechange",this.onRateChange),n.bind("progress",this.onProgress),n.bind("custom-waiting",this.onCustomWaiting),n.bind("custom-done-waiting",this.onCustomDoneWaiting),n.bind("error",this.onError)),na.add(e.uuid+".events",e._eventLoopDuration,function(){if(!e.looksDown()){t.fireStateChangedEventsIfChanged(),t.fireTimeChangedEventsIfChanged();var n=e.videoQuality();n!==t._lastQuality&&(e.trigger("qualitychange",n),t._lastQuality=n)}})}},{key:"destroy",value:function(){na.remove(this.impl.uuid+".events"),ta(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"resetState",value:function(){this._waiting=-1,this._lastTimePosition=-1,this._beforePlay=!0,this._ended=!1,this._isMuted=this.impl.isMuted(),this._hasPlayed=!1}},{key:"fireStateChangedEventsIfChanged",value:function(){var t=this.impl,e=t.state();e!==this._lastState&&(t.trigger("statechange",e,this._lastState),"playing"===e&&(this._hasPlayed=!0,this._ended=!1,t.trigger("play",t.lastPlayInfo())),"paused"===e&&t.trigger("pause",t.lastPauseInfo()),"ended"===e&&(this._ended=!0,t.trigger("end"),t.trigger("afterend")),"ended"!==e&&this.mozillaAtEnd()&&(t.engine.pause(),this._ended=!0,t.trigger("end"),t.trigger("afterend")),this._lastState=e)}},{key:"mozillaAtEnd",value:function(){return!this._ended&&_e.default.detect.browser.mozilla&&45>_e.default.detect.browser.version&&!_e.default.detect.edge&&_e.default.detect.windows&&.6<=this._waiting&&2>n(this.impl.time()-this.impl.duration())}}]),e}(Zs.a);oa.handle="relayEvents";var ra=function(){function t(t,e){for(var n,i=0;i<e.length;i++)n=e[i],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),sa=function(t){function e(){return Mt(this,e),Dt(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Ft(e,t),ra(e,[{key:"init",value:function(){var t=this,e=this.impl,n=e.publicApi;this.unbinds.push(n.on("enterviewport",function(){e.inFullscreen()||t._isSuspended&&(t._isSuspended=!1,n._playSuspendedOffScreenEnabled()&&"paused"===e.state()&&e.play())}),n.on("leaveviewport",function(){e.inFullscreen()||!t._isSuspended&&n._playSuspendedOffScreenEnabled()&&"playing"===e.state()&&(e.pause(),t._isSuspended=!0)}),e.on("receivepause",function(){t._isSuspended&&(t._isSuspended=!1)}))}}]),e}(Zs.a);sa.handle="playSuspendedOffScreen";var aa=function(){function t(t,e){for(var n,i=0;i<e.length;i++)n=e[i],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),la=_e.default.lib("player/lib/elem"),ua=la.elemAppend,ca=la.elemFromObject,ha=la.elemPrepend,da=la.pageLoaded,pa=_e.default.lib("player/lib/assets"),fa=function(t){function e(){var t,n,i,o;jt(this,e);for(var r=arguments.length,s=Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=i=Lt(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(s))),i.updateBackgroundColor=function(){var t=i.impl;if(t.videoWrapper&&!t._replacing)if("transparent"!==t._opts.wmode||t.inFullscreen()){var e=t._attrs.playerBackgroundColor||t._opts.backgroundColor||"#000";t.videoWrapper.style.backgroundColor=e||"#000"}else t.videoWrapper.style.backgroundColor="transparent"},o=n,Lt(i,o)}return Ht(e,t),aa(e,[{key:"init",value:function(){this.unbinds.push(this.impl.on("playerbackgroundcolorchange",this.updateBackgroundColor),this.impl.publicApi.on("transitiondone",this.updateBackgroundColor))}},{key:"embed",value:function(t){var e=this,n=this.impl;n.oldImpl=t,n.resetStateVariables(),n.videoWrapper=ca({class:"w-video-wrapper w-css-reset",style:{clip:"rect(0,0,0,0)",height:"100%",position:"absolute",top:0,width:"100%"}}),this.updateBackgroundColor(),ha(n.implContainer(),n.videoWrapper),n.uiContainer||(n.uiContainer=ca({class:"w-ui-container",style:{height:"100%",pointerEvents:n._inNativeMode()?"none":"",left:0,position:"absolute",top:0,width:"100%"}}),ua(n.implContainer(),n.uiContainer)),n.up(function(){e._preloadPreference=e.preloadValue(),n._replacing&&(e.initializeEngine(),n.info("embedded"),n.embedded(!0)),n.renderUI().then(function(){try{n.setupBindings()}catch(t){setTimeout(function(){throw t},0)}_e.default.timeout(n.uuid+".finish_embedding",function(){n.info("embedded"),n.embedded(!0),da(function(){e.initializeEngine()})},0)})}),n.down()&&n.embedded(!0)}},{key:"preloadValue",value:function(){var t,e=this.impl;t=e._opts.autoPlay&&!e.publicApi.popover&&e.looksUp()?"auto":null==e._opts.preload?e._mediaData.preloadPreference:e._opts.preload;var n;if(e._mediaData.spherical)if(e._opts._inIframe)n="none";else{var i=[],o=_e.default.data("video");for(var r in o)i.push(o[r]);n=1<i.length?"none":"auto"}else if("metadata"===t)n="metadata";else if(!0===t||"auto"===t)n="auto";else if(!1===t||"none"===t)n="none";else{var s=[],a=_e.default.data("video");for(var l in a)s.push(a[l]);n=e._opts._inIframe&&top!==parent?"none":e._opts._inIframe&&25<_e.default.util.parentFramesLength()?"none":e._opts._inIframe&&(!window._allIframes||2<_allIframes.length)?"none":!e._opts._inIframe&&2<s.length?"none":e._mediaData.stats&&5e3<e._mediaData.stats.loadCount&&.1>e._mediaData.stats.uniquePlayCount/e._mediaData.stats.uniqueLoadCount?"none":"metadata"}return n}},{key:"rebuild",value:function(){var t=this.impl;return t.info("rebuild"),t.embedded(function(){t.embedded(!1),t.ready(!1),t.removeBehaviors(),t.enginePromise=null,t.engine=null,t._oldVideoElem=t.elem(),t._whenVideoElementInDom=null,t.stopStreaming(),_e.default.elem.remove(t.videoWrapper),t.videoWrapper=null,t.vulcanWrapper=null,t.ui=null,t.wipeOutstandingAsyncFunctions(),t.setupBehaviors(),t.embed()}),t}},{key:"checkForReady",value:function(){var t=this.impl;t._checkDownState(),t.up(function(){t.embedded(function(){t.onDimensionChangeSafe(),t.engine&&t.engine.onReady().then(function(){t.onDimensionChangeSafe(),t.ready(!0)})})})}},{key:"initializeEngine",value:function(){var t=this,e=this.impl;if(e){if(e.enginePromise)return e.enginePromise;var n=e.bestEngine();return e.enginePromise=_e.default.asyncRequire(n).then(function(n){if(e.grid)try{e.engine=new n(e.videoWrapper,e._mediaData,t.engineAttributes(),e.oldImpl&&e.oldImpl.engine),e.oldImpl=null,e.trigger("engine-initialized"),e.setupBindings(),t.checkForReady()}catch(n){e.error(n)}})}}},{key:"engineAttributes",value:function(){var t,e=this.impl;e._opts.videoQuality?t=e._opts.videoQuality:(e._opts.videoFoam||720<=e.videoWidth())&&(t="md");var n;e._bandwidthTest().isFresh()&&(n=e._bandwidthTest().savedResult().clientKbps);var i;if(e._mediaData.secondaryMediaData)i=_e.default.obj.clone(e._mediaData.secondaryMediaData);else if(e._opts.secondaryVideoUrl){var o=_e.default.obj.clone(e._mediaData),r=e.originalAsset();o.assets=[{container:"mp4",ext:"mp4",codec:"x264",public:!0,url:e._opts.secondaryVideoUrl,height:r.height,width:r.width,type:"mp4_video",display_name:pa.numericSizeSnapped(r.width,r.height)+"p",status:pa.READY,created_at:(new Date).getTime()}],i=o}var s=e._opts.layoutTiming;return e._opts.twoStroke&&e._opts.twoStroke.layoutTiming&&(s=e._opts.twoStroke.layoutTiming),{backgroundColor:"transparent"===e._opts.wmode?"transparent":e.playerBackgroundColor(),controls:e._inNativeMode(),duration:e._mediaData.duration,hashedId:e.hashedId(),height:e.videoHeight(),layoutTiming:s,loop:"loop"===e._opts.endVideoBehavior,muted:e._muted,playsinline:!0,preload:this._preloadPreference,qualityMax:e._attrs.qualityMax,qualityMin:e._attrs.qualityMin,savedBandwidth:n,secondaryMediaData:i,silentAutoPlay:e._opts.silentAutoPlay,trimEnd:e._opts.trimEnd,trimStart:e._opts.trimStart,videoQuality:t,volume:e._volume,width:e.videoWidth()}}}]),e}(Zs.a);fa.handle="embed";var ma=function(){function t(t,e){for(var n,i=0;i<e.length;i++)n=e[i],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),ya=function(t){function e(){var t,n,i,o;Rt(this,e);for(var r=arguments.length,s=Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=i=Wt(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(s))),i.onPlay=function(){if(null==i._startedLoadingAt)return i._startedLoadingAt=Date.now(),impl.unbind},i.onProgress=function(){var t=i.impl;if(t.engine.anyBuffered())return i._firstByteReceivedAt=Date.now(),null!=i._startedLoadingAt&&(i._timeToFirstByte=i._firstByteReceivedAt-i._startedLoadingAt),t.unbind},i.onWaiting=function(t){var e=i.impl,n=e.engine.anyBuffered();i._noDataFor5Seconds||!(5<=t)||n||(i._noDataFor5Seconds=!0,_e.default.Metrics.videoCount(e,"player/no-data/5-seconds")),i._noDataFor10Seconds||!(10<=t)||n||(i._noDataFor10Seconds=!0,_e.default.Metrics.videoCount(e,"player/no-data/10-seconds")),i._noDataFor15Seconds||!(15<=t)||n||(i._noDataFor15Seconds=!0,_e.default.Metrics.videoCount(e,"player/no-data/15-seconds"))},i.onClickedPlayBeforeReady=function(){_e.default.Metrics.videoCount(i.impl,"player/clicked-play-before-ready")},o=n,Wt(i,o)}return Nt(e,t),ma(e,[{key:"init",value:function(){var t=this;this.impl.whenVideoElementInDom().then(function(){return t.doInit()})}},{key:"doInit",value:function(){var t=this.impl;t.engine&&t.engine.getPreload()&&(this._startedLoadingAt=Date.now()),this.unbinds.push(t.on("play",this.onPlay),t.on("progress",this.onProgress),t.on("waiting",this.onWaiting),t.on("clicked-play-before-ready",this.onClickedPlayBeforeReady))}}]),e}(Zs.a);ya.handle="metrics";var ga=function(){function t(t,e){for(var n,i=0;i<e.length;i++)n=e[i],
n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),va=function(t){function e(){return Vt(this,e),Ut(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return zt(e,t),ga(e,[{key:"init",value:function(){var t=this,e=this.impl;e.embedded(function(){t.bandwidthTest().isFresh()?(t._supportsHd=t.bandwidthTest().savedResult().supportsHd,t.impl.whenVideoElementInDom().then(function(){t.impl.engine.setAttributes({supportsHd:t._supportsHd})})):t.hdAsset()&&null!=!t._supportsHd&&t.unbinds.push(e.on("play",function(){return t.doBandwidthTest(),e.unbind}))})}},{key:"bandwidthTest",value:function(){return this._bandwidthTest?this._bandwidthTest:(this._bandwidthTest=new _e.default.BandwidthTest({timeoutLength:4e3,uuid:this.impl.uuid,saveKey:"vulcan.bandwidth"}),this._bandwidthTest)}},{key:"doBandwidthTest",value:function(){var t=this,e=this.impl;e.info("doBandwidthTest"),this._endBandwidthTestEarly||(this._endBandwidthTestEarly=function(){e.info("_endBandwidthTestEarly"),t.bandwidthTest().endEarly(),_e.default.Metrics.videoCount(e,"player/bandwidth_test/ended_early")});var n=["seek","pause","end","switched-to-asset-without-load"];n.map(function(n){t.unbinds.push(e.on(n,t._endBandwidthTestEarly))}),this._failBandwidthTestOnWaiting||(this._failBandwidthTestOnWaiting=function(){return e.info("_failBandwidthTestOnWaiting"),t.bandwidthTest().fail(),_e.default.Metrics.videoCount(e,"player/bandwidth_test/failed"),e.unbind}),this.unbinds.push(e.on("waiting",this._failBandwidthTestOnWaiting)),this._endBandwidthTestOnTime=function(){e.info("_endBandwidthTestOnTime"),t._supportsHd=t.bandwidthTest().supportsHd(),e.engine.setAttributes({supportsHd:!0}),t._failBandwidthTestOnWaiting&&e.unbind("waiting",t._failBandwidthTestOnWaiting),t._endBandwidthTestEarly&&n.map(function(n){e.unbind(n,t._endBandwidthTestEarly)}),_e.default.Metrics.videoCount(e,"player/bandwidth_test/ended_on_time")},this.bandwidthTest().bind("ended",this._endBandwidthTestOnTime),this.bandwidthTest().start()}},{key:"supportsHd",value:function(){return!!this.hdAsset()&&(null==this._supportsHd||this._supportsHd)}},{key:"hdAsset",value:function(){if(this._hdAsset)return this._hdAsset;var t=this.impl;return this._hdAsset=t.playableAssetInRange({width:[980,t._opts.maxHdWidth||2e3],sortBy:"width desc, bitrate desc"}),this._hdAsset}}]),e}(Zs.a);va.handle="bandwidthTest";var ba=function(){function t(t,e){for(var n,i=0;i<e.length;i++)n=e[i],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_a=_e.default.lib("player/lib/elem"),wa=_a.inUserEventContext,Aa=_e.default.lib("utilities/detect"),Ea=Aa.cachedDetect,ka=Ea(),Ca=function(t){function e(){var t,n,i,o;Gt(this,e);for(var r=arguments.length,s=Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=i=qt(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(s))),i.onEnterFullscreen=function(t){var e=i.impl;t===e.chrome?(e.info("_onEnterFullscreen"),e.trigger("before-enter-fullscreen"),i._hasBeenInFullscreen=!0,i._inFullscreen=!0,e.notFullscreen(!1),i.injectFullscreenStyles(),e.behaviors.embed.updateBackgroundColor(),e.width(_e.default.elem.width(window),{fullscreen:!0,dontChangeContainer:!0}),e.height(_e.default.elem.height(window),{fullscreen:!0,dontChangeContainer:!0}),e.engine&&e.engine.onEnterFullscreen(),e.trigger("enter-fullscreen")):e.elem().webkitDisplayingFullscreen&&(i._hasBeenInFullscreen=!0,i._inFullscreen=!0,i._nativeFullscreen=!0,e.notFullscreen(!1),e.trigger("enter-fullscreen"))},i.onCancelFullscreen=function(){var t=i.impl;i._nativeFullscreen?(i._nativeFullscreen=!1,i._inFullscreen=!1,t.notFullscreen(!0),t.trigger("cancel-fullscreen")):i._inFullscreen&&(t.info("onCancelFullscreen"),i._inFullscreen=!1,t.notFullscreen(!0),i.removeFullscreenStyles(),t.behaviors.embed.updateBackgroundColor(),t.width(i._widthBeforeFullscreen),t.height(i._heightBeforeFullscreen),t.fit(),t.engine&&t.engine.onLeaveFullscreen(),t.trigger("cancel-fullscreen"))},i.onOrientationChange=function(){var t=i.impl;if(i.fullscreenResizeToWindow(),-90===window.orientation||90===window.orientation){if("playing"!==t.state()||t.engine.isMuted())return;t.requestFullscreen()}else t.cancelFullscreen()},i.maybeAutoFullscreen=function(){i.impl._inNativeMode()&&!1===i.impl._opts.playsinline&&wa()&&!i._hasAutoFullscreened&&(i._hasAutoFullscreened=!0,i.requestFullscreen())},o=n,qt(i,o)}return Qt(e,t),ba(e,[{key:"init",value:function(){var t=this,e=this.impl;this.unbinds.push(_e.default.on("enter-fullscreen",this.onEnterFullscreen),_e.default.on("cancel-fullscreen",this.onCancelFullscreen),_e.default.elem.bind(window,"resize",function(){t.fullscreenResizeToWindow()}),e.on("playpending",this.maybeAutoFullscreen)),e.whenVideoElementInDom().then(function(){e.engine.bind("webkitbeginfullscreen",t.onEnterFullscreen),e.engine.bind("webkitendfullscreen",t.onCancelFullscreen)}),this.getIsFullscreenOnRotateToLandscape()&&(window.screen.orientation?this.unbinds.push(_e.default.elem.bind(window.screen.orientation,"change",this.onOrientationChange)):this.unbinds.push(_e.default.elem.bind(window,"orientationchange",this.onOrientationChange)))}},{key:"fullscreenResizeToWindow",value:function(){var t=this.impl;if(t.inFullscreen()&&!this._nativeFullscreen){t.debug("fullscreenResizeToWindow");var e=t.width(),n=t.height(),i=_e.default.elem.width(window),o=_e.default.elem.height(window);e!==i&&t.width(_e.default.elem.width(window),{fullscreen:!0,dontChangeContainer:!0}),n!==o&&t.height(_e.default.elem.height(window),{fullscreen:!0,dontChangeContainer:!0})}}},{key:"injectFullscreenStyles",value:function(){if(!this._fullscreenStyle){document.body.id||(this._docBodyId=_e.default.seqId("wistia_","_tmp_body_id"),document.body.setAttribute("id",this._docBodyId));var t="\n      #"+document.body.id+", #"+document.body.id+" :full-screen-ancestor {\n        animation-name: none;\n        -webkit-animation-name: none;\n        transform: none;\n        -webkit-transform: none;\n      }\n    ";["webkit","moz","ms","o"].map(function(e){t+="\n      #"+document.body.id+" :-"+e+"-full-screen-ancestor {\n        animation-name: none;\n        -webkit-animation-name: none;\n        transform: none;\n        -webkit-transform: none;\n      }\n      \n"}),this._fullscreenStyle=_e.default.css(this.impl.wrapperElem,t)}}},{key:"removeFullscreenStyles",value:function(){this._fullscreenStyle&&(this._docBodyId&&document.body.id===this._docBodyId&&(document.body.removeAttribute("id"),this._docBodyId=null),_e.default.elem.remove(this._fullscreenStyle),this._fullscreenStyle=null)}},{key:"requestFullscreen",value:function(){var t=this.impl;t.inFullscreen()||(t.info("requestFullscreen"),this._widthBeforeFullscreen=t.width(),this._heightBeforeFullscreen=t.height(),t._inNativeMode()?t.engine&&t.engine.requestFullscreen():ka.fullscreenEnabled?_e.default.elem.requestFullscreen(t.chrome):this.getAllowFakeFullscreen()?this.enterFakeFullscreen():t.engine&&("beforeplay"===t.state()&&(ka.iphone||ka.ipad)&&t.engine.play().then(function(){return t.engine.pause()}),t.engine&&t.engine.requestFullscreen()))}},{key:"cancelFullscreen",value:function(){var t=this.impl;t.inFullscreen()&&(t.info("cancelFullscreen"),t._inNativeMode()?t.engine.cancelFullscreen():ka.fullscreenEnabled?_e.default.elem.cancelFullscreen():this.getAllowFakeFullscreen()?this.cancelFakeFullscreen():t.engine.cancelFullscreen())}},{key:"getAllowFakeFullscreen",value:function(){return!this.impl._opts._inIframe&&10<=ka.ios.version&&!1!==this.impl._opts.fakeFullscreen}},{key:"getIsFullscreenOnRotateToLandscape",value:function(){if(!ka.touchScreen)return!1;if(0<ka.ios.version&&10>ka.ios.version)return!1;var t=this.impl._opts.fullscreenOnRotateToLandscape;return null==t||t}},{key:"enterFakeFullscreen",value:function(){var t=this.impl;this._widthBeforeFullscreen=t.width(),this._heightBeforeFullscreen=t.height(),this._inFakeFullscreen=!0,this._chromeParent=t.chrome.parentNode,document.body.appendChild(t.chrome),this._leftOffsetBeforeFullscreen=_e.default.util.scrollLeft(),this.onEnterFullscreen(t.chrome),this.setupFakeFullscreenBindings(),_e.default.elem.style(t.chrome,{position:"fixed",top:0,left:0,zIndex:2147483647}),_e.default.util.scrollLeft(0),t.engine&&t.engine.onEnterFullscreen()}},{key:"setupFakeFullscreenBindings",value:function(){var t=this,e=this.impl;_e.default.eventLoop.add(e.uuid+".fakefullscreen",100,function(){t.fullscreenResizeToWindow()}),this._preventDefaultForTouchMove||(this._preventDefaultForTouchMove=function(t){t.preventDefault()}),_e.default.elem.rebind(e.vulcanWrapper,"touchmove",this._preventDefaultForTouchMove)}},{key:"cancelFakeFullscreen",value:function(){var t=this.impl;this._inFakeFullscreen=!1,this.onCancelFullscreen(t.chrome),this._chromeParent&&this._chromeParent.appendChild(t.chrome),t.chrome.style.position="",_e.default.util.scrollLeft(this._leftOffsetBeforeFullscreen),_e.default.eventLoop.remove(t.uuid+".fakefullscreen"),t.engine&&t.engine.onLeaveFullscreen(),null!=this._preventDefaultForTouchMove&&_e.default.elem.unbind(t.vulcanWrapper,"touchmove",this._preventDefaultForTouchMove)}},{key:"transferStateFrom",value:function(t){var e=this,n=t.behaviors&&t.behaviors.fullscreen;if(n)for(var i in n){if(n.hasOwnProperty(i)){var o=n[i];"_"===i[0]&&"function"!=typeof o&&(this[i]=o)}n._inFullscreen&&function(){var t=e.impl;t.notFullscreen(function(){t.width(e._widthBeforeFullscreen),t.height(e._heightBeforeFullscreen)})}()}}},{key:"inFullscreen",value:function(){return!!this._inFullscreen}},{key:"inNativeFullscreen",value:function(){return!!this._nativeFullscreen}}]),e}(Zs.a);Ca.handle="fullscreen",_e.default._onFullscreenChange||(_e.default._onFullscreenChange=function(){_e.default.elem.fullscreenElement()?_e.default.trigger("enter-fullscreen",_e.default.elem.fullscreenElement()):_e.default.trigger("cancel-fullscreen")},_e.default._initializers.initFullscreenTriggers=function(){_e.default.elem.rebind(document,"mozfullscreenchange",_e.default._onFullscreenChange),_e.default.elem.rebind(document,"webkitfullscreenchange",_e.default._onFullscreenChange),_e.default.elem.rebind(document,"MSFullscreenChange",_e.default._onFullscreenChange),_e.default.elem.rebind(document,"fullscreenchange",_e.default._onFullscreenChange)},_e.default._destructors.destroyFullscreenTriggers=function(){_e.default.elem.unbind(document,"mozfullscreenchange",_e.default._onFullscreenChange),_e.default.elem.unbind(document,"webkitfullscreenchange",_e.default._onFullscreenChange),_e.default.elem.unbind(document,"MSFullscreenChange",_e.default._onFullscreenChange),_e.default.elem.unbind(document,"fullscreenchange",_e.default._onFullscreenChange)});var Pa=function(){function t(t,e){for(var n,i=0;i<e.length;i++)n=e[i],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Ta=function(t){function e(){var t,n,i,o;Kt(this,e);for(var r=arguments.length,s=Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=i=Yt(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(s))),i.onEnd=function(){"reset"===i.impl._opts.endVideoBehavior&&i.resetToFirstFrame()},o=n,Yt(i,o)}return Xt(e,t),Pa(e,[{key:"init",value:function(){this.unbinds.push(this.impl.on("end",this.onEnd))}},{key:"resetToFirstFrame",value:function(){var t=this.impl;t.info("resetToFirstFrame"),t.commandQueueOpen(function(){t.engine.reset(),t.behaviors.relayEvents.resetState()})}}]),e}(Zs.a);Ta.handle="endVideoBehavior";var Oa=n(256),Sa=function(){function t(t,e){for(var n,i=0;i<e.length;i++)n=e[i],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),xa=_e.default.lib("preact"),Ba=xa.h,Ia=xa.render,Ma=xa.Component,Da=_e.default.lib("player/translations"),Fa=Da.getTranslation,ja=_e.default.lib("utilities/detect"),La=ja.cachedDetect,Ha=_e.default.lib("player/lib/elem"),Ra=Ha.elemHasClass,Wa=Ha.elemAncestorHasClass,Na=La(),Va=function(t){function e(t){Jt(this,e);var n=Zt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.onFocus=function(){Object(kn.default)()||n.setState({isKeyboardFocused:!0})},n.onBlur=function(){n.state.isKeyboardFocused&&n.setState({isKeyboardFocused:!1})},n.onFocusIn=function(t){n.props.onFocusIn&&n.props.onFocusIn(t)},n.onFocusOut=function(t){n.props.onFocusOut&&n.props.onFocusOut(t)},n.onClick=function(t){if(Ua(t)&&t.preventDefault(),n.props.onClick)return n.props.onClick(t)},n.onTouchEnd=function(t){if(n.props.onTouchEnd)return n.props.onTouchEnd(t)},n.state={areControlsOpaque:t.shouldShowControls,areControlsDisplayNone:!t.shouldShowControls,isKeyboardFocused:!1},n}return $t(e,t),Sa(e,[{key:"componentWillReceiveProps",value:function(t){this.handleControlBarAnimation(t)}},{key:"render",value:function(){var t=this;return this.mountRefs={},Ba(nn.a,{class:"w-vulcan-v2 w-css-reset",style:this.wrapperStyle(),onFocus:this.onFocus,onBlur:this.onBlur,onFocusIn:this.props.onFocusIn,onFocusOut:this.props.onFocusOut,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,onMouseMove:this.props.onMouseMove,onClickOrTap:this.props.onClickOrTap,onDblClick:this.props.onDblClick,onSwipe:this.props.onSwipe,onPinch:this.props.onPinch,onTouchStart:this.props.onTouchStart,onTouchMove:this.props.onTouchMove,onTouchEnd:this.onTouchEnd,onClick:this.onClick,id:this.props.domId,role:"region","aria-label":this.t("TITLE"),tabindex:0},Ba("div",{class:"w-vulcan--background w-css-reset",style:this.backgroundStyle(),ref:this.props.backgroundRef},this.renderControlCells("background")),Ba("div",{class:"w-vulcan-overlays-table w-css-reset",style:this.layoutTableStyle()},Ba("div",{class:"w-vulcan-overlays--left w-css-reset",style:this.tdLeftStyle()},Ba("div",{style:this.tdLayoutInnerStyle(),class:"w-css-reset"},this.renderControlCells("left-flyout",{height:"100%",pointerEvents:"auto"}))),Ba("div",{class:"w-vulcan-overlays--center w-css-reset",style:this.tdCenterStyle()},Ba("div",{style:this.tdLayoutInnerStyle(),class:"w-css-reset"},this.renderControlCells("above-control-bar",{pointerEvents:"auto"}))),Ba("div",{class:"w-vulcan-overlays--right w-css-reset",style:this.tdRightStyle()},Ba("div",{style:this.tdLayoutInnerStyle(),class:"w-css-reset"},this.renderControlCells("right-flyout",{height:"100%",pointerEvents:"auto"})))),Ba("div",{class:"w-bottom-bar w-css-reset",style:this.bottomBarStyle(),ref:function(e){return t.bottomBar=e}},Ba("div",{class:"w-bottom-bar-upper w-css-reset",style:this.upperPlaybarStyle()},this.renderControlCells("upper-playbar",{height:"100%"})),Ba("div",{class:"w-bottom-bar-lower w-css-reset"},Ba("div",{class:"w-bottom-bar-left w-css-reset",style:this.bottomBarLeftStyle()},Ba("div",{class:"w-bottom-bar-left-inner w-css-reset",style:this.bottomBarLeftInnerStyle()},this.renderControlCells("control-bar-left",{display:"inline-block",verticalAlign:"top"}))),Ba("div",{class:"w-bottom-bar-middle w-css-reset",style:this.bottomBarMiddleStyle()},Ba("div",{class:"w-bottom-bar-middle-inner w-css-reset",style:this.bottomBarMiddleInnerStyle()},this.renderControlCells("lower-playbar",{height:"100%"}))),Ba("div",{class:"w-bottom-bar-right w-css-reset",style:this.bottomBarRightStyle()},Ba("div",{class:"w-bottom-bar-right-inner w-css-reset",style:this.bottomBarRightInnerStyle()},this.renderControlCells("control-bar-right",{display:"inline-block",verticalAlign:"top"}))))),Ba("div",{class:"w-foreground w-css-reset",style:this.foregroundStyle()},this.renderControlCells("foreground",{pointerEvents:"auto"})),Ba("div",{class:"w-focus-border",style:this.focusBorderStyle()}))}},{key:"componentDidMount",value:function(){this.props.mountRefs&&this.props.mountRefs(this.mountRefs),this.props.afterRender&&this.props.afterRender()}},{key:"componentDidUpdate",value:function(){var t=this.props.mountRefs,e=this.mountRefs,n=this.props.afterRender;setTimeout(function(){t&&t(e),n&&n()},1)}},{key:"wrapperStyle",value:function(){return{boxSizing:"border-box",cursor:this.props.inFullscreen&&!this.props.shouldShowControls?"none":"default",height:"100%",left:0,pointerEvents:this.props.inNativeMode?"none":"",position:"absolute",visibility:this.props.allMounted&&this.props.doneWaitingForPlay?"visible":"hidden",top:0,width:"100%"}}},{key:"foregroundStyle",value:function(){return{height:"100%",left:0,pointerEvents:"none",position:"absolute",top:0,width:"100%"}}},{key:"backgroundStyle",value:function(){return{height:"100%",left:0,pointerEvents:this.props.inNativeMode?"none":"",position:"absolute",top:0,width:"100%"}}},{key:"layoutTableStyle",value:function(){return{display:"table",pointerEvents:"none",position:"absolute",width:"100%"}}},{key:"tdLeftStyle",value:function(){return this.standardCellStyle(0)}},{key:"tdCenterStyle",value:function(){return this.standardCellStyle("100%")}},{key:"tdRightStyle",value:function(){return this.standardCellStyle(0)}},{key:"tdLayoutInnerStyle",value:function(){return{height:this.props.videoHeight-this.props.fullControlBarHeight+"px"}}},{key:"upperPlaybarStyle",value:function(){return"upper"===this.props.playbarMode?{display:"block",height:this.props.upperControlBarHeight}:{display:"none"}}},{key:"bottomBarStyle",value:function(){return{bottom:0,borderCollapse:"collapse",display:this.state.areControlsDisplayNone?"none":"table",height:this.props.fullControlBarHeight+"px",left:0,opacity:this.state.areControlsOpaque?1:0,pointerEvents:"none",position:"absolute",tableLayout:"auto",transition:Na.trident?"none":"opacity "+("beforeplay"===this.props.videoState?0:.2)+"s",width:"100%"}}},{key:"bottomBarLeftStyle",value:function(){return this.standardCellStyle(0)}},{key:"bottomBarLeftInnerStyle",value:function(){return this.standardInnerStyle()}},{key:"bottomBarMiddleStyle",value:function(){return this.standardCellStyle("100%")}},{key:"bottomBarMiddleInnerStyle",value:function(){return this.standardInnerStyle()}},{key:"bottomBarRightStyle",value:function(){return this.standardCellStyle(0)}},{key:"bottomBarRightInnerStyle",value:function(){return this.standardInnerStyle()}},{key:"standardCellStyle",value:function(t){return{display:"table-cell",verticalAlign:"top",position:"relative",width:t}}},{key:"standardInnerStyle",value:function(){return{height:this.props.lowerControlBarHeight,position:"relative",whiteSpace:"nowrap"}}},{key:"focusBorderStyle",value:function(){return{border:"2px solid #fff",boxSizing:"border-box",display:this.state.isKeyboardFocused?"block":"none",height:"100%",left:0,pointerEvents:"none",position:"absolute",top:0,width:"100%"}}},{key:"renderControlCells",value:function(t){var e=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return(this.props.controlsByType[t]||[]).map(function(t){var i=t.constructor.handle;return n.pointerEvents="auto",Ba(Oa.default,{mount:function(t){return e.mountRefs[i]=t},key:i,style:n,handle:i,class:"w-css-reset"})})}},{key:"handleControlBarAnimation",value:function(t){var e=this;t.shouldShowControls&&this.state.areControlsDisplayNone&&(clearTimeout(this.displayNoneTimeout),this.setState({areControlsDisplayNone:!1},function(){setTimeout(function(){e.setState({areControlsOpaque:!0})},1)})),!t.shouldShowControls&&this.state.areControlsOpaque&&this.setState({areControlsOpaque:!1},function(){clearTimeout(e.displayNoneTimeout),e.displayNoneTimeout=setTimeout(function(){e.setState({areControlsDisplayNone:!0})},Na.trident?0:200)})}},{key:"t",value:function(t){return Fa(this.props.playerLanguage,"LAYOUT_"+t)}}]),e}(Ma),Ua=function(t){return t.target&&(Ra(t.target,"w-vulcan-v2-button")||Wa(t.target,"w-vulcan-v2-button"))},za=function(){function t(t,e){for(var n,i=0;i<e.length;i++)n=e[i],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Ga=_e.default.lib("promiscuous"),qa=_e.default.lib("utilities/bindify"),Qa=qa.bindify,Ka=function(){function t(e){var n=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};te(this,t),this.dialogWillOpen=function(){return new Ga(function(t){if(n.config.dialogWillOpen){var e=n.config.dialogWillOpen();if(e&&e.then)return void e.then(t)}t()})},this.doOpen=function(){return new Ga(function(t){n._isOpen?t():(n._isOpen=!0,n._hasOpened=!0,n.ui.openDialog(n),setTimeout(t,170))})},this.dialogOpened=function(){return new Ga(function(t){n.config.dialogOpened&&n.config.dialogOpened(),t()})},this.close=function(){return n.isOpen()?n.dialogWillClose().then(n.doClose).then(n.dialogClosed):Ga.resolve()},this.dialogWillClose=function(){return new Ga(function(t){if(n.config.dialogWillClose){var e=n.config.dialogWillClose();if(e&&e.then)return void e.then(t)}t()})},this.doClose=function(){return new Ga(function(t){n._isOpen?(n._isOpen=!1,n.ui.closeDialog(n),setTimeout(t,200)):t()})},this.dialogClosed=function(){return new Ga(function(t){n.config.dialogClosed&&n.config.dialogClosed(),t()})},this.ui=e,this.config=i,this._isOpen=!1,this._hasOpened=!1}return za(t,[{key:"open",value:function(){return this.isOpen()?Ga.resolve():this.dialogWillOpen().then(this.doOpen).then(this.dialogOpened)}},{key:"isOpen",value:function(){return this._isOpen}},{key:"hasOpened",value:function(){return this._hasOpened}},{key:"resize",value:function(){this._resizeRequestedAt=Date.now(),this.ui.resizeDialog(this)}}]),t}();Qa(Ka.prototype);var Ya=Object.assign||function(t){for(var e,n=1;n<arguments.length;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Xa=function(){function t(t,e){for(var n,i=0;i<e.length;i++)n=e[i],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Ja=_e.default.lib("utilities/color"),Za=_e.default.lib("preact"),$a=Za.h,tl=Za.render,el=Za.Component,nl=_e.default.lib("utilities/detect"),il=nl.cachedDetect,ol=il(),rl=function(t){function e(t){ee(this,e);var n=ne(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.onFocus=function(t){setTimeout(function(){n.setState({isKeyboardFocused:!Object(kn.default)()}),n.props.onFocus&&n.props.onFocus(t),!Object(kn.default)()&&n.props.onKeyboardFocus&&n.props.onKeyboardFocus(t)},10)},n.onBlur=function(t){n.setState({isKeyboardFocused:!1}),n.props.onBlur&&n.props.onBlur(t)},n.onMouseEnter=function(){n.setState({isHovering:!0})},n.onMouseLeave=function(){n.setState({isHovering:!1})},n.interval=void 0,n.state={isKeyboardFocused:!1,isHovering:!1,opacity:"1.0"},n}return ie(e,t),Xa(e,[{key:"render",value:function(){var t=this,e=this.props,n=e.buttonLabel,i={class:"w-vulcan-v2-button w-css-reset w-css-reset-tree w-css-reset-button-important",style:this.buttonStyle(),"aria-label":n,title:n,onClickOrTap:e.onClickOrTap,elemRef:function(n){t.buttonElem=n,e.buttonRef&&e.buttonRef(n)}};return ol.touchScreen||(i.onFocus=this.onFocus,i.onBlur=this.onBlur,i.onMouseEnter=this.onMouseEnter,i.onMouseLeave=this.onMouseLeave),$a(nn.a,Ya({tagName:"button"},i),$a(Oa.default,{class:"w-vulcan-icon-wrapper",style:this.stubStyle(),stubRef:function(e){return t.stubRoot=e},handle:this.props.handle}))}},{key:"componentDidMount",value:function(){this.props.mount&&this.props.mount(this.stubRoot,this.anchorRoot,this.buttonElem),this.props.stubRef&&this.props.stubRef(this.stubRoot)}},{key:"createLoadingInterval",value:function(){var t=this;this.interval=setInterval(function(){var e="0.2"===t.state.opacity?"0.8":"0.2";t.setState({opacity:e})},400)}},{key:"clearLoadingInterval",value:function(){clearInterval(this.interval),this.setState({opacity:"1.0"})}},{key:"componentWillReceiveProps",value:function(t){!1===this.props.isLoading&&!0===t.isLoading?this.createLoadingInterval():!0===this.props.isLoading&&!1===t.isLoading&&this.clearLoadingInterval()}},{key:"componentDidUpdate",value:function(){var t=this;this.props.stubRef&&this.props.stubRef(this.stubRoot),ol.trident&&setTimeout(function(){t.base.style.display="inline-block",setTimeout(function(){t.base.style.display="block"},1)},1)}},{key:"rootStyle",value:function(){return{height:"100%",position:"relative",width:"100%"}}},{key:"buttonStyle",value:function(){var t=this.state,e=t.isHovering?.7:.95;return{background:new Ja(this.props.color||"#000").alpha(e).toRgba(),boxShadow:t.isKeyboardFocused?"0 0 0 2px #fff inset":"none",cursor:"pointer",height:"100%",position:"relative",width:"100%",transition:"opacity 400ms ease",opacity:t.opacity}}},{key:"stubStyle",value:function(){return{boxSizing:"border-box",height:"100%"}}}]),e}(el),sl=function(){function t(t,e){for(var n,i=0;i<e.length;i++)n=e[i],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),al=_e.default.lib("player/lib/elem"),ll=al.elemHeight,ul=al.elemWidth,cl=_e.default.lib("preact"),hl=cl.h,dl=cl.render,pl=cl.Component,fl=_e.default.lib("promiscuous"),ml=_e.default.lib("utilities/detect"),yl=ml.cachedDetect,gl=_e.default.lib("utilities/event_loop"),vl=gl.globalEventLoop,bl=_e.default.lib("utilities/seqid"),_l=yl(),wl=40,Al=function(t){function e(t){re(this,e);var n=se(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return El.call(n),n.uuid=bl(),n.state={isDisplayNone:!0,isOpaque:!1,widthInButtons:null},n}return ae(e,t),sl(e,[{key:"componentWillReceiveProps",value:function(t){this.props.resizeRequestedAt!==t.resizeRequestedAt&&this.setState({widthInButtons:null})}},{key:"componentWillUpdate",value:function(t,e){!0===e.isDisplayNone&&!1===this.state.isDisplayNone&&(this.cancelMeasurementLoop(),t.onBeforeDisplayNone&&t.onBeforeDisplayNone()),!1===e.isDisplayNone&&!0===this.state.isDisplayNone&&this.setupMeasurementLoop()}},{key:"render",value:function(){var t,e=this;return hl("div",{class:"w-anchor w-css-reset",style:this.anchorStyle()},hl("div",{class:"w-dialog w-css-reset",style:this.dialogStyle(),ref:this.dialogRefFn},hl(Oa.default,{style:this.stubStyle(),stubRef:function(t){return e.stubElem=t},handle:this.props.handle,class:"w-css-reset"}),this.props.shouldRenderDummy?hl("div",(t={class:"w-dummy-button",style:this.dummyStyle(),onFocus:this.props.onFocusDummy},oe(t,"class","w-css-reset"),oe(t,"tabindex","0"),t)):null))}},{key:"componentDidMount",value:function(){var t=this.props.mount(this.stubElem);this.mountPromise=t&&t.then&&t.catch?t:fl.resolve(),this.mountPromise.then(this.handleTransitionsAfterRender)}},{key:"componentDidUpdate",value:function(){this.mountPromise.then(this.handleTransitionsAfterRender)}},{key:"componentWillUnmount",value:function(){this.cancelMeasurementLoop()}},{key:"anchorStyle",value:function(){return{height:0,left:0,position:"absolute",top:0,width:"100%"}}},{key:"dialogStyle",value:function(){var t=this.props,e=this.state,n=0,i=null;if(null!=e.widthInButtons){i=40*e.widthInButtons*t.scale;var o=t.left+i-t.canvasWidth;0<o&&(n=-1*o)}return{background:"rgba(0,0,0,.5)",bottom:0,color:"#fff",display:e.isDisplayNone?"none":"block",left:n,lineHeight:"34px",maxHeight:t.canvasHeight+"px",opacity:e.isOpaque?1:0,overflowX:"hidden",overflowY:_l.trident?"hidden":"auto",position:"absolute",transition:_l.trident?"none":"opacity 170ms",width:null==i?null:i+"px"}}},{key:"stubStyle",value:function(){return{boxSizing:"border-box",display:"inline-block",height:"100%",verticalAlign:"bottom",width:"100%"}}},{key:"dummyStyle",value:function(){return{clip:"rect(0,0,0,0)",height:"1px",position:"absolute",top:0,width:"1px"}}},{key:"setupMeasurementLoop",value:function(){vl.add(this.uuid,500,this.measureUserElem)}},{key:"cancelMeasurementLoop",value:function(){vl.remove(this.uuid)}}]),e}(pl),El=function(){var t=this;this.dialogRefFn=function(e){t.dialogElem=e,t.props.dialogRef&&t.props.dialogRef(e)},this.handleTransitionsAfterRender=function(){var e=t.props,n=t.state;e.isOpen?(n.isDisplayNone||n.isOpaque&&null==n.widthInButtons)&&t.setState({isDisplayNone:!1},function(){t.measureUserElem(),t.setState({isOpaque:!0})}):!n.isDisplayNone&&n.isOpaque&&t.setState({isOpaque:!1},function(){clearTimeout(t.displayNoneTimeout),t.displayNoneTimeout=setTimeout(function(){t.setState({isDisplayNone:!0})},_l.trident?0:200)})},this.measureUserElem=function(){t.stubElem.style.width="";var e=ul(t.stubElem);t.stubElem.style.width="100%";var n=Math.ceil(e/(40*t.props.scale));n!==t.state.widthInButtons&&t.setState({widthInButtons:n})}},kl=function(){function t(t,e){for(var n,i=0;i<e.length;i++)n=e[i],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Cl=_e.default.lib("player/lib/elem"),Pl=Cl.elemBind,Tl=Cl.elemIsInside,Ol=Cl.elemUnbind,Sl=_e.default.lib("preact"),xl=Sl.h,Bl=Sl.render,Il=Sl.Component,Ml=function(t){function e(){var t,n,i,o;le(this,e);for(var r=arguments.length,s=Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=i=ue(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(s))),i.onClickButton=function(){var t=i.props.control;if(!1!==t.toggleDialogOnClick&&!t.constructor.toggleDialogOnHover){var e=t.dialog;e&&(e.isOpen()?e.close():e.open())}t.onClickButton&&t.onClickButton()},i.onKeyboardFocusButton=function(t){if(t.relatedTarget!==i.dummyElem){var e=i.props.control,n=e.dialog;n&&!n.isOpen()&&n.open(),e.onFocusInButton&&e.onFocusInButton(t)}},i.onBlurButton=function(t){var e=i.props.control,n=e.dialog;setTimeout(function(){var o=document.activeElement;!1===i.props.closeDialogOnFocusOut||o&&Tl(o,i.base)||!n||n.close(),e.onFocusOutButton&&e.onFocusOutButton(t)},20)},i.onMouseEnter=function(){i._isHovering=!0;var t=i.props.control;t.constructor.toggleDialogOnHover&&t.dialog.open()},i.onMouseLeave=function(t){i._isHovering=!1;var e=i.props.control;e.constructor.toggleDialogOnHover&&!i._isMouseDown&&e.dialog.close(),e.onMouseLeave&&e.onMouseLeave(t)},i.onMouseDown=function(){i._isMouseDown=!0,Pl(document,"mouseup",i.onMouseUp)},i.onMouseUp=function(){i._isMouseDown=!1,Ol(document,"mouseup",i.onMouseUp);var t=i.props.control;t.constructor.toggleDialogOnHover&&!i._isHovering&&t.dialog.close()},i.onFocusOut=function(){setTimeout(function(){var t=i.props.control;!1!==i.props.closeDialogOnFocusOut&&t.dialog&&t.dialog.isOpen()&&(!document.activeElement||!Tl(document.activeElement,i.base))&&t.dialog.close()},500)},i.onFocusDummy=function(){var t=i.props.control;t.dialog.close();var e=t.__nextControl();e&&e.buttonElement&&e.buttonElement.focus&&e.buttonElement.focus()},i.onBeforeDisplayNone=function(){var t=i.props.control;if(i.dialogElem&&document.activeElement&&Tl(document.activeElement,i.dialogElem)){var e=t.__nextControl();e&&e.buttonElement?e.buttonElement.focus():t.buttonElement.focus()}},i.dialogRefFn=function(t){i.dialogElem=t,i.props.dialogRef&&i.props.dialogRef(t)},o=n,ue(i,o)}return ce(e,t),kl(e,[{key:"render",value:function(){var t=this.props.control,e=t.mountDialog&&t.dialog&&t.dialog.hasOpened();return xl("div",{class:"w-vulcan-button-wrapper w-css-reset",style:this.wrapperStyle(),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onMouseDown:this.onMouseDown,onFocusOut:this.onFocusOut,ref:this.props.rootRef},this.renderControlBarButton(),e?this.renderControlBarDialog():null)}},{key:"componentDidMount",value:function(){var t=this.props.buttonRef;t&&t(this.buttonElem)}},{key:"componentDidUpdate",value:function(){var t=this.props.buttonRef;t&&t(this.buttonElem)}},{key:"renderControlBarButton",value:function(){var t=this,e=this.props;return xl(rl,{onClickOrTap:this.onClickButton,onKeyboardFocus:this.onKeyboardFocusButton,onBlur:this.onBlurButton,color:e.color,
buttonLabel:this.props.buttonLabel,buttonRef:function(e){return t.buttonElem=e},stubRef:e.stubRef,handle:e.control.constructor.handle,isLoading:e.control.__isDialogLoading||!1})}},{key:"renderControlBarDialog",value:function(){var t=this.props,e=t.control,n=t.videoHeight-34*t.scale;return xl(Al,{mount:function(t){return e.mountDialog(t)},left:e.props.left,top:e.props.top,canvasWidth:t.videoWidth,canvasHeight:n,scale:t.scale,isOpen:e.dialog.isOpen(),resizeRequestedAt:e.dialog._resizeRequestedAt,onFocusDummy:this.onFocusDummy,shouldRenderDummy:!!e.__nextControl(),dialogRef:this.dialogRefFn,onBeforeDisplayNone:this.onBeforeDisplayNone,handle:e.constructor.handle+"__dialog"})}},{key:"wrapperStyle",value:function(){var t=this.props.control;return{display:"inline-block",height:t.props.height,position:"relative",verticalAlign:"top",width:t.props.width}}}]),e}(Il),Dl=_e.default.lib("utilities/obj"),Fl=Dl.assign,jl={"background-attachment":"scroll","background-color":"transparent","background-image":"none","background-position":"0 0","background-repeat":"no-repeat","background-size":"100% 100%"},Ll={"box-sizing":"inherit","box-shadow":"none",color:"inherit",display:"block",float:"none",font:"inherit","font-family":"inherit","font-style":"normal","font-weight":"normal","font-size":"inherit","letter-spacing":0,"line-height":"inherit",margin:0,"max-height":"none","max-width":"none","min-height":"none","min-width":"none",padding:0,position:"static","text-decoration":"none","text-transform":"none","text-shadow":"none",transition:"none","word-wrap":"normal","-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-user-select":"none","-webkit-font-smoothing":"antialiased"},Hl={border:0,"border-radius":0,outline:"none",position:"static"},Rl=function(t){var e=[];for(var n in t){var i=t[n];e.push(n+":"+i)}return e.join(";")},Wl="\n&{font-size:14px;}\ndiv,span,ul,li,label,button,img,a,svg,p{"+Rl(Ll)+"}\na{border:0;}\np{margin:1.4em 0;}\na,span,svg{display:inline;}\nul,ol,li{"+Rl(Fl({},Ll,{"list-style-type":"none",position:"static"}))+"}\nul:before,ol:before,li:before{display:none}\nul:after,ol:after,li:after{display:none}\nlabel{"+Rl(Fl({},jl,{float:"none",outline:"none"}))+"}\nbutton{"+Rl(Fl({},jl,Hl))+"}\nimg{"+Rl(Fl({},{border:0,display:"inline-block","vertical-align":"top"},Hl))+"}\n",Nl=function(t,e,n){var i=n.indexOf("{"),o=n.substring(0,i),r=n.substring(i,n.length);return o.split(/,\s*/).map(function(n){return 0<=n.indexOf("&")?""+n.replace(/\&/g,t)+e+r:""+t+n+e+r}).join("\n")},Vl=function(t,e){return Wl.trim().split(/\n+/).map(function(n){return Nl(t,e,n)}).join("\n")},Ul=Object.assign||function(t){for(var e,n=1;n<arguments.length;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},zl=function(){function t(t,e){for(var n,i=0;i<e.length;i++)n=e[i],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Gl=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var s=o.get;return void 0===s?void 0:s.call(i)},ql=_e.default.lib("promiscuous"),Ql=_e.default.lib("utilities/seqid"),Kl=_e.default.lib("preact"),Yl=Kl.h,Xl=Kl.render,Jl=Kl.Component,Zl=_e.default.lib("player/lib/fit-control"),$l=Zl.controlMultiplierBasedOnVideo,tu=_e.default.lib("utilities/detect"),eu=tu.cachedDetect,nu=_e.default.lib("player/lib/timeout-utils"),iu=nu.doTimeout,ou=nu.clearTimeouts,ru=_e.default.lib("utilities/obj"),su=ru.assign,au=ru.clone,lu=_e.default.lib("player/lib/elem"),uu=lu.addInlineCss,cu=lu.elemBind,hu=lu.elemUnbind,du=lu.elemIsInside,pu=lu.elemOffset,fu=lu.elemRemove,mu=lu.elemStyle,yu=lu.formInputIsFocused,gu=eu(),vu=34,bu=40,_u=16,wu=function(t){function e(){var t,n,r,s;he(this,e);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];return n=r=de(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),r.onFocusIn=function(t){if(!gu.trident){if(Object(kn.default)()&&t.srcElement===r.vulcanWrapper)return void t.srcElement.blur();var e=r.isKeyboardFocused;r.isKeyboardFocused=!Object(kn.default)(),!e&&r.isKeyboardFocused&&(r.impl.trigger("focusin",t),r.maybeToggleControls(),r.impl.enterInputContext("player-focus"))}},r.onFocusOut=function(t){gu.trident||(r.isKeyboardFocused?iu(r.impl.uuid+".maybe_toggle_on_blur",function(){document.activeElement&&du(document.activeElement,r.vulcanWrapper)||(r.isKeyboardFocused=!1,r.impl.trigger("focusout",t),r.impl.exitInputContext("player-focus"),r.maybeToggleControls())},1e3):iu(r.impl.uuid+".maybe_toggle_on_blur",r.maybeToggleControls,50))},r.onMouseEnter=function(t){r.impl.trigger("mouseenter",t),r.isHovering=!0,r.maybeToggleControls(),r.impl.enterInputContext("player-mouseover")},r.onMouseLeave=function(t){r.impl.trigger("mouseleave",t),r.isHovering=!1,r.maybeToggleControls(),r.impl.exitInputContext("player-mouseover")},r.onMouseMove=function(t){if(!gu.touchScreen){var e=r.lastPageX!==t.pageX||r.lastPageY!==t.pageY;e&&(r.lastMovedMouseAt=Date.now(),r.lastPageX=t.pageX,r.lastPageY=t.pageY),r.impl.inFullscreen()&&e&&(r.maybeToggleControls(),r.shouldShowControls()&&(clearTimeout(r.maybeToggleControlsTimeout),r.maybeToggleControlsTimeout=setTimeout(r.maybeToggleControls,3e3)))}},r.onClickOrTap=function(t){r.lastMovedMouseAt=Date.now(),r.lastPageX=t.pageX,r.lastPageY=t.pageY,du(t.target,r.backgroundElem)?gu.touchScreen?("beforeplay"===r.impl.state()?r.impl.play():r.isChromeless()?r.togglePlay():gu.ios.version&&10.1>gu.ios.version?(r.tappedToHide=!1,r.impl.play()):r._areControlsVisible?r.tappedToHide=!r.tappedToHide:r.tappedToHide=!1,r.maybeToggleControls(),setTimeout(r.maybeToggleControls,3e3)):r.togglePlay():(r.tappedToHide=!1,r.maybeToggleControls(),setTimeout(r.maybeToggleControls,3e3))},r.onDblClick=function(t){if(du(t.target,r.backgroundElem)){var e=r.impl;r.impl.isControlEnabled("fullscreenButton")&&(e.inFullscreen()?e.cancelFullscreen():e.requestFullscreen())}},r.onTouchStart=function(){r._cancelSwipe=!r.impl.inFullscreen()},r.onSwipe=function(t,e){if(!r._cancelSwipe){r._swipeCtx=e;var n=r.impl,i=n.height(),o=n.width(),s=e.absYDelta/i,a=e.absXDelta/o;if(175<e.timeDelta&&(.02>s||a>s))return r._cancelSwipe=!0,void _e.default.elem.animate(n.chrome,{transform:"translate(0, 0)"},{time:200,callback:function(){_e.default.elem.animate(n.chrome,{transform:""})}});if(.02<=s&&s>a){var l=e.yDelta/i;_e.default.elem.style(n.chrome,{transform:"translate(0, "+-1*l*i+"px)"})}}},r.onPinch=function(t,e){if(r.impl.isControlEnabled("fullscreenButton")){r._pinchCtx=e;var n,s,a=r.impl;r.impl.inFullscreen()?(n=.3,s=2.5):(n=.8,s=2.5),e.pinchScale*=1>e.pinchScale?1+.5*(1-e.pinchScale):1+.25*(e.pinchScale-1);var l=i(n,o(s,e.pinchScale));_e.default.elem.style(a.chrome,{transform:"scale("+l+")"})}},r.onTouchEnd=function(){if(r.impl.isControlEnabled("fullscreenButton")){var t=r._pinchCtx,e=r._swipeCtx;r._pinchCtx=null,r._swipeCtx=null;var n=r.impl;if(t)!n.inFullscreen()&&1.5<t.pinchScale?(_e.default.elem.style(n.chrome,{transform:""}),n.requestFullscreen()):n.inFullscreen()&&.7>t.pinchScale?(_e.default.elem.style(n.chrome,{transform:""}),n.cancelFullscreen()):_e.default.elem.animate(n.chrome,{transform:"scale(1)"},{time:400,callback:function(){_e.default.elem.style(n.chrome,{transform:""})}});else if(e){var i=n.height(),o=n.width(),s=e.absYDelta/i,a=e.absXDelta/o,l=function(){_e.default.elem.style(n.chrome,{transform:""})};if(.16<s&&s>a&&500>Date.now()-e.startedAt){r._cancelSwipe=!0;var u=0<e.yDelta?-1:1;_e.default.elem.animate(n.chrome,{transform:"translate(0, "+u*i+"px)"},{time:200,callback:function(){n.cancelFullscreen(),l()}})}else r._cancelSwipe=!0,_e.default.elem.animate(n.chrome,{transform:"translate(0, 0)"},{time:200,callback:l})}}},r.maybeToggleControls=function(){if(!r._destroyed){var t=r._shouldShowControls;return r._shouldShowControls=r.shouldShowControls(),t===r._shouldShowControls?ql.resolve():r.lastRenderPromise.then(function(){return r.render()})}},r.mountRefsFn=function(t){su(r.mountRefs,t)},r.backgroundRefFn=function(t){r.backgroundElem=t},s=n,de(r,s)}var n=Math.round,i=Math.max,o=Math.min;return pe(e,t),zl(e,[{key:"init",value:function(){this.mountPromises=[],this.controls={},this.controlsByType={},this.dialogs=[],this.mountRefs={},this.buttonMountRefs={},this.lastRenderPromise=ql.resolve(),this.domId||(this.domId=Ql("w-vulcan-v2-"))}},{key:"setupBindings",value:function(){var t=this,e=this.impl;this.unbinds.push(e.on("play",function(){t.doneWaitingForPlay=!0,t.tappedToHide=!1,t.render(),gu.touchScreen&&(t.maybeToggleControls(),setTimeout(t.maybeToggleControls,3e3))}),e.on("pause",function(){gu.touchScreen&&(t.tappedToHide=!1,t.maybeToggleControls())}),e.on("playrejected",function(){t.doneWaitingForPlay=!0,t.showVideoWrapper(),t.render()}),e.on("enter-fullscreen",function(){t._scale=null,t.cachedVideoHeight=null,t.cachedVideoWidth=null,t.render(),t.maybeToggleControls()}),e.on("cancel-fullscreen",function(){t._scale=null,t.cachedVideoHeight=null,t.cachedVideoWidth=null,t.render(),t.maybeToggleControls()}),e.on("up",function(){t._scale=null,t.cachedVideoHeight=null,t.cachedVideoWidth=null,t.render()}),e.on("playerlanguagechange",function(){t.render()}),e.on("playercolorchange",function(){t.render()}),e.on("widthchange",function(){t._scale=null,t.cachedVideoWidth=null,t.render()}),e.on("heightchange",function(){t._scale=null,t.cachedVideoHeight=null,t.render()}),_e.default.on("controldefined",function(){t.render()}),cu(document,"keyup",function(n){yu()||"player-mouseover"===e.getInputContext()&&!1!==e._opts.hoverHotkeysEnabled&&32===n.keyCode&&t.togglePlay()}),cu(window,"mouseout",function(e){var n=e.relatedTarget||e.toElement;n&&"HTML"!==n.nodeName||(t.isHovering=!1,t.impl.exitInputContext("player-mouseover"))})),e.whenVideoElementInDom().then(function(){t.unbinds.push(t.impl.engine.bind("webkitplaybacktargetavailabilitychanged",function(){setTimeout(function(){t.render()},0)}))})}},{key:"render",value:function(){var t=this,e=this.impl;if(this._destroyed||!e.grid)return new ql(function(){});if(this._hasSetupBindings||(this._hasSetupBindings=!0,this.setupBindings()),this.cssResetStyle||(this.cssResetStyle=uu(e.uiContainer,this.cssResetContent())),null==this.doneWaitingForPlay){var n=e._isPlayPending&&"beforeplay"===e.state();this.doneWaitingForPlay=!n}return this.lastRenderPromise=new ql(function(n){var i=t.setupControls(),o=i.newControls,r=i.existingControls;t.setControlProps();var s=null==t._shouldShowControls?t.shouldShowControls():t._shouldShowControls;t._areControlsVisible=t._shouldShowControls,t.vulcanWrapper=Xl(Yl(Va,{afterRender:0<o.length?function(){t.afterRender(r,o,n)}:null,allMounted:t.allMounted,backgroundRef:t.backgroundRefFn,controlsByType:t.controlsByType,domId:t.domId,doneWaitingForPlay:t.doneWaitingForPlay,fullControlBarHeight:t.fullControlBarHeight(),inFullscreen:e.inFullscreen(),inNativeMode:t.inNativeMode(),lowerControlBarHeight:t.lowerControlBarHeight(),mountRefs:t.mountRefsFn,onClickOrTap:t.onClickOrTap,onDblClick:t.onDblClick,onFocusIn:t.onFocusIn,onFocusOut:t.onFocusOut,onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,onMouseMove:t.onMouseMove,onPinch:t.onPinch,onSwipe:t.onSwipe,onTouchEnd:t.onTouchEnd,onTouchStart:t.onTouchStart,playbarMode:t.playbarMode(),playerLanguage:e.playerLanguage(),shouldShowControls:s,upperControlBarHeight:t.upperControlBarHeight(),videoHeight:t.videoHeight(),videoState:e.state(),videoWidth:t.videoWidth()}),e.uiContainer,t.vulcanWrapper),0===o.length&&t.afterRender(r,o,n)})}},{key:"afterRender",value:function(t,e,n){var i=this;if(!this._destroyed&&this.impl.grid)if(this.runOnControlPropsUpdated(t),this.renderButtons(t),this.mountControls(e),this.didFirstRender)n();else{this.didFirstRender=!0;var o=new ql(function(t){return setTimeout(t,2e3)});this.allMountedPromise=ql.race([o,ql.all(this.mountPromises)]).catch(function(t){setTimeout(function(){throw t},0)}).then(function(){i.allMounted=!0,i.render().then(n)}),0===this.mountPromises.length&&n(),this.doneWaitingForPlay?this.allMountedPromise.then(function(){i.showVideoWrapper()}):(iu(this.impl.uuid+".bail_on_autoplay",function(){i.doneWaitingForPlay||(i.doneWaitingForPlay=!0,i.showVideoWrapper(),i.render())},2e3),this.showVideoWrapperAfterInitialPlay())}}},{key:"setControlProps",value:function(){var t=this,e=this.impl,i=this.videoWidth(),o=this.videoHeight(),r=this.scale(),s=e.playerLanguage(),a=this.shouldShowControls(),l=this.isChromeless(),u=this.vulcOffset=pu(e.grid.center),c=this.bottomBarOffset={left:u.left,top:u.top+this.videoHeight()-this.lowerControlBarHeight()},h=this.controlsByType["upper-playbar"]&&this.controlsByType["upper-playbar"][0];h&&(h.__prevProps=h.props,h.props={chromeless:l,scale:r,videoWidth:i,videoHeight:o,controlsAreVisible:a,playerLanguage:s,width:i,height:16*r,left:0,top:c.top});var d=0,p=0;(this.controlsByType["control-bar-left"]||[]).map(function(t){t.__prevProps=t.props,t.props={chromeless:l,scale:r,playerLanguage:s,controlsAreVisible:a,videoWidth:i,videoHeight:o,height:n((t.constructor.height||34)*r),width:n((t.constructor.width||40)*r),left:p},p+=t.props.width,d+=t.props.width}),this.leftControlWidth=p,(this.controlsByType["control-bar-right"]||[]).map(function(t){t.__prevProps=t.props,t.props={chromeless:l,scale:r,playerLanguage:s,controlsAreVisible:a,videoWidth:i,videoHeight:o,height:n((t.constructor.height||34)*r),width:n((t.constructor.width||40)*r)},d+=t.props.width});var f=0;(this.controlsByType["control-bar-right"]||[]).slice().reverse().map(function(t){f+=t.props.width,t.props.left=i-f}),this.rightControlWidth=f;var m=i-d,y=this.controlsByType["lower-playbar"]&&this.controlsByType["lower-playbar"][0];y&&(y.__prevProps=y.props,y.props={chromeless:l,scale:r,playerLanguage:s,videoWidth:i,videoHeight:o,controlsAreVisible:a,width:m,height:this.lowerControlBarHeight(),left:p}),this.lowerPlaybarControlWidth=m;var g=this.fullControlBarHeight();["background","foreground","left-flyout","above-control-bar","right-flyout"].map(function(e){(t.controlsByType[e]||[]).map(function(t){t.__prevProps=t.props,t.props={playerLanguage:s,chromeless:l,scale:r,videoHeight:o,videoWidth:i,controlBarHeight:g,controlsAreVisible:a}})});var v=this.playbarMode();h?(this.upperPlaybarControlHeight="upper"===this.playbarMode()?h.props.height||0:0,h.props.playbarMode=v):this.upperPlaybarControlHeight=0;var b=c.top+this.upperPlaybarControlHeight;this.eachButtonControl(function(t){t.props.top=b}),y&&su(y.props,{playbarMode:v,top:b})}},{key:"runOnControlPropsUpdated",value:function(t){t.forEach(function(t){if(t.constructor.type,"function"==typeof t.onControlPropsUpdated)try{t.onControlPropsUpdated(t.__prevProps||{})}catch(t){setTimeout(function(){throw t},0)}t.__prevProps=null})}},{key:"setupControls",value:function(){var t=this,e=this.impl,n=!1,i=[];for(var o in this.controls){var r=this.controls[o],s=r.constructor.shouldMount;if(e.isControlDisabled(o)||s&&!s(e.publicApi)){if(r.destroy)try{r.destroy()}catch(e){setTimeout(function(){throw e},1)}delete this.mountRefs[o],delete this.buttonMountRefs[o],delete this.controls[Eu(r)],n=!0,i.push(r),e.trigger("controldestroyed",o)}}var a=!1,l=[],u=[],c=function(n){var i=_e.default._controlDefinitions[n],o=null!=t.controls[n],r=!e.isControlDisabled(n)&&(null==i.shouldMount||i.shouldMount(e.publicApi));if(r&&o&&u.push(t.controls[n]),!o&&r){try{var s=t.controls[n]=new i(e);s.mounted=new ql(function(t){s.__didMount=function(){s.mounted.isResolved=!0,e.trigger("controlmounted",n),t()}}),l.push(s)}catch(t){setTimeout(function(){throw t},1)}a=!0}};for(var h in _e.default._controlDefinitions)c(h);if(a||n){var d={};for(var p in this.eachControl(function(t){var e=t.constructor.type;null==d[e]&&(d[e]=[]),d[e].push(t)}),d)d[p].sort(function(t,e){return(t.constructor.sortValue||0)-(e.constructor.sortValue||0)});this.controlsByType=d,e.publicApi.controls=e.controls=this.controls}return{newControls:l,existingControls:u,destroyedControls:i}}},{key:"whenControlMounted",value:function(t){var e=this;return new ql(function(n){e.controls[t]?n(e.controls[t]):e.impl.bind("controlmounted",function(i){if(i===t)return n(e.controls[t]),e.impl.unbind})})}},{key:"mountControls",value:function(t){var e=this;t.forEach(function(t){var n=t.constructor.type,i=Eu(t),o=e.mountRefs[i];if(t.__nextControl||(t.__nextControl=function(){return e.getControlAfter(t)}),t.loading||(t.loading=function(i){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return"control-bar-right"===n?e.renderButtonWithDialogLoader(t,i):e.renderHourglassLoader(i,o)}),"control-bar-left"!==n&&"control-bar-right"!==n)e.mountControl(t,function(){return t.mount(o)});else if(t.mountButton){var r=e.renderButtonWithDialog(t);e.mountControl(t,function(){return t.mountButton(r)})}else t.mount&&e.mountControl(t,function(){return t.mount(o)})})}},{key:"mountControl",value:function(t,e){try{var n=Eu(t),i=e();i&&i.then&&i.catch?(i.handle=n,this.mountPromises.push(i),i.then(function(){t.__didMount()})):t.__didMount()}catch(e){setTimeout(function(){throw e},0)}}},{key:"renderButtons",value:function(t){var e=this;t.forEach(function(t){t.mountButton&&e.renderButtonWithDialog(t)})}},{key:"renderButtonWithDialog",value:function(t){var e=this,n=Eu(t);try{t.mountDialog&&!t.dialog&&(t.dialog=new Ka(this,{dialogWillOpen:Au(t.controlDialogWillOpen,t),dialogOpened:Au(t.controlDialogOpened,t),dialogWillClose:Au(t.controlDialogWillClose,t),dialogClosed:Au(t.controlDialogClosed,t)}),this.dialogs.push(t.dialog))}catch(t){setTimeout(function(){throw t},0)}t.setButtonLabel||(t.setButtonLabel=function(n){t.__buttonLabel=n,e.renderButtonWithDialog(t)});var i;return this.buttonMountRefs[n]=Xl(Yl(Ml,Ul({},t.props,{buttonLabel:t.__buttonLabel,color:this.impl.playerColor(),key:n+"_button_and_dialog",control:t,stubRef:function(t){return i=t},buttonRef:function(e){t.buttonElement=e},closeDialogOnFocusOut:this.impl._opts.closeDialogsOnFocusOut})),this.mountRefs[n],this.buttonMountRefs[n]),i}},{key:"renderButtonWithDialogLoader",value:function(t,e){var n=this;return new ql(function(i){var o=n.impl.uuid+".loading_dialog_indicator."+Ql();iu(o,function(){n.setLoadingDialogAndRender(t,!0),gu.touchScreen?cu(document,"touchstart",function(){try{n.setLoadingDialogAndRender(t,!1)}catch(t){setTimeout(function(){throw t},0)}return i(),hu}):cu(document,"mousedown",function(){try{n.setLoadingDialogAndRender(t,!1)}catch(t){setTimeout(function(){throw t},0)}return i(),hu})},300),e.then(function(){ou(o),n.setLoadingDialogAndRender(t,!1),i()})})}},{key:"setLoadingDialogAndRender",value:function(t,e){t.__isDialogLoading=e,this.renderButtonWithDialog(t)}},{key:"renderHourglassLoader",value:function(t,e){var n=this;return new ql(function(i){var o=n.impl.uuid+".loading_indicator."+Ql();iu(o,function(){n.controls.loadingHourglass.show(e),gu.touchScreen?cu(document,"touchstart",function(){try{n.controls.loadingHourglass.hide()}catch(t){setTimeout(function(){throw t},0)}return i(),hu}):cu(document,"mousedown",function(){try{n.controls.loadingHourglass.hide()}catch(t){setTimeout(function(){throw t},0)}return i(),hu})},300),t.then(function(){ou(o),n.controls.loadingHourglass.hide(),i()})})}},{key:"eachControl",value:function(t){for(var e in this.controls)t(this.controls[e])}},{key:"eachButtonControl",value:function(t){(this.controlsByType["control-bar-left"]||[]).concat(this.controlsByType["control-bar-right"]||[]).forEach(t)}},{key:"playbarMode",value:function(){return 260>this.spaceForLowerPlaybar()?"upper":"lower"}},{key:"spaceForLowerPlaybar",value:function(){var t=0;return this.eachButtonControl(function(e){t+=e.props.width}),this.videoWidth()-t}},{key:"lowerControlBarHeight",value:function(){return n(34*this.scale())}},{key:"upperControlBarHeight",value:function(){return this.impl.isControlEnabled("upperPlaybar")&&"upper"===this.playbarMode()?n(16*this.scale()):0}},{key:"fullControlBarHeight",value:function(){var t=this.impl;return"beforeplay"===t.state()&&!t._opts.controlsVisibleOnLoad||this.isChromeless()?0:this.lowerControlBarHeight()+this.upperControlBarHeight()}},{key:"shouldShowControls",value:function(){var t,e=this.impl;return t=!this.isChromeless()&&("beforeplay"===e.state()&&this.doneWaitingForPlay?null==e._opts.controlsVisibleOnLoad||!0===e._opts.controlsVisibleOnLoad:!!this.hasRequestedControlsVisible()||(gu.touchScreen?!this.tappedToHide&&("playing"!==e.state()||this.anyDialogOpen()||this.lastMovedMouseAt&&3e3>Date.now()-this.lastMovedMouseAt&&this.lastMovedMouseAt>e.lastPlayInfo().issuedAt):!!this.anyDialogOpen()||!!this.isKeyboardFocused||!e.inFullscreen()&&this.isHovering||e.inFullscreen()&&this.lastMovedMouseAt&&3e3>Date.now()-this.lastMovedMouseAt))}},{key:"hasRequestedControlsVisible",value:function(){var t=this.impl._visibilityRequests;for(var e in t)if(t[e])return!0;return!1}},{key:"togglePlay",value:function(){var t=this.impl;"playing"===t.state()?t.pause():t.play()}},{key:"showVideoWrapperAfterInitialPlay",value:function(){var t=this;this.impl.ready(function(){var e=[t.impl._playPromise,t.impl._seekPromise].filter(function(t){return null!=t});return ql.all(e).then(function(){t.showVideoWrapper()})})}},{key:"showVideoWrapper",value:function(){mu(this.impl.videoWrapper,{clip:""})}},{key:"anyDialogOpen",value:function(){for(var t in this.controls){var e=this.controls[t];if(e.dialog&&!e.constructor.toggleDialogOnHover&&e.dialog.isOpen())return!0}return!1}},{key:"openDialog",value:function(t){this.dialogs.map(function(e){e!==t&&e.close()}),this.render()}},{key:"closeDialog",value:function(){this.render()}},{key:"resizeDialog",value:function(){this.render()}},{key:"videoWidth",value:function(){return null==this.cachedVideoWidth?this.cachedVideoWidth=this.impl.videoWidth():this.cachedVideoWidth}},{key:"videoHeight",value:function(){return null==this.cachedVideoHeight?this.cachedVideoHeight=this.impl.videoHeight():this.cachedVideoHeight}},{key:"scale",value:function(){return null==this._scale?"auto"===this.impl.controlScaling()?this._scale=o(1.3,i(.6,$l(this.impl))):this.impl.controlScaling():this._scale}},{key:"destroy",value:function(){for(var t in this.buttonMountRefs)this.buttonMountRefs.hasOwnProperty(t)&&Xl(Yl("nothing",null),this.mountRefs[t],this.buttonMountRefs[t]);this.vulcanWrapper=Xl(Yl("nothing",null),this.impl.uiContainer,this.vulcanWrapper),this.eachControl(function(t){if(t.destroy)try{t.destroy()}catch(t){setTimeout(function(){throw t},0)}}),this.unbinds.forEach(function(t){return t()}),fu(this.vulcanWrapper),fu(this.cssResetStyle),this.cssResetStyle=null;var n=_e.default.lib("preact").components;for(var i in n)n.hasOwnProperty(i)&&delete n[i];Gl(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"getControlAfter",value:function(t){var e=t.constructor.type,n=this.controlsByType[e],i=n.indexOf(t),o=n[i+1];return"control-bar-left"===e&&(!o&&this.controlsByType["lower-playbar"]&&(o=this.controlsByType["lower-playbar"][0]),!o&&this.controlsByType["control-bar-right"]&&(o=this.controlsByType["control-bar-right"][0])),o}},{key:"hasAnyVideoChromeControls",value:function(){for(var t in this.controls){if(this.controls[t].constructor.isVideoChrome)return!0}return!1}},{key:"hasRequestedChromeless",value:function(){var t=this.impl._visibilityRequests;for(var e in t)if(!1===t[e])return!0;return!1}},{key:"isChromeless",value:function(){return this.inNativeMode()||this.impl._opts.chromeless||this.hasRequestedChromeless()||!this.hasAnyVideoChromeControls()}},{key:"inNativeMode",value:function(){var t=this.impl._opts;return!0===t.nativeMode||!1===t.playsinline&&(gu.ipad||gu.iphone||gu.android)&&!/two_stroke/.test(this.impl.bestEngine())}},{key:"cssResetContent",value:function(){var t="#"+this.impl.chrome.id+" #"+this.impl.grid.wrapper.id;return"\n      "+Vl(t+" ",".w-css-reset")+"\n      "+Vl(t+" .w-css-reset-tree ","")+"\n      "+t+" .w-css-reset-max-width-none-important{max-width:none!important}\n      "+t+" .w-css-reset-button-important{border-radius:0!important;color:#fff!important;}\n    "}}]),e}(Zs.a);wu.handle="ui";var Au=function(t,e){return t?t.bind(e):null},Eu=function(t){return t.constructor.handle},ku=function(){function t(t,e){for(var n,i=0;i<e.length;i++)n=e[i],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Cu=_e.default.lib("utilities/detect"),Pu=Cu.cachedDetect,Tu=Pu(),Ou=function(t){function e(){var t,n,i,o;fe(this,e);for(var r=arguments.length,s=Array(r),a=0;a<r;a++)s[a]=arguments[a];return n=i=me(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(s))),i.onError=function(){var t=i.impl,e=t.getVideoElement();if(e&&e.error&&3===e.error.code&&/native_hls_video/.test(i.impl.bestEngine())){var n=t.lastPlayInfo().isPending;t.commandQueueOpen.clearSynchronized();var o=n?"playing":"not-playing";_e.default.Metrics.videoCount(t,"player/rebuild-non-hls-on-error/"+o),i.unbinds.push(t.on("play",function(){return _e.default.Metrics.videoCount(t,"player/rebuild-non-hls-on-error/"+o),t.unbind})),t.publicApi.fullRebuild({hls:!1,autoPlay:n&&!(Tu.ios.version&&10.1>Tu.ios.version)})}},o=n,me(i,o)}return ye(e,t),ku(e,[{key:"init",value:function(){this.unbinds.push(this.impl.on("error",this.onError))}}]),e}(Zs.a);Ou.handle="playbackErrorHandling";var Su=function(){function t(t,e){var n,i=[],o=!0,r=!1;try{for(var s,a=t[Symbol.iterator]();!((o=(s=a.next()).done)||(i.push(s.value),e&&i.length===e));o=!0);}catch(t){r=!0,n=t}finally{try{!o&&a.return&&a.return()}finally{if(r)throw n}}return i}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),xu=function(){function t(t,e){for(var n,i=0;i<e.length;i++)n=e[i],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Bu=function t(e,n,i){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,i)}if("value"in o)return o.value;var s=o.get;return void 0===s?void 0:s.call(i)},Iu=_e.default.lib("player/lib/judy"),Mu=_e.default.lib("player/lib/assets"),Du=_e.default.lib("preact"),Fu=Du.h,ju=Du.render,Lu=_e.default.lib("utilities/event_loop"),Hu=Lu.globalEventLoop,Ru=_e.default.lib("promiscuous"),Wu=_e.default.lib("player/lib/elem"),Nu=Wu.elemFromObject,Vu=Wu.elemAppend,Uu=Wu.elemBind,zu=Wu.elemAddClass,Gu=Wu.elemOffset,qu=Wu.elemRemoveClass,Qu=Wu.elemPrepend,Ku=Wu.elemStyle,Yu=Wu.elemWidth,Xu=Wu.inUserEventContext,Ju=_e.default.lib("utilities/obj");if(!_e.default.VulcanV2Player){var Zu=_e.default.Video,$u=function(t){function e(t){ge(this,e);var n=ve(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.playerType="vulcan-v2",n._enabledControls={},n._visibilityRequests={},n._playerContext=[],n._overlays={},n.setupBehaviors(),n}var n=Math.max,i=Math.min;return be(e,t),xu(e,[{key:"setupBehaviors",value:function(){this.addBehaviors([oa,va,fa,Ta,Ca,ya,sa,Ou,wu])}},{key:"removeBehaviors",value:function(){for(var t in this.behaviors)this.behaviors.hasOwnProperty(t)&&this.removeBehavior(t)}},{key:"elem",value:function(){return this.engine?this.engine.videoElem():(this._dummyVideo||(this._dummyVideo=document.createElement("video")),this._dummyVideo)}},{key:"embed",value:function(t){return this.behaviors.embed.embed(t)}},{key:"renderUI",value:function(){var t=this;return this.ui||(this.ui=this.behaviors.ui),(this.ui.lastRenderPromise||Ru.resolve()).then(function(){return t.ui.render().then(function(){t.vulcanWrapper||(t.vulcanWrapper=t.ui.vulcanWrapper)})})}},{key:"rebuild",value:function(){return this.behaviors.embed.rebuild(this)}},{key:"onDimensionChangeSafe",value:function(){if(this.grid)try{this.onWidthChange(this.videoWidth()),this.onHeightChange(this.videoHeight())}catch(t){this.error(t)}}},{key:"transferStateFrom",value:function(t){this.behaviors.fullscreen&&this.behaviors.fullscreen.transferStateFrom(t)}},{key:"bestEngine",value:function(){return Iu.bestUsableEngine(this.publicApi.judyCtx(),this._mediaData,this._opts)}},{key:"initEngineAfterEmbedded",value:function(){var t=this;this.embedded(function(){return t.behaviors.embed.initializeEngine()})}},{key:"setupBindings",value:function(){this.setupVideoBindings()}},{key:"setupVideoBindings",value:function(){var t=this;this.publicApi.bind("click",function(){t.initEngineAfterEmbedded()}),this.publicApi.bind("mouseenter",function(){t.initEngineAfterEmbedded()}),this.publicApi.bind("focusin",function(){t.initEngineAfterEmbedded()}),this.bind("widthchange",function(e){t.onWidthChange(e)}),this.bind("heightchange",function(e){t.onHeightChange(e)})}},{key:"addBehavior",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];null==this.behaviors&&(this.behaviors={});var n=t.handle;if(!n)return void this.error("No handle defined for",t);this.behaviors[n]&&(this.behaviors[n].destroy(),this.behaviors[n]=null);try{var i=this.behaviors[n]=new t(this);return e&&i.init(),i}catch(e){setTimeout(function(){throw e},0),delete this.behaviors[n]}}},{key:"addBehaviors",value:function(t){var e=this,n=t.map(function(t){return e.addBehavior(t,!1)});return n.map(function(t){try{t.init()}catch(n){e.error("error in init for",t.constructor.handle,"behavior"),setTimeout(function(){throw n},0)}}),n}},{key:"removeBehavior",value:function(t){this.behaviors[t]&&(this.behaviors[t].destroy(),delete this.behaviors[t])}},{key:"isMediaDataUsingEmbedSsl",value:function(){for(var t,e=0;e<this._mediaData.assets.length;e++)if(t=this._mediaData.assets[e],t.url&&/embed-ssl\.wistia\.com/.test(t.url))return!0;return!1}},{key:"onWidthChange",value:function(t){this.engine&&this.engine.onWidthChange(t)}},{key:"onHeightChange",value:function(t){this.engine&&this.engine.onHeightChange(t)}},{key:"controlScaling",value:function(t){if(null==t)return this._controlScaling||"auto";var e=this._controlScaling;this._controlScaling=t,e!==t&&this.trigger("controlscalingchange",t,e)}},{key:"bigPlayButtonEnabled",value:function(t){this.setControlEnabled("bigPlayButton",t)}},{key:"bigPlayButtonTimeEnabled",value:function(t){this.isControlEnabled("bigPlayButton")&&this.ui.controls.bigPlayButton.setTimeEnabled(t)}},{key:"smallPlayButtonEnabled",value:function(t){this.setControlEnabled("smallPlayButton",t)}},{key:"playbarControlEnabled",value:function(t){this.setControlEnabled("lowerPlaybar",t),this.setControlEnabled("upperPlaybar",t)}},{key:"settingsControlEnabled",value:function(t){this.setControlEnabled("settingsButton",t)}},{key:"playbackRateControlEnabled",value:function(t){this.isControlEnabled("settingsButton")&&this.ui.controls.settingsButton.setPlaybackRateEnabled(t)}},{key:"qualityControlEnabled",value:function(t){this.isControlEnabled("settingsButton")&&this.ui.controls.settingsButton.setQualityEnabled(t)}},{key:"volumeControlEnabled",value:function(t){this.setControlEnabled("volumeButton",t)}},{key:"fullscreenButtonEnabled",value:function(t){this.setControlEnabled("fullscreenButton",t)}},{key:"hideControls",value:function(){return this.ui.releaseControls("showControls")}},{key:"showControls",value:function(){return this.requestControls("showControls",4e3)}},{key:"requestChromeless",value:function(t,e){return this.requestControls(t,e,!1)}},{key:"releaseChromeless",value:function(t){return this.releaseControls(t)}},{key:"requestControls",value:function(t,e){var n=this,i=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];return this._visibilityRequests[t]=i,null!=e&&_e.default.timeout(this.uuid+"."+t+".release_controls",function(){n.releaseControls(t)},e),this.ui.maybeToggleControls()}},{
key:"releaseControls",value:function(t){return this._visibilityRequests[t]=null,this.ui.maybeToggleControls()}},{key:"fit",value:function(){var t=this;Bu(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"fit",this).call(this),this.embedded(function(){t.correctForIntegers()})}},{key:"correctForIntegers",value:function(){this._mediaData.secondaryMediaData||Bu(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"correctForIntegers",this).call(this)}},{key:"getBuffered",value:function(){if(!this.engine)return[];if(this.engine.activeBufferRange()){var t=this.engine.activeBufferRange(),e=Su(t,2);return[{start:e[0],end:e[1]}]}return[]}},{key:"rangeBuffered",value:function(){this.engine.activeBufferRange()}},{key:"timeBuffered",value:function(){var t=this.rangeBuffered();return t?t[1]-t[0]:0}},{key:"totalBuffered",value:function(){return this.engine?this.engine.totalBuffered():0}},{key:"totalPlayed",value:function(){return this.engine?this.engine.totalPlayed():0}},{key:"sequentialBufferedRange",value:function(){return this.engine?this.engine.sequentialBufferedRange():[0,0]}},{key:"requestFullscreen",value:function(){return this.behaviors.fullscreen.requestFullscreen()}},{key:"cancelFullscreen",value:function(){return this.behaviors.fullscreen.cancelFullscreen()}},{key:"inFullscreen",value:function(){return this.behaviors.fullscreen.inFullscreen()}},{key:"stopStreaming",value:function(){this.info("stopStreaming"),this.engine&&this.engine.stopStreaming()}},{key:"cleanup",value:function(){this.info("cleanup"),this.removeBehaviors()}},{key:"assetOptions",value:function(){return this.engine.selectableAssets()}},{key:"videoQuality",value:function(t){var e=this;return null==t?this.engine?this.engine.getCurrentQuality():"auto":(this.info("videoQuality",t),this.initEngineAfterEmbedded(),void this.commandQueueOpen.synchronize(function(n){e.ready(function(){e.engine.changeQuality(t,"playing"===e.state()).then(n)})}))}},{key:"selectedQuality",value:function(){return this.engine?this.engine.selectedQuality():"auto"}},{key:"selectableQualities",value:function(){return this.engine?this.engine.selectableQualities():["auto"]}},{key:"stillUrl",value:function(t){return t=_e.default.obj.merge({playButton:!1},t),Bu(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"stillUrl",this).call(this,t)}},{key:"play",value:function(){var t=this;this.suppressPlay()||this.trigger("playcalled"),this.initEngineAfterEmbedded();var e=Xu()&&!this.ready();return this.info("play"),this.commandQueueOpen.synchronize(function(n){return t.suppressPlay()?void n():(t._isPlayPending=!0,t._lastPlayType=void 0,t._lastPlaySource=tc(),t._lastPlayIssuedAt=Date.now(),t._lastPlayResolvedAt=null,t._lastPlayRejectedAt=null,t.trigger("playpending",t.lastPlayInfo()),void t.ready(function(){t._calledPlay=!0,t._mozillaAtEnd()&&t.engine.setCurrentTime(0);var i={};e&&(!1===t._opts.silentAutoPlay||null==t._opts.silentAutoPlay)&&(i.silentAutoPlay="allow",t.trigger("clicked-play-before-ready"));var o=function(){t._isPlayPending=!1,t._lastPlayType=void 0,t._lastPlayRejectedAt=Date.now(),t.trigger("playrejected",t.lastPlayInfo()),n()};return _e.default.detect.ios.version&&10.1>_e.default.detect.ios.version&&!Xu()&&!t.engine.isInitializingFromUnmuted()?(t.notice("Play rejected because not in user context."),void o()):void(t._playPromise=t.engine.play(i).then(function(e){t._isPlayPending=!1,t._lastPlayType=e,t._lastPlayResolvedAt=Date.now(),"play-silently"!==e||t._inSilentPlaybackMode||(t._inSilentPlaybackMode=!0,t.trigger("silentplaybackmodechange",!0)),n()}).catch(function(e){t.notice(e),o()}))}))}),this}},{key:"pause",value:function(){var t=this;return this.info("pause"),this.trigger("receivepause"),this.initEngineAfterEmbedded(),this.commandQueueOpen.synchronize(function(e){t._isPausePending=!1,t._lastPauseSource=tc(),t._lastPauseIssuedAt=Date.now(),t.ready()?t.engine.pause().then(function(){t._isPausePending=!1,e()}):e()}),this}},{key:"time",value:function(t,e){var o=this;return null==t?this.engine&&this.engine.getCurrentTime()||0:(this.info("time",t),this.initEngineAfterEmbedded(),this.commandQueueOpen.synchronize(function(r){"beforeplay"===o.state()&&(o._lastPlaySource=tc(),o._lastPlayIssuedAt=Date.now(),o._isPlayPending=!0,o._lastPlayType=void 0,o._isPausePending=!0,o._lastPauseIssuedAt=o._lastPlayIssuedAt,o._lastPauseSource=o._lastPlaySource),t=n(0,i(o.duration(),t)),tc(),o.ready(function(){return e&&e.lazy&&"playing"!==o.state()?(o.engine.seekOnPlay(t).then(o.behaviors.relayEvents.fireTimeChangedEventsIfChanged),o._isPlayPending=!1,void r()):void("beforeplay"===o.state()?o._seekPromise=o.engine.seek(t).catch(function(e){o.notice(e),o.engine.seekOnPlay(t),o._isPlayPending=!1,r()}).then(function(t){o.behaviors.relayEvents.fireTimeChangedEventsIfChanged(),o._isPlayPending=!1,o._isPausePending=!1,o._lastPlayType=t,"play-silently"===t&&(o._inSilentPlaybackMode=!0,o.trigger("silentplaybackmodechange",!0)),r()}):(o.info("time "+t+": set immediately"),o.engine.setCurrentTime(t),o.behaviors.relayEvents.fireTimeChangedEventsIfChanged(),r()))})}),this)}},{key:"duration",value:function(){return this.engine?this.engine.getDuration():this._mediaData.duration}},{key:"volume",value:function(t){return null==t?this.engine?this.engine.getVolume():null==this._volume?1:this._volume:(this.info("volume",t),t=n(0,i(1,t)),this.initEngineAfterEmbedded(),this._volume=t,this.ready()&&this.engine.setVolume(t),this)}},{key:"mute",value:function(){this._muted=!0,this.ready()&&this.engine.mute()}},{key:"unmute",value:function(){this._muted=!1,this.ready()&&(_e.default.detect.callingPlayRequiresEventContext?"playing"!==this.state()||Xu()?(this.engine.unmute(),this._inSilentPlaybackMode&&(this._inSilentPlaybackMode=!1,this.trigger("silentplaybackmodechange",!1))):this.notice("could not unmute"):(this.engine.unmute(),this._inSilentPlaybackMode&&(this._inSilentPlaybackMode=!1,this.trigger("silentplaybackmodechange",!1))))}},{key:"isMuted",value:function(){return this.engine?this.engine.isMuted():null==this._muted?!!this._opts.muted:this._muted}},{key:"state",value:function(){if(this.engine){var t=this.engine.getPlaybackMode();return"beforeplay"===t&&this.behaviors.relayEvents._hasPlayed?"paused":t}return"beforeplay"}},{key:"lastPauseInfo",value:function(){return{source:this._lastPauseSource,issuedAt:this._lastPauseIssuedAt,isPending:!!this._isPausePending}}},{key:"lastPlayInfo",value:function(){return{source:this._lastPlaySource,issuedAt:this._lastPlayIssuedAt,isPending:!!this._isPlayPending,playType:this._lastPlayType,resolvedAt:this._lastPlayResolvedAt,rejectedAt:this._lastPlayRejectedAt}}},{key:"playerColor",value:function(t){var e=this;return null==t?this._attrs.playerColor:(this.info("playerColor",t),void this.embedded(function(){var n=e._attrs.playerColor;t=_e.default.Player._sanePlayerColor(t),e._attrs.playerColor=new _e.default.Color(t).toHex(),n!==e._attrs.playerColor&&e.trigger("playercolorchange",e._attrs.playerColor,n)}))}},{key:"playerBackgroundColor",value:function(t){if(null!=t){this.info("playerBackgroundColor",t);var e=this._attrs.playerBackgroundColor;return this._attrs.playerBackgroundColor=new _e.default.Color(t).toHex(),e!==this._attrs.playerBackgroundColor&&this.trigger("playerbackgroundcolorchange",this._attrs.playerBackgroundColor,e),this}return this._attrs.playerBackgroundColor}},{key:"width",value:function(t){var n=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return null==t?Bu(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"width",this).call(this,t,i):i.fullscreen||!this.inFullscreen()?Bu(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"width",this).call(this,t,i):(this.info("notFullscreen => width("+t+")"),this.notFullscreen(function(){Bu(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"width",n).call(n,t,i)}),this)}},{key:"height",value:function(t){var n=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return null==t?Bu(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"height",this).call(this,t,i):i.fullscreen||!this.inFullscreen()?Bu(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"height",this).call(this,t,i):(this.info("notFullscreen => height("+t+")"),this.notFullscreen(function(){Bu(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"height",n).call(n,t,i)}),this)}},{key:"videoWidth",value:function(t){var n=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return null==t?Bu(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"videoWidth",this).call(this,t,i):i.fullscreen||!this.inFullscreen()?Bu(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"videoWidth",this).call(this,t,i):(this.info("notFullscreen => videoWidth("+t+")"),this.notFullscreen(function(){Bu(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"videoWidth",n).call(n,t,i)}),this)}},{key:"videoHeight",value:function(t){var n=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return null==t?Bu(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"videoHeight",this).call(this,t,i):i.fullscreen||!this.inFullscreen()?Bu(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"videoHeight",this).call(this,t,i):(this.info("notFullscreen => videoHeight("+t+")"),this.notFullscreen(function(){Bu(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"videoHeight",n).call(n,t,i)}),this)}},{key:"playbackRate",value:function(t){var e=this;return null==t?this.engine?this.engine.getPlaybackRate():1:(this.initEngineAfterEmbedded(),this.ready(function(){e.info("playbackRate",t);var o=parseFloat(t);if(isNaN(o))return e.error("playbackRate: Invalid argument '#{rate}' given. Expected a float."),e;t=o;var r=e.engine.getPlaybackRate();e.engine.setPlaybackRate(t),e._eventLoopDuration=n(50,i(500,e._baseEventLoopDuration*t)),e._playbackRate=t,r!==e._playbackRate&&e.trigger("playbackratechange",e._playbackRate)}),this)}},{key:"trim",value:function(t){var e=this;return null==t?this.engine.getTrim():void this.embedded(function(){_e.default.obj.equalsDeep(t,e.engine.getTrim())||(e.engine.setTrim(t),e.trigger("trimchange",t))})}},{key:"captureCurrentFrame",value:function(){var t;return(t=this.engine).captureCurrentFrame.apply(t,arguments)}},{key:"getReportAProblemData",value:function(){var t=this,e=function(t){try{return t()}catch(t){return"threw exception: "+t.message}},n={media_key:this._mediaData.mediaKey,account_key:this._mediaData.accountKey,visitor_key:this.visitorKey(),event_key:this.eventKey(),referrer:document.referrer,page_url:location.href,extra_data:{first_1000_logs:_e.default.wlog.first1000LogLines(),last_1000_logs:_e.default.wlog.last1000LogLines(),browser_time:new Date,option_sources:e(function(){return t.publicApi._optionSources()}),embed_options:this.publicApi._opts,active_plugins:e(function(){return Object.keys(t.publicApi.plugin)}),assets:this._mediaData.assets,selectedAsset:this.engine.selectedAsset(),attrs:this._attrs,assetOptions:e(function(){return t.assetOptions()}),isScreencast:e(function(){return t.isScreencast()}),judy:e(function(){return Iu.report(t.publicApi.judyCtx(),t._mediaData,t._opts)}),detect:_e.default.detect,engineDiagnostics:e(function(){return t.engine.diagnosticData()})}};for(var i in this.publicApi.plugin)if("vulcanVideo"!=i){var o=this.publicApi.plugin[i];"function"==typeof o.getReportAProblemData&&(n.extra_data[i]=o.getReportAProblemData())}return n}},{key:"setControlEnabled",value:function(t,e){var n=this,i=this.isControlEnabled(t)!==e;this._enabledControls[t]=e;var o=function(){e?n.trigger("controlenabled",t):n.trigger("controldisabled",t)};return i?this.embedded()?this.renderUI().then(o):new Ru(function(t){n.embedded(t),o()}):this.ui&&this.ui.lastRenderPromise||Ru.resolve()}},{key:"isControlDisabled",value:function(t){var e=_e.default._controlDefinitions[t];return e&&e.isVideoChrome&&this._opts.chromeless||!1===this._enabledControls[t]}},{key:"isControlEnabled",value:function(t){return!1!==this._enabledControls[t]&&null!=this.publicApi.controls[t]}},{key:"whenControlMounted",value:function(t){var e=this;return new Ru(function(n){e.embedded(function(){e.behaviors.ui.whenControlMounted(t).then(n)})})}},{key:"enterInputContext",value:function(t){var e=this._playerContext.indexOf(t);0<e&&this._playerContext.splice(e,1),(-1===e||0<e)&&(this._playerContext.unshift(t),this.trigger("inputcontextchange",t))}},{key:"exitInputContext",value:function(t){var e=this.getInputContext(),n=this._playerContext.indexOf(t);this._playerContext.splice(n,1);var i=this.getInputContext();e!==i&&this.trigger("inputcontextchange",i)}},{key:"getInputContext",value:function(){return this._playerContext[0]}},{key:"getVideoElement",value:function(){return this.engine&&this.engine.videoElem()}},{key:"whenVideoElementInDom",value:function(){var t=this;return this._whenVideoElementInDom?this._whenVideoElementInDom:this.engine?void resolve(this.getVideoElement()):this._whenVideoElementInDom=new Ru(function(e){t.bind("engine-initialized",function(){return e(t.getVideoElement()),t.unbind})})}},{key:"inSilentPlaybackMode",value:function(){return!!this._inSilentPlaybackMode}},{key:"checkForReady",value:function(){this.behaviors.embed.checkForReady()}},{key:"loadOverlayCode",value:function(){var t=this,e=new _e.default.StopGo;return this.behaviors.overlays?e.go():_e.default.asyncRequire("vulcanV2Video/behaviors/OverlaysBehavior.js").then(function(n){t.behaviors.overlays||t.addBehavior(n),e.go()}),e}},{key:"defineOverlay",value:function(t,e){this.loadOverlayCode(),this._overlays[t]=e}},{key:"requestOverlay",value:function(t){var e=this;return this.loadOverlayCode().then(function(){return e.behaviors.overlays.requestOverlay(t)})}},{key:"cancelOverlay",value:function(t){var e=this;return this.loadOverlayCode().then(function(){return e.behaviors.overlays.cancelOverlay(t)})}},{key:"getOverlays",value:function(){return this._overlays}},{key:"layout",value:function(t){var e=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return null==t?this._layout:(this.whenVideoElementInDom().then(function(){e.engine.setLayout(t,n)}),void(this._layout=t))}},{key:"_inNativeMode",value:function(){return this.behaviors.ui.inNativeMode()}},{key:"_bandwidthTest",value:function(){return this.behaviors.bandwidthTest.bandwidthTest()}},{key:"_mozillaAtEnd",value:function(){return this.behaviors.relayEvents.mozillaAtEnd()}}]),e}(Zu);_e.default.VulcanV2Player=$u,_e.default.plugin("vulcanV2Video",function(){_e.default.info("vulcanV2Video no-op plugin executed")});var tc=function(){return Xu()?"user-event":"non-user-event"}}e.default=_e.default.VulcanV2Player},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(54),o=n(306)}]);